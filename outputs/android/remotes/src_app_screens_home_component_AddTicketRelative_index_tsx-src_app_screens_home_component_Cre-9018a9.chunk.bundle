(self.webpackChunkerequestApp=self.webpackChunkerequestApp||[]).push([["src_app_screens_home_component_AddTicketRelative_index_tsx-src_app_screens_home_component_Cre-9018a9"],{89142:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=r(n(32055)),s=n(21527),d=r(n(61086)),c=n(46317),f=n(7005),h=n(41995),m=n(60596),v=n(35708),y=n(20880),p=n(2884),g=n(32207),S=n(47671);t.default=function(e){var t=e.dataCard,n=e.select,r=e.onSelect,x=e.account,b=e.isView,j=e.isRadioSelect,w=e.isSelect,D=void 0!==w&&w,C=(0,p.useTranslation)().t,T=(0,s.useState)(!1),P=(0,a.default)(T,2),k=P[0],I=P[1];(0,s.useEffect)((function(){b||null==n||n.forEach((function(e){e.id===t.id&&I(!0)}))}),[]);var _=function(e){if(j)e?null==r||r([t]):null==r||r([]);else if(I(e),e)null==r||r([].concat((0,i.default)(n),[t]));else{var a=n.filter((function(e){return e.id!==t.id}));null==r||r(a)}},M=function(e,t,n){return(0,S.jsx)(l.View,{style:{backgroundColor:t,paddingHorizontal:(0,h.SizeDP)(10),paddingVertical:(0,h.SizeDP)(6),borderRadius:(0,h.SizeDP)(16),alignItems:"center",justifyContent:"center"},children:(0,S.jsx)(o.default,{style:{color:e},children:C(`TK.${n}`)})})};return(0,S.jsxs)(l.View,{style:d.default.ctnMain,children:[!b&&(0,S.jsx)(S.Fragment,{children:j?(0,S.jsx)(g.Radio,{style:{marginRight:6},checked:D,onChange:function(){return _(!D)}}):(0,S.jsx)(u.default,{checked:k,onChange:function(){return _(!k)}})}),(0,S.jsx)(f.SafeAreaView,{edges:["right"],style:{flex:1},children:(0,S.jsxs)(l.View,{style:[d.default.ctnCard,b&&{marginHorizontal:(0,h.SizeDP)(16)}],children:[(0,S.jsxs)(l.View,{style:[d.default.ctnHeader],children:[(0,S.jsxs)(l.View,{style:[d.default.ctnRow,{flex:1}],children:[(0,S.jsx)(l.View,{style:d.default.ctnImage,children:(0,S.jsx)(l.Image,{width:(0,h.SizeDP)(40),height:(0,h.SizeDP)(40),style:{borderRadius:(0,h.SizeDP)(20)},source:{uri:null!=x&&x.imageUrl?null==x?void 0:x.imageUrl:"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"}})}),(0,S.jsxs)(l.View,{style:{rowGap:(0,h.SizeDP)(6),flex:1},children:[(0,S.jsx)(o.default,{style:d.default.name,children:null==t?void 0:t.createdBy}),(0,S.jsxs)(o.default,{style:d.default.group,children:[C("CM.serviceName"),": ",null==t?void 0:t.serviceName]})]})]}),function(){switch(null==t?void 0:t.priority){case m.Propity.high:return(0,S.jsx)(c.Iconhigh,{width:(0,h.SizeDP)(16),height:(0,h.SizeDP)(16)});case m.Propity.medium:return(0,S.jsx)(c.Iconmedium,{width:(0,h.SizeDP)(16),height:(0,h.SizeDP)(16)});case m.Propity.low:return(0,S.jsx)(c.Iconlow,{width:(0,h.SizeDP)(16),height:(0,h.SizeDP)(16)})}}()]}),(0,S.jsx)(g.Divider,{}),(0,S.jsxs)(l.View,{style:[d.default.ctnTitle],children:[(0,S.jsxs)(l.View,{style:d.default.ctnRow,children:[(0,S.jsx)(o.default,{style:d.default.name,children:C("CM.titleCard")}),(0,S.jsx)(o.default,{numberOfLines:1,style:d.default.handleNewGroup,children:null==t?void 0:t.title})]}),(0,S.jsxs)(l.View,{style:d.default.ctnRow,children:[(0,S.jsx)(o.default,{style:d.default.name,children:C("CM.createDateCard")}),(0,S.jsx)(o.default,{numberOfLines:1,style:d.default.handleNewGroup,children:v.DateUtils.convertDateToDDMMYYYY_H_M(null==t?void 0:t.createdDate)})]}),(0,S.jsxs)(l.View,{style:d.default.ctnRow,children:[(0,S.jsx)(o.default,{style:d.default.name,children:C("CM.statusCard")}),function(){switch(null==t?void 0:t.ticketStatus){case m.Status.completed:return M(y.Color.completed,y.Color.completed01,m.Status.completed);case m.Status.draft:return M(y.Color.draft,y.Color.draft01,m.Status.draft);case m.Status.voided:return M(y.Color.voided,y.Color.voided01,m.Status.voided);case m.Status.rejected:return M(y.Color.rejected,y.Color.rejected01,m.Status.rejected);case m.Status.processing:return M(y.Color.processing,y.Color.processing01,m.Status.processing);case m.Status.overdue:return M(y.Color.rejected,y.Color.rejected01,m.Status.overdue)}}()]})]})]})})]})}},61086:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},ctnCard:{backgroundColor:a.Color.White,overflow:"hidden",borderRadius:(0,i.SizeDP)(10),marginVertical:(0,i.SizeDP)(12),shadowColor:a.Color.Black,shadowOffset:{width:2,height:2},shadowOpacity:.2,shadowRadius:4,elevation:4},ctnHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:(0,i.SizeDP)(16),paddingVertical:(0,i.SizeDP)(12)},ctnTitle:{paddingHorizontal:(0,i.SizeDP)(16),rowGap:(0,i.SizeDP)(16),paddingVertical:(0,i.SizeDP)(16)},ctnRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},ctnImage:{width:(0,i.SizeDP)(40),height:(0,i.SizeDP)(40),backgroundColor:"red",borderRadius:(0,i.SizeDP)(20),marginRight:(0,i.SizeDP)(12)},name:{fontFamily:a.Font.InterMedium500,color:a.Color.TextPrimary},group:{color:a.Color.Text,fontSize:i.default.FontTiny,flex:1},handleNewGroup:{color:a.Color.Text,fontSize:i.default.FontTiny,width:(0,i.SizeDP)(130),textAlign:"right"}})},32055:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var i=n(87841),a=r(n(35395)),l=r(n(24541)),o=n(32207),u=n(20880),s=n(47671);t.default=function(e){var t=e.checked,n=e.label,r=e.onChange,d=e.style,c=e.labelStyle;return(0,s.jsxs)(i.View,{style:[a.default.ctnContainer,d],children:[(0,s.jsx)(i.TouchableOpacity,{onPress:r,children:(0,s.jsx)(o.Icon,{name:t?"checkmark-square-2":"square-outline",fill:u.Color.BgPrimary,width:24,height:24})}),(0,s.jsx)(i.TouchableOpacity,{activeOpacity:1,onPress:r,children:(0,s.jsx)(l.default,{style:[a.default.txtLabel,c],children:n})})]})}},35395:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880),a=n(41995);t.default=r.StyleSheet.create({ctnContainer:{flexDirection:"row",alignItems:"center"},txtLabel:{fontSize:i.FontSize.FontSmall,fontFamily:i.Font.InterMedium500,color:i.Color.TxtCheckbox,marginStart:(0,a.SizeDP)(8)}})},85555:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(2543),l=r(n(21527)),o=n(87841),u=r(n(24541)),s=n(46317),d=n(41995),c=r(n(72431)),f=n(7005),h=n(45335),m=n(2884),v=n(47671);t.default=function(e){var t=e.listDropdown,n=e.onChangeItem,r=e.renderShowData,y=(0,m.useTranslation)().t,p=((0,f.useSafeAreaInsets)(),l.default.useState(!1)),g=(0,i.default)(p,2),S=g[0],x=g[1],b=function(e){n(e),x(!1)};return(0,v.jsx)(o.View,{style:{flexDirection:"row",justifyContent:"center"},children:(0,v.jsx)(h.Menu,{visible:S,onDismiss:function(){return x(!1)},style:{backgroundColor:"#fff",zIndex:999999999},contentStyle:{backgroundColor:"#fff",borderRadius:(0,d.SizeDP)(8)},anchor:(0,v.jsx)(o.Pressable,{style:{alignItems:"center",justifyContent:"center",padding:4},onPress:function(){x(!0)},children:(0,a.isEmpty)(r)?(0,v.jsx)(s.IconHozDot,{width:(0,d.SizeDP)(16),height:(0,d.SizeDP)(16)}):r}),children:(0,v.jsx)(o.FlatList,{style:{zIndex:999999999},data:t,renderItem:function(e){var t=e.item;return(0,v.jsx)(h.Menu.Item,{style:c.default.item,onPress:function(){return b(t)},title:(0,v.jsxs)(o.TouchableOpacity,{style:c.default.item,onPress:function(){return b(t)},children:[!(0,a.isEmpty)(t.icon)&&t.icon,t.key&&(0,v.jsx)(u.default,{children:y(`${t.key}`)})]})})},keyExtractor:function(e,t){return t.toString()}})})})}},72431:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(41995);t.default=r.StyleSheet.create({ctnListItem:{minWidth:(0,i.SizeDP)(30),position:"absolute",backgroundColor:"grey",borderRadius:(0,i.SizeDP)(8),right:(0,i.SizeDP)(20),top:(0,i.SizeDP)(20),zIndex:3},item:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:(0,i.SizeDP)(10)},overlay:{flex:1},dropdown:{position:"absolute",backgroundColor:"#fff",minWidth:(0,i.SizeDP)(30),maxWidth:(0,i.SizeDP)(200),shadowColor:"#000000",shadowRadius:4,shadowOffset:{height:4,width:0},shadowOpacity:.5,right:(0,i.SizeDP)(10),borderRadius:(0,i.SizeDP)(8)}})},65963:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=r(n(10727)),l=n(32207),o=r(n(24541)),u=n(2884),s=n(2543),d=n(47671);t.default=function(e){var t,n,r,c,f,h,m,v,y=e.placeholder,p=e.onSelect,g=e.valueSelect,S=e.listData,x=e.multiple,b=void 0!==x&&x,j=e.size,w=void 0===j?"large":j,D=e.isi18n,C=void 0!==D&&D,T=e.label,P=e.isRequired,k=void 0!==P&&P,I=e.caption,_=e.status,M=void 0===_?"primary":_,z=e.disabled,F=void 0!==z&&z,O=(0,u.useTranslation)().t,R="";g&&(R=(0,s.isArray)(g)?b?g.map((function(e){return C?O(S[e.row].label.trim()):S[e.row].label.trim()})).join(", "):C?O(null==(t=S[g[0].row])||null==(n=t.label)?void 0:n.trim()):null==(r=S[g[0].row])||null==(c=r.label)?void 0:c.trim():C?O(null==(f=S[g.row])||null==(h=f.label)?void 0:h.trim()):null==(m=S[g.row])||null==(v=m.label)?void 0:v.trim());return(0,d.jsx)(i.View,{style:a.default.container,children:(0,d.jsx)(l.Select,{label:T?function(e){return(0,d.jsxs)(o.default,Object.assign({},e,{style:a.default.textTitle,children:[T," ",k&&(0,d.jsx)(o.default,{style:{color:"#E14337"},children:"*"})]}))}:void 0,caption:I?function(e){return(0,d.jsxs)(i.View,Object.assign({},e,{style:a.default.ctnCaption,children:[(0,d.jsx)(l.Icon,{fill:"#E14337",width:14,height:14,name:"info"}),(0,d.jsx)(o.default,{style:a.default.textCaption,children:I})]}))}:void 0,disabled:F,size:w,status:M,multiSelect:b,appearance:"default",placeholder:function(e){return(0,d.jsx)(o.default,Object.assign({},e,{children:y}))},selectedIndex:g,value:R,onSelect:function(e){return p(e)},children:S&&S.map((function(e){return(0,d.jsx)(l.SelectItem,{title:function(t){return(0,d.jsx)(o.default,Object.assign({},t,{children:C?O(e.label.trim()):e.label.trim()}))}},e.value)}))})})}},10727:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({container:{backgroundColor:i.Color.White},dropdown:{height:(0,a.SizeDP)(48),borderColor:i.Color.TxtCheckbox,borderWidth:(0,a.SizeDP)(1),borderRadius:(0,a.SizeDP)(8),paddingHorizontal:(0,a.SizeDP)(8)},placeholderStyle:{fontSize:a.default.FontSmall,color:i.Color.Text055,fontFamily:i.Font.InterRegular400},selectedTextStyle:{fontSize:a.default.FontSmall,color:i.Color.Text,fontFamily:i.Font.InterRegular400},itemTextStyle:{fontSize:a.default.FontBase,color:i.Color.Text07,fontFamily:i.Font.InterRegular400},itemContainerStyle:{borderRadius:(0,a.SizeDP)(8),overflow:"hidden",borderWidth:(0,a.SizeDP)(1),borderColor:i.Color.colorBorder},iconStyle:{},inputSearchStyle:{},selectedStyle:{flexDirection:"row",justifyContent:"center",alignItems:"center",borderRadius:(0,a.SizeDP)(8),backgroundColor:"white",shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2,paddingHorizontal:(0,a.SizeDP)(12),paddingVertical:(0,a.SizeDP)(8),columnGap:(0,a.SizeDP)(16),marginTop:(0,a.SizeDP)(8),marginRight:(0,a.SizeDP)(8)},textSelectedStyle:{},textTitle:{fontSize:12,fontFamily:i.Font.InterMedium500,color:"#00204DF2",marginBottom:4,lineHeight:22},ctnCaption:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:10,marginTop:4},textCaption:{fontSize:12,fontFamily:i.Font.InterMedium500,color:"#E14337"}})},64213:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=r(n(94516)),l=r(n(4653)),o=n(47671);t.default=function(e){var t=e.onPressLeft,n=e.onPressRight,r=e.containerStyle,u=e.btnStyleLeft,s=e.btnStyleRight,d=e.labelStyleLeft,c=e.labelStyleRight,f=e.labelLeft,h=void 0===f?"left":f,m=e.labelRight,v=void 0===m?"right":m;return(0,o.jsxs)(i.View,{style:[r,l.default.ctnGroup],children:[(0,o.jsx)(a.default,{style:[l.default.btn,l.default.btnLeft,u],label:h,styleLabel:[d,l.default.labelStyleLeft],onPress:t}),(0,o.jsx)(a.default,{style:[l.default.btn,s],label:v,styleLabel:[c],onPress:n})]})}},4653:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(41995),a=n(20880);t.default=r.StyleSheet.create({ctnGroup:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,i.SizeDP)(12),backgroundColor:a.Color.White},btn:{flex:1},btnLeft:{backgroundColor:a.Color.BtnDisable},labelStyleLeft:{color:a.Color.Text}})},3120:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(29293)),l=r(n(85715)),o=n(32207),u=r(n(43184)),s=n(21527),d=r(n(66771)),c=n(87841),f=r(n(94516)),h=r(n(1217)),m=r(n(27747)),v=n(85653),y=n(2884),p=n(47671);t.default=function(e){var t=e.onClose,n=e.filter,r=e.multiple,g=e.onSelect,S=e.dataSelected,x=(0,y.useTranslation)().t,b=(0,s.useState)(""),j=(0,l.default)(b,2),w=j[0],D=j[1],C=(0,d.default)(w,500),T=(0,s.useState)([]),P=(0,l.default)(T,2),k=P[0],I=P[1],_=(0,s.useState)(S?Array.isArray(S)?S:[S]:[]),M=(0,l.default)(_,2),z=M[0],F=M[1],O=(0,s.useState)(0),R=(0,l.default)(O,2),B=R[0],V=R[1],E=(0,s.useState)(0),L=(0,l.default)(E,2),N=L[0],H=L[1],A=(0,s.useState)(!1),W=(0,l.default)(A,2),K=W[0],Y=W[1],G=(0,v.useOriginServices)();(0,s.useEffect)((function(){q(0)}),[C]);var U,q=(U=(0,a.default)((function*(e){try{var t={page:e,size:50},r=Object.assign({},n,{q:C.trim()}),a=yield G.getListAccount(r,t);a&&(I(0===e?a.data:[].concat((0,i.default)(k),(0,i.default)(a.data))),H(a.totalRecords))}catch(e){}finally{Y(!1)}})),function(e){return U.apply(this,arguments)});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff"},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",onPressIconLeft:t}),(0,p.jsx)(o.Divider,{}),(0,p.jsxs)(c.View,{style:{padding:10,flex:1},children:[(0,p.jsx)(m.default,{style:{height:30},value:w,onChangeText:D,label:x("CM.search")}),(0,p.jsx)(c.FlatList,{refreshing:K,onRefresh:function(){Y(!0),V(0),q(0)},onEndReachedThreshold:.5,onEndReached:function(){(null==k?void 0:k.length)<N&&(V(B+1),q(B+1))},style:{flex:1,marginTop:10},contentContainerStyle:{rowGap:16},data:k,renderItem:function(e){var t=e.item;return(0,p.jsx)(h.default,{listUserSelected:z,setListUserSelected:F,userData:t,multiple:r})}})]}),(0,p.jsx)(f.default,{style:{marginHorizontal:10},label:x("CM.confirm"),onPress:function(){g(r?z:z[0]),null==t||t()}})]})}},1217:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=n(87841),l=r(n(24541)),o=n(20880),u=n(12638),s=n(32207),d=n(47671);t.default=function(e){var t=e.userData,n=e.setListUserSelected,r=e.listUserSelected,c=e.multiple,f=(0,u.useAppSelector)((function(e){return e.account})).dataAccount;return(0,d.jsxs)(a.TouchableOpacity,{onPress:function(){if(c)if(null==r?void 0:r.find((function(e){return(null==e?void 0:e.email)===t.email}))){var e=null==r?void 0:r.filter((function(e){return(null==e?void 0:e.email)!==t.email}));n((0,i.default)(e))}else n([].concat((0,i.default)(r),[t]));else n([t])},disabled:t.email===f.email,style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:10,backgroundColor:t.email===f.email?"#E8E8E8":"#fff"},children:[(0,d.jsxs)(a.View,{style:{flexDirection:"row",columnGap:10,alignItems:"center"},children:[(0,d.jsx)(a.Image,{style:{width:32,height:32,borderRadius:16},source:{uri:(null==t?void 0:t.imageUrl)||o.String.DEFAULT_IMAGE}}),(0,d.jsxs)(a.View,{children:[(0,d.jsx)(l.default,{children:null==t?void 0:t.personalName}),(0,d.jsx)(l.default,{children:null==t?void 0:t.email})]})]}),r.find((function(e){return(null==e?void 0:e.email)===t.email}))&&(0,d.jsx)(s.Icon,{name:"checkmark-circle-2-outline",fill:"green",width:24,height:24})]})}},35077:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(87841),l=r(n(24541)),o=r(n(28125)),u=r(n(76644)),s=n(21527),d=r(n(3120)),c=n(47671);t.default=function(e){var t=e.label,n=e.isRequired,r=e.style,f=e.labelStyle,h=e.containerStyle,m=e.placeholder,v=e.filter,y=e.multiple,p=void 0!==y&&y,g=e.dataSelected,S=e.setDataSelected,x=(0,s.useState)(!1),b=(0,i.default)(x,2),j=b[0],w=b[1];return(0,c.jsxs)(a.View,{style:[{rowGap:10,backgroundColor:"#fff"},r],children:[(0,c.jsxs)(l.default,{style:[o.default.label,f],children:[t," ",n&&(0,c.jsx)(l.default,{style:o.default.colorRequired,children:"*"})]}),(0,c.jsx)(a.Pressable,{onPress:function(){return w(!0)},style:[o.default.container,h],children:g?p||Array.isArray(g)?p&&Array.isArray(g)?(0,c.jsx)(l.default,{numberOfLines:1,children:null==g?void 0:g.map((function(e){return null==e?void 0:e.email})).join(", ")}):void 0:(0,c.jsx)(l.default,{style:o.default.placeholderTxt,children:null==g?void 0:g.email}):(0,c.jsx)(l.default,{style:o.default.placeholderTxt,children:m})}),(0,c.jsx)(u.default,{isVisible:j,children:(0,c.jsx)(d.default,{multiple:p,filter:v,onClose:function(){return w(!1)},onSelect:S,dataSelected:g})})]})}},28125:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({label:{fontSize:14,fontFamily:i.Font.InterMedium500,color:"#00204D"},colorRequired:{color:"#E14337"},container:{borderWidth:1,borderColor:i.Color.borderColor,borderRadius:8,padding:10,backgroundColor:"#fff",flexDirection:"row",columnGap:10,alignItems:"center",height:40},placeholderTxt:{fontSize:14,fontFamily:i.Font.InterRegular400,color:i.Color.Text}})},87288:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var i=n(87841),a=r(n(93580)),l=r(n(24541)),o=n(20880),u=n(47671);t.default=function(e){var t=e.style,n=e.message,r=e.isVisible;return(0,u.jsx)(i.Modal,{visible:r,transparent:!0,style:t,children:(0,u.jsxs)(i.View,{style:a.default.ctnContainer,children:[(0,u.jsx)(i.ActivityIndicator,{size:"large",color:o.Color.White}),(0,u.jsx)(l.default,{children:n})]})})}},93580:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({ctnContainer:{flex:1,backgroundColor:i.Color.TxtCheckbox,alignItems:"center",justifyContent:"center"}})},67903:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=n(20880),l=r(n(69419)),o=n(47671);t.default=function(){return(0,o.jsx)(i.View,{style:l.default.loadingMore,children:(0,o.jsx)(i.ActivityIndicator,{size:"small",color:a.Color.BgPrimary})})}},69419:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841);t.default=r.StyleSheet.create({loadingMore:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:16}})},58943:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(21527)),a=n(55166),l=n(14740),o=r(n(71773)),u=n(47671),s=i.default.lazy((function(){return a.Federated.importModule("eBLDTApp","./ScanScreen")}));t.default=function(e){var t=e.onScannedImage;(0,l.useRoute)();return(0,u.jsx)(i.default.Suspense,{fallback:(0,u.jsx)(o.default,{app:""}),children:(0,u.jsx)(s,{onScannedImage:t})})}},79445:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=r(n(35405)),l=n(47671);t.default=function(){return(0,l.jsxs)(i.View,{style:a.default.skeletonItem,children:[(0,l.jsx)(i.View,{style:{width:40,height:40,backgroundColor:"#E4E9F2",borderRadius:8}}),(0,l.jsxs)(i.View,{style:a.default.skeletonContent,children:[(0,l.jsx)(i.View,{style:a.default.skeletonTitle}),(0,l.jsx)(i.View,{style:a.default.skeletonDescription})]})]})}},35405:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841);t.default=r.StyleSheet.create({skeletonItem:{margin:16,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:8,flex:1},skeletonContent:{flex:1,rowGap:6},skeletonTitle:{backgroundColor:"#E4E9F2",padding:8,borderRadius:4},skeletonDescription:{backgroundColor:"#E4E9F2",borderRadius:4,padding:6}})},71773:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var i=n(87841),a=n(45335),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),o=r(n(58498)),u=n(47671);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var d=i.StyleSheet.create({container:{flex:1,justifyContent:"center"},icon:{textAlign:"center"},text:{padding:(0,l.SizeDP)(16),fontSize:l.default.FontBigger,color:a.MD3Colors.primary20,textAlign:"center"},progress:{marginVertical:(0,l.SizeDP)(16),marginHorizontal:(0,l.SizeDP)(32)}});t.default=function(e){var t=e.app;return(0,u.jsx)(i.ImageBackground,{source:{uri:"https://res.cloudinary.com/de0sqyhr9/image/upload/v1745662431/background_3x_z7dvqo.png"},style:d.container,children:(0,u.jsxs)(i.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:[(0,u.jsx)(a.Text,{allowFontScaling:!1,style:d.text,children:t}),(0,u.jsx)(o.default,{style:{width:"100%",height:"90%"},source:{uri:"https://res.cloudinary.com/de0sqyhr9/image/upload/v1745663546/logo_mmwu8t.gif"},resizeMode:o.default.resizeMode.contain})]})})}},829:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(29293)),l=r(n(85715)),o=n(7005),u=r(n(43184)),s=r(n(27747)),d=n(41995),c=r(n(29846)),f=n(46317),h=r(n(69290)),m=n(21527),v=n(87841),y=r(n(24541)),p=r(n(65963)),g=n(98884),S=n(14740),x=n(2543),b=r(n(94516)),j=r(n(64213)),w=n(12638),D=r(n(89142)),C=n(32207),T=n(2884),P=n(11671),k=r(n(33254)),I=n(20880),_=n(47671);t.default=function(e){var t=e.onGoBack,n=e.paramsSelectTicket,r=e.codeChannel,M=e.checkSabeco,z=void 0!==M&&M,F=e.configFilter,O=e.inheritanceModeler,R=e.modelerId,B=e.onClose,V=(0,T.useTranslation)().t,E=(null==O?void 0:O.modelerIds)||[],L=(0,S.useNavigation)(),N=(0,m.useState)(!1),H=(0,l.default)(N,2),A=H[0],W=H[1],K=(0,m.useState)([]),Y=(0,l.default)(K,2),G=Y[0],U=Y[1],q=(0,m.useState)([]),$=(0,l.default)(q,2),J=$[0],X=$[1],Z=(0,m.useState)([]),Q=(0,l.default)(Z,2),ee=Q[0],te=Q[1],ne=(0,m.useState)([]),re=(0,l.default)(ne,2),ie=re[0],ae=re[1],le=(0,m.useState)(0),oe=(0,l.default)(le,2),ue=oe[0],se=oe[1],de=(0,m.useState)([]),ce=(0,l.default)(de,2),fe=ce[0],he=ce[1],me=(0,m.useState)(n),ve=(0,l.default)(me,2),ye=ve[0],pe=ve[1],ge=(0,m.useState)(0),Se=(0,l.default)(ge,2),xe=Se[0],be=Se[1],je=(0,m.useState)(!1),we=(0,l.default)(je,2),De=we[0],Ce=we[1],Te=(0,m.useState)(""),Pe=(0,l.default)(Te,2),ke=Pe[0],Ie=Pe[1],_e=(0,m.useState)(""),Me=(0,l.default)(_e,2),ze=Me[0],Fe=Me[1],Oe=(0,m.useState)({}),Re=(0,l.default)(Oe,2),Be=Re[0],Ve=Re[1],Ee=(0,w.useAppSelector)((function(e){return e.account})).dataAccount,Le=(0,w.useAppSelector)((function(e){return e.common.accessToken})),Ne=(0,P.useTicketServices)(),He=(0,x.debounce)((function(e){Fe(e)}),500),Ae=(0,m.useMemo)((function(){return!!F&&!!(0,x.get)(F,"dataFilter.priority")}),[F]),We=(0,m.useMemo)((function(){return!!F&&!!(0,x.get)(F,"dataFilter.ticketStatus")}),[F]),Ke=(0,m.useMemo)((function(){return!F}),[F]),Ye=(0,m.useMemo)((function(){return!!F&&!!(0,x.get)(F,"dataFilter.startDate")}),[F]),Ge=(0,m.useMemo)((function(){return!!F&&!!(0,x.get)(F,"dataFilter.endDate")}),[F]);(0,m.useEffect)((function(){if(F){var e=(0,x.get)(F,"dataFilter.priority"),t=(0,x.get)(F,"dataFilter.ticketStatus"),n=(0,x.get)(F,"dataFilter.endDate"),r=(0,x.get)(F,"dataFilter.startDate");if(e){var i=null==e?void 0:e.map((function(e){return new C.IndexPath(null==g.dataPrioritySelect?void 0:g.dataPrioritySelect.findIndex((function(t){return t.value===e})))}));ae(i)}if(t){var a=null==t?void 0:t.map((function(e){return new C.IndexPath(null==g.dataStatus?void 0:g.dataStatus.findIndex((function(t){return t.value===e})))}));X(a)}r&&Ve(Object.assign({},Be,{startDate:new Date(r)})),n&&Ve(Object.assign({},Be,{endDate:new Date(n)}))}}),[]),(0,m.useEffect)((function(){return He(ke),function(){He.cancel()}}),[ke]),(0,m.useEffect)((function(){(0,a.default)((function*(){yield Xe(xe,ze)}))()}),[xe,ze]),(0,S.useFocusEffect)((0,m.useCallback)((function(){(0,a.default)((function*(){be(0),yield Ze()}))()}),[]));var Ue,qe,$e,Je=(Ue=(0,a.default)((function*(){be(0),yield Xe(0,ze)})),function(){return Ue.apply(this,arguments)}),Xe=(qe=(0,a.default)((function*(e,t){try{var n,a,l,o,u={textSearch:z?r:t,ticketStatus:null!=(n=J.map((function(e){return g.dataStatus[e.row].value})))?n:[],service:null!=(a=null==G?void 0:G.map((function(e){var t;return null==ee||null==(t=ee[null==e?void 0:e.row])?void 0:t.value})))?a:[],priority:null!=(l=null==ie?void 0:ie.map((function(e){var t;return null==g.dataPrioritySelect||null==(t=g.dataPrioritySelect[null==e?void 0:e.row])?void 0:t.value})))?l:[],startDate:null==Be?void 0:Be.startDate,endDate:null==Be?void 0:Be.endDate,searchForSabeco:!!z,modelerId:R};if(F){var s,d,c=(0,x.get)(F,"dataFilter.priority"),f=(0,x.get)(F,"dataFilter.ticketStatus"),h=(0,x.get)(F,"dataFilter.endDate"),m=(0,x.get)(F,"dataFilter.startDate");u=Object.assign({},null==F?void 0:F.dataFilter,{priority:c||(null!=(s=null==ie?void 0:ie.map((function(e){var t;return null==g.dataPrioritySelect||null==(t=g.dataPrioritySelect[null==e?void 0:e.row])?void 0:t.value})))?s:[]),ticketStatus:f||(null!=(d=J.map((function(e){return g.dataStatus[e.row].value})))?d:[]),startDate:m||(null==Be?void 0:Be.startDate),endDate:h||(null==Be?void 0:Be.endDate),textSearch:z?r:t,modelerId:R})}var v=yield Ne.getTicketList(e,20,"createdDate,desc",Le,u);he(0===e?null==v?void 0:v.content:[].concat((0,i.default)(fe),(0,i.default)(null==v?void 0:v.content))),se(null==v||null==(o=v.page)?void 0:o.totalRecords)}catch(e){}finally{Ce(!1),W(!1)}})),function(e,t){return qe.apply(this,arguments)}),Ze=($e=(0,a.default)((function*(){try{var e=(yield Ne.getServiceMenu(0,1e4,void 0,Le,!0)).content.map((function(e){return{label:e.serviceName,value:e.id}}));te(e)}catch(e){}})),function(){return $e.apply(this,arguments)});return(0,_.jsx)(v.TouchableWithoutFeedback,{onPress:function(){return v.Keyboard.dismiss()},children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff",borderBottomWidth:1,borderBottomColor:I.Color.borderColor},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",title:V("HM.addRelativeTicket"),onPressIconLeft:B}),(0,_.jsxs)(o.SafeAreaView,{style:c.default.ctnArea,edges:["bottom"],children:[(0,_.jsxs)(v.View,{style:{backgroundColor:"#F8FAFE",paddingHorizontal:16,paddingVertical:10,flex:1},children:[(0,_.jsx)(s.default,{inputContainerStyle:{backgroundColor:"#fff"},viewIconLeft:(0,_.jsx)(f.IcSearch,{width:16,height:16}),viewIconRight:(0,_.jsx)(f.IconFilter,{width:16,height:16}),value:z?r:ke,onIconPress:function(){return W(!0)},onChangeText:Ie,label:V("HM.searchTicket")}),(0,_.jsx)(v.FlatList,{data:fe,refreshing:De,onRefresh:function(){0!==xe&&Ce(!0),be(0)},showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,contentContainerStyle:{paddingRight:(0,d.SizeDP)(2)},onEndReached:function(){fe.length<ue&&be(xe+1)},onEndReachedThreshold:.5,renderItem:function(e){var t,n=e.item;return(0,_.jsx)(D.default,{dataCard:n,onSelect:pe,select:ye,account:Ee,isRadioSelect:null==E?void 0:E.length,isSelect:(null==E?void 0:E.length)&&(null==ye||null==(t=ye[0])?void 0:t.id)===n.id})}})]}),(0,_.jsx)(v.View,{style:{backgroundColor:"#fff",paddingHorizontal:16},children:(0,_.jsx)(j.default,{containerStyle:{backgroundColor:"#fff",paddingTop:6},labelLeft:V("CM.labelCancel"),labelRight:`${V("CM.save")} (${ye.length}) ${V("HM.ticket")}`,onPressLeft:function(){return L.goBack()},onPressRight:function(){t(ye,R),B()}})})]}),(0,_.jsx)(h.default,{isVisible:A,title:V("CM.filter"),onClose:function(){return W(!1)},renderContent:(0,_.jsx)(_.Fragment,{children:!(0,x.isEmpty)(ee)&&(0,_.jsxs)(o.SafeAreaView,{style:{maxHeight:2*d.ScreenHeight/3},children:[(0,_.jsxs)(v.ScrollView,{showsVerticalScrollIndicator:!1,children:[Ke&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(y.default,{style:{marginVertical:4},children:V("HM.groupService")}),(0,_.jsx)(p.default,{onSelect:U,valueSelect:G,placeholder:V("HM.groupServiceSelect"),multiple:!0,listData:ee})]}),(0,_.jsx)(y.default,{style:{marginVertical:4},children:V("HM.priority")}),(0,_.jsx)(p.default,{onSelect:ae,valueSelect:ie,placeholder:V("HM.priotitySelect"),multiple:!0,isi18n:!0,listData:g.dataPrioritySelect,disabled:Ae}),(0,_.jsx)(y.default,{style:{marginVertical:4},children:V("HM.statusTicket")}),(0,_.jsx)(p.default,{onSelect:X,valueSelect:J,placeholder:V("HM.select"),multiple:!0,isi18n:!0,listData:g.dataStatus,disabled:We}),(0,_.jsx)(y.default,{style:{paddingVertical:(0,d.SizeDP)(10)},children:V("HM.createDate")}),(0,_.jsxs)(v.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:10},children:[(0,_.jsx)(k.default,{value:Be.startDate,onChangeDate:function(e){return Ve(Object.assign({},Be,{startDate:e?new Date(e):void 0}))},disabled:Ye}),(0,_.jsx)(C.Icon,{name:"arrow-forward-outline",width:20,height:20}),(0,_.jsx)(k.default,{value:Be.endDate,onChangeDate:function(e){return Ve(Object.assign({},Be,{endDate:e?new Date(e):void 0}))},disabled:Ge})]}),(0,_.jsx)(v.View,{style:c.default.bottom})]}),(0,_.jsx)(v.View,{style:{},children:(0,_.jsx)(b.default,{label:V("CM.save"),style:{marginTop:(0,d.SizeDP)(20)},onPress:Je})})]})})})]})})}},98884:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dataStatus=t.dataPrioritySelect=void 0;var r=n(60596);t.dataPrioritySelect=[{label:"TK.high",value:r.Propity.high},{label:"TK.medium",value:r.Propity.medium},{label:"TK.low",value:r.Propity.low}],t.dataStatus=[{label:"TK.processing",value:r.Status.processing},{label:"TK.completed",value:r.Status.completed},{label:"TK.draft",value:r.Status.draft},{label:"TK.voided",value:r.Status.voided},{label:"TK.rejected",value:r.Status.rejected},{label:"TK.overdue",value:r.Status.overdue}]},82894:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(29293)),l=r(n(85715)),o=n(7005),u=r(n(43184)),s=r(n(27747)),d=n(41995),c=r(n(29846)),f=n(46317),h=r(n(69290)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),v=n(87841),y=r(n(24541)),p=r(n(65963)),g=n(98884),S=n(14740),x=n(2543),b=r(n(94516)),j=r(n(64213)),w=n(12638),D=r(n(89142)),C=n(32207),T=n(2884),P=n(11671),k=r(n(33254)),I=n(47671);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}t.default=function(e){var t=e.route,n=(0,T.useTranslation)().t,r=null==t?void 0:t.params,_=r.onGoBack,M=r.paramsSelectTicket,z=r.codeChannel,F=r.checkSabeco,O=void 0!==F&&F,R=r.configFilter,B=r.inheritanceModeler,V=r.modelerId,E=(null==B?void 0:B.modelerIds)||[],L=(0,S.useNavigation)(),N=(0,m.useState)(!1),H=(0,l.default)(N,2),A=H[0],W=H[1],K=(0,m.useState)([]),Y=(0,l.default)(K,2),G=Y[0],U=Y[1],q=(0,m.useState)([]),$=(0,l.default)(q,2),J=$[0],X=$[1],Z=(0,m.useState)([]),Q=(0,l.default)(Z,2),ee=Q[0],te=Q[1],ne=(0,m.useState)([]),re=(0,l.default)(ne,2),ie=re[0],ae=re[1],le=(0,m.useState)(0),oe=(0,l.default)(le,2),ue=oe[0],se=oe[1],de=(0,m.useState)([]),ce=(0,l.default)(de,2),fe=ce[0],he=ce[1],me=(0,m.useState)(M),ve=(0,l.default)(me,2),ye=ve[0],pe=ve[1],ge=(0,m.useState)(0),Se=(0,l.default)(ge,2),xe=Se[0],be=Se[1],je=(0,m.useState)(!1),we=(0,l.default)(je,2),De=we[0],Ce=we[1],Te=(0,m.useState)(""),Pe=(0,l.default)(Te,2),ke=Pe[0],Ie=Pe[1],_e=(0,m.useState)(""),Me=(0,l.default)(_e,2),ze=Me[0],Fe=Me[1],Oe=(0,m.useState)({}),Re=(0,l.default)(Oe,2),Be=Re[0],Ve=Re[1],Ee=(0,w.useAppSelector)((function(e){return e.account})).dataAccount,Le=(0,w.useAppSelector)((function(e){return e.common.accessToken})),Ne=(0,P.useTicketServices)(),He=(0,x.debounce)((function(e){Fe(e)}),500),Ae=(0,m.useMemo)((function(){return!!R&&!!(0,x.get)(R,"dataFilter.priority")}),[R]),We=(0,m.useMemo)((function(){return!!R&&!!(0,x.get)(R,"dataFilter.ticketStatus")}),[R]),Ke=(0,m.useMemo)((function(){return!R}),[R]),Ye=(0,m.useMemo)((function(){return!!R&&!!(0,x.get)(R,"dataFilter.startDate")}),[R]),Ge=(0,m.useMemo)((function(){return!!R&&!!(0,x.get)(R,"dataFilter.endDate")}),[R]);(0,m.useEffect)((function(){if(R){var e=(0,x.get)(R,"dataFilter.priority"),t=(0,x.get)(R,"dataFilter.ticketStatus"),n=(0,x.get)(R,"dataFilter.endDate"),r=(0,x.get)(R,"dataFilter.startDate");if(e){var i=null==e?void 0:e.map((function(e){return new C.IndexPath(null==g.dataPrioritySelect?void 0:g.dataPrioritySelect.findIndex((function(t){return t.value===e})))}));ae(i)}if(t){var a=null==t?void 0:t.map((function(e){return new C.IndexPath(null==g.dataStatus?void 0:g.dataStatus.findIndex((function(t){return t.value===e})))}));X(a)}r&&Ve(Object.assign({},Be,{startDate:new Date(r)})),n&&Ve(Object.assign({},Be,{endDate:new Date(n)}))}}),[]),(0,m.useEffect)((function(){return He(ke),function(){He.cancel()}}),[ke]),(0,m.useEffect)((function(){(0,a.default)((function*(){yield Xe(xe,ze)}))()}),[xe,ze]),(0,S.useFocusEffect)((0,m.useCallback)((function(){(0,a.default)((function*(){be(0),yield Ze()}))()}),[]));var Ue,qe,$e,Je=(Ue=(0,a.default)((function*(){be(0),yield Xe(0,ze)})),function(){return Ue.apply(this,arguments)}),Xe=(qe=(0,a.default)((function*(e,t){try{var n,r,a,l,o={textSearch:O?z:t,ticketStatus:null!=(n=J.map((function(e){return g.dataStatus[e.row].value})))?n:[],service:null!=(r=null==G?void 0:G.map((function(e){var t;return null==ee||null==(t=ee[null==e?void 0:e.row])?void 0:t.value})))?r:[],priority:null!=(a=null==ie?void 0:ie.map((function(e){var t;return null==g.dataPrioritySelect||null==(t=g.dataPrioritySelect[null==e?void 0:e.row])?void 0:t.value})))?a:[],startDate:null==Be?void 0:Be.startDate,endDate:null==Be?void 0:Be.endDate,searchForSabeco:!!O,modelerId:V};if(R){var u,s,d=(0,x.get)(R,"dataFilter.priority"),c=(0,x.get)(R,"dataFilter.ticketStatus"),f=(0,x.get)(R,"dataFilter.endDate"),h=(0,x.get)(R,"dataFilter.startDate");o=Object.assign({},null==R?void 0:R.dataFilter,{priority:d||(null!=(u=null==ie?void 0:ie.map((function(e){var t;return null==g.dataPrioritySelect||null==(t=g.dataPrioritySelect[null==e?void 0:e.row])?void 0:t.value})))?u:[]),ticketStatus:c||(null!=(s=J.map((function(e){return g.dataStatus[e.row].value})))?s:[]),startDate:h||(null==Be?void 0:Be.startDate),endDate:f||(null==Be?void 0:Be.endDate),textSearch:O?z:t,modelerId:V})}var m=yield Ne.getTicketList(e,20,"createdDate,desc",Le,o);he(0===e?null==m?void 0:m.content:[].concat((0,i.default)(fe),(0,i.default)(null==m?void 0:m.content))),se(null==m||null==(l=m.page)?void 0:l.totalRecords)}catch(e){}finally{Ce(!1),W(!1)}})),function(e,t){return qe.apply(this,arguments)}),Ze=($e=(0,a.default)((function*(){try{var e=(yield Ne.getServiceMenu(0,1e4,void 0,Le,!0)).content.map((function(e){return{label:e.serviceName,value:e.id}}));te(e)}catch(e){}})),function(){return $e.apply(this,arguments)});return(0,I.jsx)(v.TouchableWithoutFeedback,{onPress:function(){return v.Keyboard.dismiss()},children:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(u.default,{title:n("HM.addRelativeTicket")}),(0,I.jsxs)(o.SafeAreaView,{style:c.default.ctnArea,edges:["bottom"],children:[(0,I.jsxs)(v.View,{style:{backgroundColor:"#F8FAFE",paddingHorizontal:16,paddingVertical:10,flex:1},children:[(0,I.jsx)(s.default,{inputContainerStyle:{backgroundColor:"#fff"},viewIconLeft:(0,I.jsx)(f.IcSearch,{width:16,height:16}),viewIconRight:(0,I.jsx)(f.IconFilter,{width:16,height:16}),value:O?z:ke,onIconPress:function(){return W(!0)},onChangeText:Ie,label:n("HM.searchTicket")}),(0,I.jsx)(v.FlatList,{data:fe,refreshing:De,onRefresh:function(){0!==xe&&Ce(!0),be(0)},showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,contentContainerStyle:{paddingRight:(0,d.SizeDP)(2)},onEndReached:function(){fe.length<ue&&be(xe+1)},onEndReachedThreshold:.5,renderItem:function(e){var t,n=e.item;return(0,I.jsx)(D.default,{dataCard:n,onSelect:pe,select:ye,account:Ee,isRadioSelect:null==E?void 0:E.length,isSelect:(null==E?void 0:E.length)&&(null==ye||null==(t=ye[0])?void 0:t.id)===n.id})}})]}),(0,I.jsx)(v.View,{style:{backgroundColor:"#fff",paddingHorizontal:16},children:(0,I.jsx)(j.default,{containerStyle:{backgroundColor:"#fff",paddingTop:6},labelLeft:n("CM.labelCancel"),labelRight:`${n("CM.save")} (${ye.length}) ${n("HM.ticket")}`,onPressLeft:function(){return L.goBack()},onPressRight:function(){null!=ye&&ye.length&&(_(ye,z,V),L.goBack())}})})]}),(0,I.jsx)(h.default,{isVisible:A,title:n("CM.filter"),onClose:function(){return W(!1)},renderContent:(0,I.jsx)(I.Fragment,{children:!(0,x.isEmpty)(ee)&&(0,I.jsxs)(o.SafeAreaView,{style:{maxHeight:2*d.ScreenHeight/3},children:[(0,I.jsxs)(v.ScrollView,{showsVerticalScrollIndicator:!1,children:[Ke&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(y.default,{style:{marginVertical:4},children:n("HM.groupService")}),(0,I.jsx)(p.default,{onSelect:U,valueSelect:G,placeholder:n("HM.groupServiceSelect"),multiple:!0,listData:ee})]}),(0,I.jsx)(y.default,{style:{marginVertical:4},children:n("HM.priority")}),(0,I.jsx)(p.default,{onSelect:ae,valueSelect:ie,placeholder:n("HM.priotitySelect"),multiple:!0,isi18n:!0,listData:g.dataPrioritySelect,disabled:Ae}),(0,I.jsx)(y.default,{style:{marginVertical:4},children:n("HM.statusTicket")}),(0,I.jsx)(p.default,{onSelect:X,valueSelect:J,placeholder:n("HM.select"),multiple:!0,isi18n:!0,listData:g.dataStatus,disabled:We}),(0,I.jsx)(y.default,{style:{paddingVertical:(0,d.SizeDP)(10)},children:n("HM.createDate")}),(0,I.jsxs)(v.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:10},children:[(0,I.jsx)(k.default,{value:Be.startDate,onChangeDate:function(e){return Ve(Object.assign({},Be,{startDate:e?new Date(e):void 0}))},disabled:Ye}),(0,I.jsx)(C.Icon,{name:"arrow-forward-outline",width:20,height:20}),(0,I.jsx)(k.default,{value:Be.endDate,onChangeDate:function(e){return Ve(Object.assign({},Be,{endDate:e?new Date(e):void 0}))},disabled:Ge})]}),(0,I.jsx)(v.View,{style:c.default.bottom})]}),(0,I.jsx)(v.View,{style:{},children:(0,I.jsx)(b.default,{label:n("CM.save"),style:{marginTop:(0,d.SizeDP)(20)},onPress:Je})})]})})})]})})}},29846:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(41995);t.default=r.StyleSheet.create({ctnArea:{flex:1,backgroundColor:"#fff"},bottom:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",columnGap:(0,i.SizeDP)(10),flex:1},calender:{backgroundColor:"#fff",flex:1,alignItems:"center",justifyContent:"flex-start"}})},94655:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(87841),l=n(46317),o=r(n(85739)),u=r(n(24541));n(41995);var s=n(20880),d=n(60596),c=n(21527),f=n(35708),h=n(2884),m=r(n(45001)),v=n(47671);t.default=function(e){var t=e.dataCard,n=e.onSelect,r=e.select,y=e.account,p=e.isShowTrash,g=(0,h.useTranslation)().t,S=(0,c.useState)(!1),x=(0,i.default)(S,2),b=x[0],j=x[1],w=function(e,t,n){return(0,v.jsxs)(a.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,v.jsx)(a.View,{style:{backgroundColor:t,paddingHorizontal:10,paddingVertical:6,borderRadius:8,alignItems:"center",justifyContent:"center",marginTop:6},children:(0,v.jsx)(u.default,{style:{color:e},children:g(`TK.${n}`)})}),(0,v.jsx)(a.View,{style:{flex:1}})]})};return(0,v.jsxs)(a.View,{style:o.default.ctnMain,children:[(0,v.jsxs)(a.View,{style:{rowGap:6},children:[(0,v.jsx)(u.default,{style:{fontFamily:s.Font.InterSemiBold600,fontSize:16},children:null==t?void 0:t.title}),(0,v.jsxs)(a.View,{style:o.default.ctnInfo,children:[(0,v.jsx)(u.default,{children:f.DateUtils.convertDateToDDMMYYYY_H_M(null==t?void 0:t.createdDate)}),null!=y&&y.avatar?(0,v.jsxs)(a.View,{style:o.default.ctnImage,children:[(0,v.jsx)(a.Image,{width:24,height:24,style:{borderRadius:12},source:{uri:s.String.PREFIX_IMG_BASE64+(null==y?void 0:y.avatar)}}),(0,v.jsx)(u.default,{numberOfLines:1,style:{width:150},children:null==t?void 0:t.createdBy})]}):(0,v.jsxs)(a.View,{style:o.default.ctnImage,children:[(0,v.jsx)(a.View,{style:{width:24,height:24,backgroundColor:"red",borderRadius:12,justifyContent:"center",alignItems:"center"}}),(0,v.jsx)(u.default,{style:{},children:null==t?void 0:t.createdBy})]})]}),function(){switch(null==t?void 0:t.ticketStatus){case d.Status.completed:return w(s.Color.completed,s.Color.completed01,d.Status.completed);case d.Status.draft:return w(s.Color.draft,s.Color.draft01,d.Status.draft);case d.Status.voided:return w(s.Color.voided,s.Color.voided01,d.Status.voided);case d.Status.rejected:return w(s.Color.rejected,s.Color.rejected01,d.Status.rejected);case d.Status.processing:return w(s.Color.processing,s.Color.processing01,d.Status.processing);case d.Status.overdue:return w(s.Color.rejected,s.Color.rejected01,d.Status.overdue)}}()]}),p&&(0,v.jsx)(a.TouchableOpacity,{hitSlop:15,onPress:function(){return j(!0)},children:(0,v.jsx)(l.IconTrash,{width:20,height:20})}),(0,v.jsx)(m.default,{title:g("TK.delete_relate"),content:g("TK.delete_relate_confirm"),type:"cancel",labelCancel:g("CM.labelCancel"),labelConfirm:g("CM.confirm"),isVisible:b,onClose:function(){return j(!1)},onConfirm:function(){var e=r.filter((function(e){return e.id!==t.id}));n(e)}})]})}},85739:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:(0,i.SizeDP)(16),backgroundColor:a.Color.White,borderBottomWidth:(0,i.SizeDP)(1),borderBottomColor:a.Color.borderColor},ctnImage:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:8,marginTop:8},subText:{fontSize:i.default.FontTiny},ctnInfo:{}})},9353:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.dataTiket=t.dataProrityDummy=t.convertToISO=t.FIELD_FORM_TYPE_INHERIT=void 0,t.getListComponentOfTemplate=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n;return t.forEach((function(t){r.push(t),null!=t&&t.components&&e((0,a.default)(t.components),r)})),r};var i=r(n(85715)),a=r(n(41132)),l=n(46317),o=n(60596),u=n(47671);t.dataProrityDummy=[{id:1,key:"TK.high",value:o.Propity.high,icon:(0,u.jsx)(l.Iconhigh,{width:12,height:12})},{id:2,key:"TK.medium",value:o.Propity.medium,icon:(0,u.jsx)(l.Iconmedium,{width:12,height:12})},{id:3,key:"TK.low",value:o.Propity.low,icon:(0,u.jsx)(l.Iconlow,{width:12,height:12})}],t.dataTiket=[{id:1,key:"HM.information",value:"information",icon:(0,u.jsx)(l.IconPerson,{width:20,height:20})}];t.FIELD_FORM_TYPE_INHERIT=["textField","textArea","number","password","email","phone_number","radio_button","check_box","dropdown","datepicker","upload_file","upload_img","hyperlink","table","table_advance","signature","rich_text"],t.convertToISO=function(e,t){if("string"!=typeof e||"string"!=typeof t)return null;var n=e,r="00:00:00";if(t.includes("HH")){var a=e.split(" "),l=(0,i.default)(a,2);n=l[0],r=l[1]}var o,u,s,d=n.split(/[\/\-\.]/).map(Number),c=(r||"00:00:00").split(":").map(Number),f=(0,i.default)(c,3),h=f[0],m=f[1],v=f[2];switch(t){case"DD/MM/YYYY":case"DD/MM/YYYY HH:mm:ss":var y=(0,i.default)(d,3);s=y[0],u=y[1],o=y[2];break;case"MM/DD/YYYY":case"MM/DD/YYYY HH:mm:ss":var p=(0,i.default)(d,3);u=p[0],s=p[1],o=p[2];break;case"YYYY/MM/DD":var g=(0,i.default)(d,3);o=g[0],u=g[1],s=g[2];break;case"YYYY/DD/MM HH:mm:ss":var S=(0,i.default)(d,3);o=S[0],s=S[1],u=S[2];break;default:return console.error("Unsupported format"),null}return[s,u,o,h,m,v].some(isNaN)?null:new Date(Date.UTC(o,u-1,s,h,m,v)).toISOString()}},37377:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(43693)),l=r(n(29293)),o=r(n(85715)),u=n(87841),s=r(n(43184)),d=r(n(33865)),c=n(46317),f=n(41995),h=r(n(93238)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),v=n(7005),y=n(20880),p=r(n(85555)),g=r(n(69290)),S=n(14740),x=n(2543),b=n(12638),j=r(n(24541)),w=r(n(45001)),D=r(n(27747)),C=r(n(87288)),T=r(n(94655)),P=n(2884),k=n(32207),I=n(11671),_=n(40851),M=n(88e3),z=r(n(77389)),F=r(n(76644)),O=n(58526),R=r(n(22702)),B=n(9353),V=r(n(58943)),E=n(47671);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}t.default=function(){var e,t,n,r=(0,P.useTranslation)().t,L=(0,S.useRoute)(),N=(null==L||null==(e=L.params)?void 0:e.actionTicketFrom)||"eRequest",H=(0,m.useRef)(null),A=(0,S.useNavigation)(),W=null!=(t=null==L||null==(n=L.params)?void 0:n.action)?t:"create",K=(0,m.useState)(B.dataProrityDummy[2]),Y=(0,o.default)(K,2),G=Y[0],U=Y[1],q=(0,m.useState)(),$=(0,o.default)(q,2),J=$[0],X=$[1],Z=(0,m.useState)([]),Q=(0,o.default)(Z,2),ee=Q[0],te=Q[1],ne=(0,m.useState)([]),re=(0,o.default)(ne,2),ie=re[0],ae=re[1],le=(0,m.useState)([]),oe=(0,o.default)(le,2),ue=oe[0],se=oe[1],de=(0,m.useState)({status:"processing",isSaveDraftButSubmit:!1}),ce=(0,o.default)(de,2),fe=ce[0],he=ce[1],me=(0,m.useState)([]),ve=(0,o.default)(me,2),ye=ve[0],pe=ve[1],ge=(0,m.useState)(),Se=(0,o.default)(ge,2),xe=Se[0],be=Se[1],je=(0,m.useState)(""),we=(0,o.default)(je,2),De=we[0],Ce=we[1],Te=(0,m.useState)(""),Pe=(0,o.default)(Te,2),ke=Pe[0],Ie=Pe[1],_e=(0,m.useState)(!1),Me=(0,o.default)(_e,2),ze=Me[0],Fe=Me[1],Oe=(0,m.useState)(!1),Re=(0,o.default)(Oe,2),Be=Re[0],Ve=Re[1],Ee=(0,m.useState)(!1),Le=(0,o.default)(Ee,2),Ne=(Le[0],Le[1]),He=(0,m.useState)(!1),Ae=(0,o.default)(He,2),We=(Ae[0],Ae[1]),Ke=(0,m.useState)(!1),Ye=(0,o.default)(Ke,2),Ge=Ye[0],Ue=Ye[1],qe=(0,m.useState)(!1),$e=(0,o.default)(qe,2),Je=$e[0],Xe=$e[1],Ze=(0,m.useState)(),Qe=(0,o.default)(Ze,2),et=Qe[0],tt=Qe[1],nt=(0,m.useState)(""),rt=(0,o.default)(nt,2),it=rt[0],at=rt[1],lt=(0,m.useState)(!1),ot=(0,o.default)(lt,2),ut=ot[0],st=ot[1],dt=(0,m.useState)(null),ct=(0,o.default)(dt,2),ft=ct[0],ht=ct[1],mt=(0,m.useState)(!1),vt=(0,o.default)(mt,2),yt=vt[0],pt=vt[1],gt=(0,m.useState)([]),St=(0,o.default)(gt,2),xt=St[0],bt=St[1],jt=(0,m.useState)(!1),wt=(0,o.default)(jt,2),Dt=wt[0],Ct=wt[1],Tt=(0,m.useState)(0),Pt=(0,o.default)(Tt,2),kt=Pt[0],It=Pt[1],_t=(0,m.useState)(!1),Mt=(0,o.default)(_t,2),zt=Mt[0],Ft=Mt[1],Ot=(0,m.useState)(null),Rt=(0,o.default)(Ot,2),Bt=Rt[0],Vt=Rt[1],Et=(0,I.useTicketServices)(),Lt=(0,_.useReviewServices)(),Nt=((0,u.useWindowDimensions)().width,(0,b.useAppSelector)((function(e){return e.account.dataAccount}))),Ht=(0,b.useAppSelector)((function(e){return e.common.accessToken}));(0,S.useFocusEffect)((0,m.useCallback)((function(){var e,t,n,r,i;null!=L&&null!=(e=L.params)&&e.codeChannel&&ht(null==L||null==(n=L.params)?void 0:n.codeChannel);null!=L&&null!=(t=L.params)&&t.modelerId?pt(!0):(null==L||null==(r=L.params)||null==(i=r.paramsSelectTicket)?void 0:i.length)>=0&&Ve(!0)}),[null==L?void 0:L.params])),(0,m.useEffect)((function(){var e=u.Keyboard.addListener("android"===u.Platform.OS?"keyboardDidShow":"keyboardWillShow",(function(e){It(e.endCoordinates.height)})),t=u.Keyboard.addListener("android"===u.Platform.OS?"keyboardDidHide":"keyboardWillHide",(function(e){It(0)}));return function(){e.remove(),t.remove()}}),[]),(0,m.useEffect)((function(){(0,l.default)((function*(){try{var e,t,n,r;if(Ce(""),null!=L&&null!=(e=L.params)&&null!=(t=e.dataTicket)&&t.modelerId&&(yield Zt()),null!=L&&null!=(n=L.params)&&null!=(r=n.dataTicket)&&r.id&&"create"!==W){var i=yield ln();if(i){var a;tt(i),Ce(null==i?void 0:i.title);var l=B.dataProrityDummy.find((function(e){return(null==e?void 0:e.value)===i.priority}));l&&U(l);var o=null==(a=i.formData)?void 0:a.find((function(e){return!e.userTaskId}));o&&o.formData&&be(o.version);var u=i.listRelativeTicket;u.length>0&&A.setParams(Object.assign({},null==L?void 0:L.params,{paramsSelectTicket:u}))}}}catch(e){}}))()}),[]);var At,Wt,Kt,Yt,Gt,Ut,qt,$t,Jt,Xt,Zt=(At=(0,l.default)((function*(){try{var e,t,n,r,i,a,l=yield Promise.all([Et.getModeler(null==L||null==(e=L.params)||null==(t=e.dataTicket)?void 0:t.modelerId,Ht),Et.getImplementByModelerId(null==L||null==(n=L.params)||null==(r=n.dataTicket)?void 0:r.modelerId),Et.getAclProcessByModelerId(null==L||null==(i=L.params)||null==(a=i.dataTicket)?void 0:a.modelerId)]),o=l[0];X(o),be(o.formVersion);var u=yield Et.getFormByVersion(o.formVersion);if(u){var s=u.jsonForm;"string"!=typeof s&&(s=JSON.stringify(s)),s.includes("#18032025#")&&(st(!0),Ce("OIA_Knh_Tn im bn")),nn(s)}var d=l[2].data.content,c=l[1].data;ae(c),te(d);var f=o.followerId?o.followerId.split(",").map(Number):[],h=o.managerId?o.managerId.split(",").map(Number):[],m=Array.from(new Set(f.concat(h).filter((function(e){return!c.some((function(t){return+(null==t?void 0:t.executorId)===e}))})))),v=[];o.documentId&&v.push(Et.getListDataVariableConfig(o.documentId)),m.length>0&&v.push(Lt.findUserByOrgIn(0,1e4,"",null,m));var y,p=yield Promise.all(v),g=[];o.documentId&&!m.length?y=p[0].variables.filter((function(e){return e.apply&&e.resourceId===o.formId})):!o.documentId&&m.length?g=m.map((function(e){return p[0].data.find((function(t){return t.resourceId===e}))})):(y=p[0].variables.filter((function(e){return e.apply&&e.resourceId===o.formId})),g=m.map((function(e){return p[1].data.find((function(t){return t.resourceId===e}))}))),pe(y),se(g)}catch(e){}})),function(){return At.apply(this,arguments)}),Qt=(Wt=(0,l.default)((function*(){try{return yield Et.getOrganizations()}catch(e){throw console.error(e),e}})),function(){return Wt.apply(this,arguments)}),en=(Kt=(0,l.default)((function*(e){try{return(yield Lt.findUserByOrgIn(0,1e4,"",e)).data}catch(e){throw console.error(e),e}})),function(e){return Kt.apply(this,arguments)}),tn=(Yt=(0,l.default)((function*(e){if(e&&e.length&&(e.includes("#accountname#")||e.includes("#emailCreateBy#")||e.includes("#organizationCreateBy#")||e.includes("#organizationSupervising#")||e.includes("type"))){var t=null,n=null;if(e.includes("#organizationCreateBy#")){var r=yield Qt();t=null==r?void 0:r.name}if(e.includes("#organizationSupervising#")){var i,a=null==Nt||null==(i=Nt.orgIn)?void 0:i.split("/"),l=null==a?void 0:a.slice(0,-1).join("/");if(l){var o,u=yield en(l);u&&(n=null==(o=u[0])?void 0:o.orgName)}}var s=JSON.parse(e);return s=(s=(s=(0,B.getListComponentOfTemplate)(s||[]).filter((function(e){return B.FIELD_FORM_TYPE_INHERIT.includes(e.type)}))).map((function(e){return"datepicker"==e.type&&e.value&&(e.value=(0,B.convertToISO)(e.value,e.validate.formatDate)),"#organizationCreateBy#"==e.code?Object.assign({},e,{value:t}):"#organizationSupervising#"==e.code?Object.assign({},e,{value:n}):"#accountname#"==e.code?Object.assign({},e,{value:Nt.firstName+" "+Nt.lastName}):"#emailCreateBy#"==e.code?Object.assign({},e,{value:""+Nt.email}):"type"==e.code?Object.assign({},e,{value:null==J?void 0:J.keyValue}):Object.assign({},e)}))).filter((function(e){return e.value}))}})),function(e){return Yt.apply(this,arguments)}),nn=function(e){e&&e.length&&e.includes('"type": "textField_ticketName"')&&Ct(!0)},rn=(Gt=(0,l.default)((function*(e){var t=JSON.parse(e.nativeEvent.data);if("e-from"===(null==t?void 0:t.result))if("create"!==W){if(et){var n,i=null==(n=et.formData)?void 0:n.find((function(e){return!e.userTaskId}));if(i&&i.formData){var l=`window.postMessage('${JSON.stringify({type:"postFormEdit",data:i.formData}).replace(/\\/g,"\\\\").replace(/'/g,"\\'")}', '*');`;setTimeout((function(){var e;null==H||null==(e=H.current)||e.injectJavaScript(l)}),300)}}}else{var o;Vt("init");var u=`window.postMessage('${JSON.stringify({result:"saveDraft"})}', '*');`;null==H||null==(o=H.current)||o.injectJavaScript(u)}if("result"==(null==t?void 0:t.result)){if("init"===Bt){var s=t.data,d=yield tn(JSON.stringify(s));if(d){var c,f=`window.postMessage('${JSON.stringify({type:"postFormEdit",data:d}).replace(/\\/g,"\\\\").replace(/'/g,"\\'")}', '*');`;null==H||null==(c=H.current)||c.injectJavaScript(f)}return}if("saveDraft"===Bt){var h=t.data;if(h&&Dt){var m=h.find((function(e){return"textField_ticketName"==e.type}));if(m&&Ce(m.value),ut){var v,p,g=null!=(v=h.find((function(e){return"#codeChannel#"==e.code})))&&v.value?null==(p=h.find((function(e){return"#codeChannel#"==e.code})))?void 0:p.value:null;ht(g)}}"confirm"===it?Ue(!0):Ve(!0)}else if("submit"===Bt){var S,x,b;Xe(!0);var j=null==L||null==(S=L.params)?void 0:S.dataTicket,w=null!=L&&null!=(x=L.params)&&x.paramsSelectTicket?null==L||null==(b=L.params)?void 0:b.paramsSelectTicket.map((function(e){return{id:e.id}})):[];if(j&&J){var D,C,T,P=an(J),k={aclTicketDTOS:P,followerId:J.followerId,formData:[{eformId:J.formId,formData:null==t||null==(D=t.data)?void 0:D.map((function(e){return Object.assign({},e,{dataType:on(e),typeForm:e.type,value:e.value})})),ticketId:null,userTaskId:null,version:xe}],jsonXml:J.jsonXml,listRelativeTicket:w,priority:G.value,ticketStatus:fe.status,title:De,workFlowId:"create"!==W?j.workFlowId:j.id,modelerId:null==L||null==(C=L.params)||null==(T=C.dataTicket)?void 0:T.modelerId};try{if("edit"===W){var I,_,M=Object.assign({},et,{aclTicketDTOS:P,ticketStatus:fe.status,title:De,listRelativeTicket:w,modelerId:null==L||null==(I=L.params)||null==(_=I.dataTicket)?void 0:_.modelerId}),F=yield Et.updateTicket(M);if(F&&"draft"===fe.status)return"eBLDT"===N?A.navigate("MyReceiptScreen",{isReload:!0}):A.navigate(O.TabName.MyTicket),void z.default.show({type:"success",text1:r("CM.noti"),text2:r("NT.notification.creae_draft_success")});F&&A.navigate(O.TabName.Home)}else{var R=yield Et.createTicket(k,Ht);if(R&&"draft"===fe.status)return A.navigate(O.TabName.MyTicket),void z.default.show({type:"success",text1:r("CM.noti"),text2:r("NT.notification.creae_draft_success")});if(null!=J&&J.documentId){var B=null==t?void 0:t.data.filter((function(e){return ye.some((function(t){return t.fieldId==e.formId}))}));if((null==B?void 0:B.length)>0){var V=B.map((function(e){var t=ye.find((function(t){return t.fieldId===e.formId}));return Object.assign({},e,{code:null==t?void 0:t.code})})),E=[{dataJson:V.reduce((function(e,t){return e=Object.assign({},e,(0,a.default)({},t.code,t.value))}),{})}];try{return void((yield Et.saveDataVariableEwriter(E,J.documentId))?A.navigate(y.NavigationName.CreateTicketSuccess,{ticketId:null==R?void 0:R.id}):z.default.show({type:"error",text1:r("CM.noti"),text2:r("NT.notification.save_info_into_ewriter_failed")}))}catch(e){}}}R&&A.navigate(y.NavigationName.CreateTicketSuccess,{ticketId:null==R?void 0:R.id})}}catch(e){console.log(e)}finally{Ce(""),Xe(!1)}}}}"eForm_OCR_ping"===(null==t?void 0:t.type)&&Ft(!0)})),function(e){return Gt.apply(this,arguments)}),an=function(e){var t=ue.map((function(t){var n={id:t.resourceId,email:t.email};return{userTaskId:null,resourceName:De,resourceType:"t",sharedType:"p",personalStr:JSON.stringify(n),type:"internal",perm:JSON.stringify(["v-d","v-i"]),custId:t.custId,orgIn:t.orgIn,createdBy:e.createdBy,typePerson:"aclRelate"}})),n=ie.map((function(e){var t={id:+(null==e?void 0:e.executorId),email:null==e?void 0:e.email};return{userTaskId:e.userTaskId,resourceName:De,resourceType:"t",sharedType:e.executorId?"p":null,personalStr:e.executorId?JSON.stringify(t):null,type:"internal",perm:JSON.stringify(["v-d","v-i","e"]),custId:e.executorId?null==e?void 0:e.custId:null,orgIn:e.executorId?null==e?void 0:e.orgIn:null,createdBy:e.createdBy,typePerson:"implement"}})),r=ee.map((function(e){return{userTaskId:e.userTaskId,resourceName:De,resourceType:"t",sharedType:e.sharedType,personalStr:JSON.stringify(e.personal),type:e.type,perm:e.perm,custId:e.custId,orgIn:e.orgIn,createdBy:e.createdBy,typePerson:"shareAcl"}}));return[].concat((0,i.default)(t),(0,i.default)(n),(0,i.default)(r))},ln=(Ut=(0,l.default)((function*(){try{var e,t;return yield Et.getTicketById(null==L||null==(e=L.params)||null==(t=e.dataTicket)?void 0:t.id,Ht)}catch(e){console.log(e)}})),function(){return Ut.apply(this,arguments)}),on=function(e){return["textField","textArea","password","email","phone_number","radio_button","upload_file","upload_img","hyperlink","datepicker","signature"].includes(e.type)?"String":"number"===e.type?"Number":["check_box","dropdown"].includes(e.type)?"dropdown"===e.type&&e.validate.mutilChoose||"check_box"===e.type?"List":"String":null},un=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];he({status:e,isSaveDraftButSubmit:t}),(0,x.isEmpty)(De)||"edit"===W||"multi"===W||ut||Dt?Dt?sn("confirm"):Ue(!0):dn(e,t)},sn=function(e){var t;at(e),Vt("saveDraft");var n=`window.postMessage('${JSON.stringify({result:"saveDraft"})}', '*');`;null==H||null==(t=H.current)||t.injectJavaScript(n)},dn=function(e){var t;Vt(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||"processing"===e?"submit":"saveDraft");var n=`window.postMessage('${JSON.stringify({result:"processing"===e?"submit":"saveDraft"})}', '*');`;null==H||null==(t=H.current)||t.injectJavaScript(n),We(!1)},cn=function(){var e,t,n,r;(Ve(!1),null!=J&&null!=(e=J.inheritanceModeler)&&null!=(t=e.modelerIds)&&t.length)?pt(!0):A.navigate(y.NavigationName.AddTicketRelativeS,{paramsSelectTicket:null!=L&&null!=(n=L.params)&&n.paramsSelectTicket?null==L||null==(r=L.params)?void 0:r.paramsSelectTicket:[],codeChannel:ft,checkSabeco:ut,configFilter:null==J?void 0:J.configFilter,inheritanceModeler:null==J?void 0:J.inheritanceModeler,onGoBack:function(e,t){A.setParams({paramsSelectTicket:e,codeChannel:t})}})},fn=(qt=(0,l.default)((function*(){A.setParams({paramsSelectTicket:xt}),pt(!1),yield hn()})),function(){return qt.apply(this,arguments)}),hn=($t=(0,l.default)((function*(){var e=yield Et.getValueFormByTicketRelative({modelerId:null==J?void 0:J.id,listRelativeTicket:null==xt?void 0:xt.map((function(e){return e.id}))});if(e){var t,n=e.filter((function(e){return e.value})),r=`window.postMessage('${JSON.stringify({type:"postFormEdit",data:n}).replace(/\\/g,"\\\\").replace(/'/g,"\\'")}', '*');`;null==H||null==(t=H.current)||t.injectJavaScript(r)}})),function(){return $t.apply(this,arguments)});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.TouchableWithoutFeedback,{onPress:function(){return u.Keyboard.dismiss()},children:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.StatusBar,{translucent:!0,barStyle:"dark-content",backgroundColor:y.Color.Transparent}),(0,E.jsx)(s.default,{style:d.default.ctnHeader,contentStyle:d.default.ctnHeader,titleStyle:{color:y.Color.TextPrimary},alignment:"start",title:function(){var e,t;if("eBLDT"===N)return`${null==L||null==(e=L.params)||null==(t=e.dataTicket)?void 0:t.flowName}`;switch(W){case"create":return r("HM.addSearch");case"multi":return r("HM.muiTicket");case"edit":return r("HM.editTicket");default:return""}}(),fillIconBackLeft:"",renderContentRight:function(){return(0,E.jsxs)(u.View,{style:d.default.ctnRenderRightHeader,children:[(0,E.jsx)(p.default,{listDropdown:B.dataProrityDummy,onChangeItem:U,dropDownStyle:{right:(0,f.SizeDP)(50)},renderShowData:(0,E.jsxs)(u.View,{style:d.default.renderShow,children:[G.icon,(0,E.jsx)(c.IconArrowGrey,{fill:"#fff",width:(0,f.SizeDP)(12),height:(0,f.SizeDP)(12)})]})}),(0,E.jsx)(u.View,{children:(0,E.jsx)(p.default,{listDropdown:B.dataTiket,onChangeItem:function(e){return function(e){"information"===e.value?Fe(!0):"relative"===e.value&&(Ve(!0),sn("relative"))}(e)},containerStyle:{width:(0,f.SizeDP)(12)}})})]})}}),(0,E.jsx)(k.Divider,{}),(0,E.jsx)(u.View,{style:[{flex:1,backgroundColor:y.Color.BgBlur},"android"===u.Platform.OS&&{paddingBottom:kt>0?kt-100:0}],children:!(0,x.isEmpty)(xe)&&(0,E.jsx)(h.default,{nestedScrollEnabled:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,startInLoadingState:!0,injectedJavaScript:y.String.SCRIPT_SCALE_WEBVIEW,allowsInlineMediaPlayback:!0,mediaPlaybackRequiresUserAction:!1,ref:H,onMessage:rn,source:{uri:(0,M.getConfig)().BASE_URL_FORM+xe},webviewDebuggingEnabled:!0,pullToRefreshEnabled:!0})}),(0,E.jsx)(k.Divider,{}),(0,E.jsx)(v.SafeAreaView,{edges:["bottom","left","right"],style:d.default.ctnBtn,children:(0,E.jsxs)(u.View,{style:d.default.ctnFooter,children:[(0,E.jsxs)(u.View,{style:d.default.footerLeft,children:[(0,E.jsxs)(u.TouchableOpacity,{onPress:function(){Ve(!0),sn("relative")},style:d.default.ctnItem,children:[(0,E.jsx)(k.Icon,{fill:"rgba(0, 32, 77, .7)",name:"swap-outline",width:24,height:24}),(0,E.jsx)(j.default,{style:d.default.txtItem,children:r("HM.relative")})]}),(0,E.jsx)(u.View,{style:d.default.ctnDivider}),(0,E.jsxs)(u.TouchableOpacity,{onPress:function(){return un("draft",!0)},style:d.default.ctnItem,children:[(0,E.jsx)(k.Icon,{fill:"rgba(0, 32, 77, .7)",name:"save-outline",width:24,height:24}),(0,E.jsx)(j.default,{style:d.default.txtItem,children:r("TK.save_draft")})]})]}),(0,E.jsx)(u.TouchableOpacity,{onPress:function(){return un("processing")},style:d.default.footerRight,children:(0,E.jsx)(j.default,{style:{color:y.Color.White},children:r("HM.sendServices")})})]})}),(0,E.jsx)(g.default,{isVisible:ze,onClose:function(){return Fe(!1)},title:r("HM.infoPerson"),renderContent:(0,E.jsx)(E.Fragment,{children:!(0,x.isEmpty)(Nt)&&(0,E.jsxs)(u.View,{style:d.default.ctnTicketPerson,children:[(0,E.jsxs)(u.View,{style:d.default.ctnUser,children:[(0,E.jsx)(u.Image,{width:(0,f.SizeDP)(50),height:(0,f.SizeDP)(50),borderRadius:(0,f.SizeDP)(25),source:{uri:Nt.imageUrl||y.String.DEFAULT_IMAGE}}),(0,E.jsx)(j.default,{children:Nt.firstName+" "+Nt.lastName})]}),(0,E.jsxs)(u.View,{style:d.default.ctnSub,children:[(0,E.jsx)(c.IconMail,{width:(0,f.SizeDP)(24),height:(0,f.SizeDP)(24)}),(0,E.jsx)(j.default,{children:""+Nt.email})]}),(0,E.jsxs)(u.View,{style:d.default.ctnSub,children:[(0,E.jsx)(c.IconTree,{width:(0,f.SizeDP)(24),height:(0,f.SizeDP)(24)}),(0,E.jsx)(j.default,{children:""+Nt.acNameOrg})]}),(0,E.jsxs)(u.View,{style:d.default.ctnSub,children:[(0,E.jsx)(c.IconPhone,{width:(0,f.SizeDP)(24),height:(0,f.SizeDP)(24)}),(0,E.jsx)(j.default,{children:""+Nt.phone})]})]})})}),(0,E.jsx)(F.default,{isVisible:Be,children:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(s.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff"},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",title:r("HM.relatedTicket"),onPressIconLeft:function(){return Ve(!1)},renderContentRight:function(){return(0,E.jsx)(u.TouchableOpacity,{onPress:cn,children:(0,E.jsx)(j.default,{style:d.default.txtRight,children:r("CM.add")})})}}),(0,E.jsx)(k.Divider,{}),(0,x.isEmpty)(null==L||null==(Jt=L.params)?void 0:Jt.paramsSelectTicket)?(0,E.jsxs)(u.View,{style:d.default.ctnArea,children:[(0,E.jsx)(c.IconEmpty,{width:(0,f.SizeDP)(218),height:(0,f.SizeDP)(149)}),(0,E.jsx)(j.default,{style:d.default.textTitle,children:r("HM.relativeTicketEmpty")}),(0,E.jsx)(j.default,{style:d.default.textDes,children:r("HM.desRelativeTicket")})]}):(0,E.jsx)(u.FlatList,{style:{paddingHorizontal:16},data:null==L||null==(Xt=L.params)?void 0:Xt.paramsSelectTicket,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,renderItem:function(e){var t,n,r,i=e.item;return(0,E.jsx)(T.default,{dataCard:i,account:Nt,select:null==L||null==(t=L.params)?void 0:t.paramsSelectTicket,onSelect:function(e){return A.setParams({paramsSelectTicket:e})},isShowTrash:!(null!=J&&null!=(n=J.inheritanceModeler)&&null!=(r=n.modelerIds)&&r.length)})}})]})}),(0,E.jsx)(w.default,{isVisible:Ge,onClose:function(){return function(e){switch(e){case"noti":We(!1),Ue(!0);break;case"cancel":Ne(!1);break;case"info":Ue(!1),!ut&&Ce(""),Ie("")}}("info")},title:r("HM.serviceName"),content:r("HM.contentFill"),type:"info",labelCancel:r("CM.labelCancel"),labelConfirm:"processing"===fe.status?r("HM.sendServices"):r("CM.save"),styleBtnRight:{backgroundColor:y.Color.BgPrimary},onConfirm:function(){(0,x.isEmpty)(De.trim())?Ie(r("HM.notEmpty")):(dn(fe.status,fe.isSaveDraftButSubmit),Ue(!1),We(!0),Ie(""))},renderContent:function(){return(0,E.jsx)(u.View,{style:{width:"100%",marginVertical:(0,f.SizeDP)(6)},children:(0,E.jsx)(D.default,{isDisabled:Dt,label:r("HM.enterName"),value:De,onChangeText:Ce,errorMessage:ke})})}}),(0,E.jsx)(C.default,{isVisible:Je})]})}),(0,E.jsx)(F.default,{isVisible:yt,children:(0,E.jsx)(R.default,{onClose:function(){return pt(!1)},modeler:J,setListTicketRelativeSelect:bt,listTicketRelativeSelect:xt,handleSetParamsConfig:fn})}),(0,E.jsx)(F.default,{isVisible:zt,children:(0,E.jsx)(V.default,{onScannedImage:function(e){if((0,x.isEmpty)(e))z.default.show({type:"error",text1:r("CM.noti"),text2:"Khng ly c thng tin d liu scan"});else{var t,n=JSON.stringify({type:1===e.length?"native_post_scan_OCR":"native_post_scan_OCR_mutiples",dataFile:{name:1===e.length?`img_scan_${Date.now()}.png`:"",mimeType:"image/png",base64:1===e.length?e[0]:e}}),i=`window.postMessage('${"ios"===u.Platform.OS?n:n.replace(/(\r\n|\n|\r|\s)/gm,"").replace(/\\/g,"\\\\")}', '*');`;null==H||null==(t=H.current)||t.injectJavaScript(i)}Ft(!1)}})})]})}},33865:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880),a=n(41995);t.default=r.StyleSheet.create({ctnHeader:{backgroundColor:i.Color.White},ctnTitle:{color:i.Color.colorText,fontSize:i.FontSize.FontLarge,fontFamily:i.Font.InterSemiBold600},ctnWebview:{marginHorizontal:(0,a.SizeDP)(18),marginVertical:(0,a.SizeDP)(18),borderRadius:(0,a.SizeDP)(17)},ctnRenderRightHeader:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,a.SizeDP)(10)},renderShow:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,a.SizeDP)(2),borderRadius:(0,a.SizeDP)(4),borderWidth:(0,a.SizeDP)(1),borderColor:i.Color.borderPrority,paddingVertical:(0,a.SizeDP)(4),paddingHorizontal:(0,a.SizeDP)(4)},ctnTicketPerson:{alignItems:"flex-start",rowGap:(0,a.SizeDP)(20)},ctnUser:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,a.SizeDP)(10),paddingHorizontal:(0,a.SizeDP)(10)},ctnSub:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,a.SizeDP)(10),marginLeft:(0,a.SizeDP)(40)},textTitle:{fontFamily:i.Font.InterSemiBold600,fontSize:i.FontSize.FontBase,color:i.Color.TextPrimary,marginTop:(0,a.SizeDP)(20)},textDes:{fontFamily:i.Font.InterRegular400,fontSize:i.FontSize.FontSmall,color:i.Color.Text07,textAlign:"center",marginVertical:(0,a.SizeDP)(8)},ctnArea:{backgroundColor:i.Color.White,alignItems:"center",justifyContent:"center",padding:(0,a.SizeDP)(16)},txtRight:{color:i.Color.add,fontFamily:i.Font.InterMedium500,fontSize:i.FontSize.FontSmall},ctnBtn:{backgroundColor:i.Color.White},btnLeft:{backgroundColor:"#f2f5f8"},labelStyleLeft:{color:i.Color.Text},btnCancel:{borderWidth:1,borderColor:"#e14337",backgroundColor:"#fff"},textCancel:{color:"#e14337"},textSizeSmall:{fontSize:13},ctnFooter:{flexDirection:"row",alignItems:"center",justifyContent:"center"},footerLeft:{flex:.6,flexDirection:"row",alignItems:"center"},ctnItem:{flex:1,alignItems:"center",justifyContent:"center"},txtItem:{fontSize:10},footerRight:{backgroundColor:i.Color.BgPrimary,flex:.4,paddingVertical:16,alignItems:"center",justifyContent:"center"},ctnDivider:{height:25,width:2,backgroundColor:i.Color.borderColor}})},77134:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=r(n(43184)),l=n(46317),o=r(n(2198)),u=n(7005),s=r(n(24541)),d=r(n(94516)),c=n(14740),f=n(20880),h=n(41995),m=n(2884),v=n(60596),y=n(12638),p=(r(n(21527)),n(58526)),g=n(47671);t.default=function(){var e,t,n=(0,c.useRoute)(),r=(0,c.useNavigation)(),S=(null==n||null==(e=n.params)?void 0:e.actionTicketFrom)||"eRequest",x=(null==n||null==(t=n.params)?void 0:t.ticketId)||"",b=(0,y.useAppSelector)((function(e){return e.account})).dataAccount,j=(0,m.useTranslation)().t,w=function(){"eBLDT"===S?r.navigate("MyReceiptScreen",{isReload:!0}):r.navigate(p.TabName.Home)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.StatusBar,{translucent:!0,barStyle:"dark-content",backgroundColor:f.Color.Transparent}),(0,g.jsx)(a.default,{style:o.default.ctnHeader,contentStyle:o.default.ctnHeader,titleStyle:{color:f.Color.TextPrimary},title:j("HM.addSearch"),onPressIconLeft:w}),(0,g.jsxs)(u.SafeAreaView,{edges:["bottom","left","right"],style:o.default.ctnArea,children:[(0,g.jsxs)(i.View,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[(0,g.jsx)(l.IconEmpty,{width:(0,h.SizeDP)(331),height:(0,h.SizeDP)(217)}),(0,g.jsx)(s.default,{style:o.default.textTitle,children:j("HM.createSuccess")}),"eBLDT"!==S&&(0,g.jsx)(i.TouchableOpacity,{onPress:function(){x&&r.navigate(f.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:x,email:b.email,status:v.Status.processing,selectTabBottom:1})},children:(0,g.jsx)(s.default,{style:o.default.textDetail,children:j("CM.viewDetail")})})]}),(0,g.jsx)(d.default,{style:{width:"60%",marginTop:(0,h.SizeDP)(16)},label:j("HM.home"),onPress:w})]})]})}},2198:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880),a=n(41995);t.default=r.StyleSheet.create({ctnHeader:{backgroundColor:i.Color.White},ctnTitle:{color:i.Color.colorText,fontSize:i.FontSize.FontLarge,fontFamily:i.Font.InterSemiBold600},ctnArea:{backgroundColor:i.Color.White,alignItems:"center",justifyContent:"center",flex:1,paddingHorizontal:(0,a.SizeDP)(16)},textTitle:{fontFamily:i.Font.InterSemiBold600,fontSize:i.FontSize.FontBase,color:i.Color.TextPrimary,marginTop:(0,a.SizeDP)(20)},textDes:{fontFamily:i.Font.InterRegular400,fontSize:i.FontSize.FontSmall,color:i.Color.Text07,textAlign:"center",marginVertical:(0,a.SizeDP)(8)},textDetail:{fontFamily:i.Font.InterMedium500,fontSize:i.FontSize.FontSmall,color:i.Color.BgInfo,marginBottom:50,marginTop:20}})},99246:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeTypeList=t.precious=t.fullMonthList=void 0;t.timeTypeList=[{value:"precious",label:"DB.filter.fixed-time-period"},{value:"period",label:"DB.filter.about-time"}],t.precious=[{value:"quarter1",label:"DB.filter.precious1",child:[{value:1,label:"DB.filter.month1"},{value:2,label:"DB.filter.month2"},{value:3,label:"DB.filter.month3"}]},{value:"quarter2",label:"DB.filter.precious2",child:[{value:4,label:"DB.filter.month4"},{value:5,label:"DB.filter.month5"},{value:6,label:"DB.filter.month6"}]},{value:"quarter3",label:"DB.filter.precious3",child:[{value:7,label:"DB.filter.month7"},{value:8,label:"DB.filter.month8"},{value:9,label:"DB.filter.month9"}]},{value:"quarter4",label:"DB.filter.precious4",child:[{value:10,label:"DB.filter.month10"},{value:11,label:"DB.filter.month11"},{value:12,label:"DB.filter.month12"}]}],t.fullMonthList=[{value:1,label:"DB.filter.month1"},{value:2,label:"DB.filter.month2"},{value:3,label:"DB.filter.month3"},{value:4,label:"DB.filter.month4"},{value:5,label:"DB.filter.month5"},{value:6,label:"DB.filter.month6"},{value:7,label:"DB.filter.month7"},{value:8,label:"DB.filter.month8"},{value:9,label:"DB.filter.month9"},{value:10,label:"DB.filter.month10"},{value:11,label:"DB.filter.month11"},{value:12,label:"DB.filter.month12"}]},95784:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43693)),a=r(n(85715)),l=n(87841),o=n(21527),u=r(n(76644)),s=r(n(43184)),d=n(32207),c=r(n(65963)),f=n(99246),h=r(n(33254)),m=r(n(94516)),v=n(2884),y=n(47671);t.default=function(e){var t=e.setDataFilter,n=(0,v.useTranslation)().t,r=(0,o.useState)(!1),p=(0,a.default)(r,2),g=p[0],S=p[1],x=(0,o.useState)(!1),b=(0,a.default)(x,2),j=b[0],w=b[1],D=(0,o.useState)([]),C=(0,a.default)(D,2),T=C[0],P=C[1],k=(0,o.useState)(new d.IndexPath(0)),I=(0,a.default)(k,2),_=I[0],M=I[1],z=(0,o.useState)(new d.IndexPath(0)),F=(0,a.default)(z,2),O=F[0],R=F[1],B=(0,o.useState)(),V=(0,a.default)(B,2),E=V[0],L=V[1],N=(0,o.useState)(),H=(0,a.default)(N,2),A=H[0],W=H[1],K=(0,o.useState)({year:(new Date).getFullYear().toString(),month:"",endDate:"",startDate:""}),Y=(0,a.default)(K,2),G=Y[0],U=Y[1];(0,o.useEffect)((function(){t(G),P(Array.from({length:30},(function(e,t){return{label:((new Date).getFullYear()-t).toString(),value:((new Date).getFullYear()-t).toString()}})))}),[]);var q=function(e,t){U((function(n){return Object.assign({},n,(0,i.default)({},t,e))}))},$=(0,o.useCallback)((function(){var e;return E?null==f.precious||null==(e=f.precious[null==E?void 0:E.row])?void 0:e.child:f.fullMonthList}),[E,O]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.TouchableOpacity,{onPress:function(){return S(!0)},style:{borderWidth:1,borderColor:"#8f4eff",paddingHorizontal:6,paddingVertical:6,borderRadius:5},children:(0,y.jsx)(d.Icon,{name:"funnel-outline",width:16,height:16,fill:"#8f4eff"})}),(0,y.jsx)(u.default,{isVisible:g,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff"},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",onPressIconLeft:function(){return S(!1)},title:n("CM.filter")}),(0,y.jsx)(d.Divider,{}),(0,y.jsxs)(l.View,{style:{padding:10,flex:1},children:[(0,y.jsx)(c.default,{size:"medium",onSelect:function(e){M(e),0===e.row?(w(!1),R(new d.IndexPath(0)),L(void 0),W(void 0),U({year:(new Date).getFullYear().toString(),month:"",endDate:"",startDate:""})):(w(!0),U({year:"",month:"",endDate:"",startDate:""}))},valueSelect:_,label:n("DB.filter.type-time"),listData:f.timeTypeList,isi18n:!0}),j?(0,y.jsxs)(l.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:10},children:[(0,y.jsx)(h.default,{value:G.startDate,onChangeDate:function(e){return q(e,"startDate")}}),(0,y.jsx)(d.Icon,{name:"arrow-forward-outline",width:20,height:20}),(0,y.jsx)(h.default,{value:G.endDate,onChangeDate:function(e){return q(e,"endDate")}})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.default,{onSelect:function(e){R(e),U((function(t){var n;return Object.assign({},t,{year:null==T||null==(n=T[null==e?void 0:e.row])?void 0:n.value})}))},valueSelect:O,label:n("DB.filter.year"),size:"medium",listData:T,isi18n:!0}),(0,y.jsx)(c.default,{onSelect:function(e){L(e),W(void 0)},size:"medium",valueSelect:E,label:n("DB.filter.precious"),listData:f.precious,isi18n:!0,placeholder:n("DB.filter.precious-placeholder")}),(0,y.jsx)(c.default,{onSelect:W,valueSelect:A,label:n("DB.filter.month"),size:"medium",listData:$(),isi18n:!0,placeholder:n("DB.filter.month-placeholder")})]})]}),(0,y.jsx)(m.default,{style:{marginHorizontal:16},label:n("CM.confirm"),onPress:function(){try{if(0===(null==_?void 0:_.row)){var e;if(!E)return void t(G);if(!A){var n,r=(s=null==(n=f.precious[null==E?void 0:E.row])?void 0:n.value,d=Number(null==G?void 0:G.year)||(new Date).getFullYear(),c=0,h=0,"quarter1"==s?(c=0,h=2):"quarter2"==s?(c=3,h=5):"quarter3"==s?(c=6,h=8):"quarter4"==s&&(c=9,h=11),{fromDate:new Date(d,c,1,0,0,0),toDate:new Date(d,h,"quarter2"===s||"quarter3"===s?30:31,23,59,59)}),i=r.fromDate,a=r.toDate;return U((function(e){return Object.assign({},e,{startDate:i.toISOString(),endDate:a.toISOString()})})),void t(Object.assign({},G,{startDate:i.toISOString(),endDate:a.toISOString()}))}var l=function(e){var t,n=Number(null==G?void 0:G.year)||(new Date).getFullYear();t=e-1;var r=new Date(n,e-1,1,0,0,0),i=new Date(n,t,Number(function(e,t){return t%4==0&&t%100!=0||t%400==0?[31,29,31,30,31,30,31,31,30,31,30,31][e-1]:[31,28,31,30,31,30,31,31,30,31,30,31][e-1]}(e+1,n)),23,59,59);return{fromDate:r,toDate:i}}(null==(e=$()[null==A?void 0:A.row])?void 0:e.value),o=l.fromDate,u=l.toDate;t(Object.assign({},G,{startDate:o.toISOString(),endDate:u.toISOString()}))}else t(Object.assign({},G))}catch(e){}finally{S(!1)}var s,d,c,h}})]})})]})}},99436:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=r(n(95784)),s=n(20880),d=n(21527),c=n(33139),f=n(35708),h=r(n(2336)),m=n(2884),v=n(47671);t.default=function(){var e=(0,m.useTranslation)().t,t=(0,d.useState)(),n=(0,a.default)(t,2),r=n[0],y=n[1],p=(0,d.useState)(),g=(0,a.default)(p,2),S=g[0],x=g[1],b=(0,c.useDashboardServices)();(0,d.useEffect)((function(){r&&w(r)}),[r]);var j,w=(j=(0,i.default)((function*(e){var t=yield b.getRecentTicket(e);t&&x(t)})),function(e){return j.apply(this,arguments)});return(0,v.jsxs)(l.View,{style:{flex:1},children:[(0,v.jsxs)(l.View,{style:h.default.ctnMain,children:[(0,v.jsx)(o.default,{style:h.default.txtHeader,children:e("DB.ticket-nearest")}),(0,v.jsx)(u.default,{setDataFilter:y})]}),(0,v.jsx)(l.FlatList,{data:S,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},renderItem:function(e){var t=e.item;return(0,v.jsxs)(l.View,{style:h.default.ctnBody,children:[(0,v.jsx)(l.Image,{source:{uri:s.String.DEFAULT_IMAGE},style:{width:30,height:30,borderRadius:15}}),(0,v.jsxs)(l.View,{children:[(0,v.jsx)(o.default,{style:h.default.txtTitle,children:t.title}),(0,v.jsx)(o.default,{style:h.default.txtDate,children:f.DateUtils.convertDateToDDMMYYYY_H_M(t.createdDate)})]})]})},ListEmptyComponent:function(){return(0,v.jsx)(o.default,{children:e("DB.no-data")})}})]})}},2336:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({ctnMain:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",columnGap:10},txtTitle:{color:"#366ae2",fontSize:12,fontFamily:i.Font.InterRegular400},txtDate:{color:"#00204db3",fontSize:10,fontFamily:i.Font.InterRegular400}})},60002:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=n(21527),s=n(33139),d=r(n(86746)),c=n(2884),f=n(47671);t.default=function(){var e=(0,c.useTranslation)().t,t=(0,u.useState)(),n=(0,a.default)(t,2),r=n[0],h=n[1],m=(0,s.useDashboardServices)();(0,u.useEffect)((function(){y()}),[]);var v,y=(v=(0,i.default)((function*(){var e=yield m.countByServiceRate();e&&h(null==e?void 0:e.slice(0,3))})),function(){return v.apply(this,arguments)});return(0,f.jsxs)(l.View,{style:{flex:1},children:[(0,f.jsx)(l.View,{style:d.default.ctnHeader,children:(0,f.jsx)(o.default,{style:d.default.txtHeader,children:e("DB.rate_service")})}),(0,f.jsx)(l.FlatList,{data:r,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},renderItem:function(t){var n=t.item,r=t.index;return(0,f.jsxs)(l.View,{style:Object.assign({},d.default.ctnItem,d.default[`top_${r+1}`]),children:[(0,f.jsxs)(o.default,{style:d.default.txt_1,children:["Top ",r+1]}),(0,f.jsx)(o.default,{style:d.default.txt_2,children:n.serviceName}),(0,f.jsxs)(o.default,{style:d.default.txt_3,children:[n.totalTickets," ",e("DB.ticket-rated-5")]})]})},ListEmptyComponent:function(){return(0,f.jsx)(o.default,{children:e("DB.no-data")})}})]})}},86746:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({top_1:{backgroundColor:"rgba(255, 243, 235, 1)",borderColor:"rgba(254, 211, 179, 1)",borderWidth:1},top_2:{backgroundColor:"rgba(246, 238, 252, 1)",borderColor:"rgba(231, 212, 247, 1)",borderWidth:1},top_3:{backgroundColor:"rgba(232, 247, 239, 1)",borderColor:"rgba(198, 236, 215, 1)",borderWidth:1},ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},ctnItem:{justifyContent:"center",alignItems:"center",rowGap:6,borderRadius:8,paddingHorizontal:12,paddingVertical:10},txt_1:{fontSize:17,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},txt_2:{fontSize:13,fontFamily:i.Font.InterRegular400,color:"#00204D"},txt_3:{fontSize:11,fontFamily:i.Font.InterRegular400,color:"#00204de6"}})},82482:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=r(n(95784)),s=n(20880),d=n(21527),c=n(33139),f=n(32207),h=n(46317),m=r(n(91722)),v=n(2884),y=n(47671);t.default=function(){var e=(0,v.useTranslation)().t,t=(0,d.useState)(),n=(0,a.default)(t,2),r=n[0],p=n[1],g=(0,d.useState)(),S=(0,a.default)(g,2),x=S[0],b=S[1],j=(0,c.useDashboardServices)();(0,d.useEffect)((function(){r&&D(r)}),[r]);var w,D=(w=(0,i.default)((function*(e){var t=yield j.getCountByService(e);if(t){var n=t.map((function(e){return e.totalTickets})).reduce((function(e,t){return e+t}),0),r=t.map((function(e){return Object.assign({},e,{percent:e.totalTickets/n})}));b(r)}})),function(e){return w.apply(this,arguments)});return(0,y.jsxs)(l.View,{style:{flex:1},children:[(0,y.jsxs)(l.View,{style:m.default.ctnHeader,children:[(0,y.jsx)(o.default,{style:m.default.txtHeader,children:e("DB.ticket-service")}),(0,y.jsx)(u.default,{setDataFilter:p})]}),(0,y.jsx)(l.FlatList,{data:x,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},style:{flex:1},renderItem:function(e){var t,n=e.item;return(0,y.jsxs)(l.View,{style:m.default.ctnBody,children:[(0,y.jsxs)(l.View,{style:m.default.ctnSubBody,children:[(0,y.jsx)(l.View,{children:(0,y.jsx)(l.View,{style:[m.default.ctnImage],children:n.iconBase64?(0,y.jsx)(l.Image,{width:20,height:20,borderRadius:10,source:{uri:`${s.String.PREFIX_IMG_BASE64}${n.iconBase64}`}}):(0,y.jsx)(h.IconDefault,{width:20,height:20})})}),(0,y.jsxs)(l.View,{style:{flex:1},children:[(0,y.jsx)(o.default,{style:m.default.txtService,children:null==n||null==(t=n.serviceName)?void 0:t.trim()}),(0,y.jsx)(o.default,{style:m.default.txtDescription,children:n.description})]})]}),(0,y.jsxs)(l.View,{style:{flex:1},children:[(0,y.jsx)(o.default,{style:m.default.txtPercent,children:`${null!=n&&n.percent?(100*Number(n.percent)).toFixed(2):0}%`}),(0,y.jsx)(f.ProgressBar,{animating:!1,progress:n.percent})]})]})},ListEmptyComponent:function(){return(0,y.jsx)(o.default,{children:e("DB.no-data")})}})]})}},91722:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,columnGap:10},ctnSubBody:{flex:2,flexDirection:"row",alignItems:"center",columnGap:8},ctnImage:{backgroundColor:"rgb(237,242,253)",width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"},txtService:{fontSize:14,fontFamily:i.Font.InterMedium500,color:"#00204D"},txtDescription:{fontSize:12,fontFamily:i.Font.InterRegular400,color:i.Color.Text},txtPercent:{fontFamily:i.Font.InterMedium500,color:"#00204D",fontSize:13}})},60500:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=r(n(95784)),s=n(21527),d=n(33139),c=n(1333),f=r(n(36136)),h=n(24908),m=n(20880),v=n(2884),y=n(47671);t.default=function(){var e=(0,v.useTranslation)().t,t=(0,s.useState)(),n=(0,a.default)(t,2),r=n[0],p=n[1],g=(0,s.useState)([]),S=(0,a.default)(g,2),x=S[0],b=S[1],j=(0,l.useWindowDimensions)().width,w=(0,d.useDashboardServices)();(0,s.useEffect)((function(){r&&C(r)}),[r]);var D,C=(D=(0,i.default)((function*(e){var t=yield w.ticketDelay(e);t&&b(null==t?void 0:t.map((function(e){return{value:e.totalTickets,label:e.serviceName,frontColor:c.colorList[Math.floor(Math.random()*c.colorList.length)]}})))})),function(e){return D.apply(this,arguments)});return(0,y.jsxs)(l.View,{style:{flex:1},children:[(0,y.jsxs)(l.View,{style:f.default.ctnHeader,children:[(0,y.jsx)(o.default,{style:f.default.txtHeader,children:e("DB.ticket-late")}),(0,y.jsx)(u.default,{setDataFilter:p})]}),(0,y.jsx)(l.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:(0,y.jsx)(h.BarChart,{barWidth:20,width:j-100,barBorderRadius:4,frontColor:"lightgray",data:x,yAxisThickness:.5,xAxisThickness:.5,xAxisLabelTextStyle:{fontSize:8,fontFamily:m.Font.InterSemiBold600,color:m.Color.Text},yAxisTextStyle:{fontSize:12,fontFamily:m.Font.InterSemiBold600,color:m.Color.Text},xAxisTextNumberOfLines:2})})]})}},36136:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},txtHeader:{fontSize:16,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,columnGap:10},ctnSubBody:{flex:2,flexDirection:"row",alignItems:"center",columnGap:8},ctnImage:{backgroundColor:"rgb(237,242,253)",width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"},txtService:{fontSize:14,fontFamily:i.Font.InterMedium500,color:"#00204D"},txtDescription:{fontSize:12,fontFamily:i.Font.InterRegular400,color:i.Color.Text}})},81001:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=r(n(95784)),s=n(21527),d=n(33139),c=n(32207),f=r(n(99953)),h=n(2884),m=n(47671);t.default=function(){var e=(0,h.useTranslation)().t,t=(0,s.useState)(),n=(0,a.default)(t,2),r=n[0],v=n[1],y=(0,s.useState)(),p=(0,a.default)(y,2),g=p[0],S=p[1],x=(0,d.useDashboardServices)();(0,s.useEffect)((function(){r&&j(r)}),[r]);var b,j=(b=(0,i.default)((function*(e){var t=yield x.countByTicketRate(e);t&&S(t)})),function(e){return b.apply(this,arguments)});return(0,m.jsxs)(l.View,{style:{flex:1},children:[(0,m.jsxs)(l.View,{style:f.default.ctnMain,children:[(0,m.jsx)(o.default,{style:f.default.txtHeader,children:e("DB.rate_ticket")}),(0,m.jsx)(u.default,{setDataFilter:v})]}),(0,m.jsx)(l.FlatList,{data:g,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},renderItem:function(e){var t=e.item;return(0,m.jsxs)(l.View,{style:f.default.ctnBody,children:[(0,m.jsx)(l.View,{style:f.default.txtTitle,children:[1,2,3,4,5].map((function(e,n){return(0,m.jsx)(c.Icon,{fill:n<(null==t?void 0:t.rate)?"#fd6b04":"#72839c",name:n<(null==t?void 0:t.rate)?"star":"star-outline",width:16,height:16},n)}))}),(0,m.jsx)(o.default,{style:f.default.txtDate,children:t.totalTickets})]})},ListEmptyComponent:function(){return(0,m.jsx)(o.default,{children:e("DB.no-data")})}})]})}},99953:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({ctnMain:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",columnGap:10,backgroundColor:"rgb(249,250,251)",borderRadius:8,paddingHorizontal:12,paddingVertical:10},txtTitle:{flexDirection:"row",columnGap:4,alignItems:"center"},txtDate:{fontSize:14,fontFamily:i.Font.InterSemiBold600,color:"#00204df2"}})},57384:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=r(n(24541)),u=r(n(95784)),s=n(21527),d=n(33139),c=n(1333),f=r(n(96252)),h=n(24908),m=n(2884),v=n(20880),y=n(47671);t.default=function(){var e=(0,m.useTranslation)().t,t=(0,s.useState)(),n=(0,a.default)(t,2),r=n[0],p=n[1],g=(0,s.useState)([]),S=(0,a.default)(g,2),x=S[0],b=S[1],j=(0,d.useDashboardServices)(),w=(0,l.useWindowDimensions)();(0,s.useEffect)((function(){r&&C(r)}),[r]);var D,C=(D=(0,i.default)((function*(e){var t=yield j.getCountByStatus(e);t&&b(null==t?void 0:t.map((function(e){var t,n;return{value:e.totalTickets,text:e.totalTickets,color:null==c.CHART_COUNT_BY_STATUS_DATA||null==(t=c.CHART_COUNT_BY_STATUS_DATA.find((function(t){return t.value===e.ticketStatus})))?void 0:t.backgroundColor,label:null==c.CHART_COUNT_BY_STATUS_DATA||null==(n=c.CHART_COUNT_BY_STATUS_DATA.find((function(t){return t.value===e.ticketStatus})))?void 0:n.label}})))})),function(e){return D.apply(this,arguments)});return(0,y.jsxs)(l.View,{style:{flex:1},children:[(0,y.jsxs)(l.View,{style:f.default.ctnHeader,children:[(0,y.jsx)(o.default,{style:f.default.txtHeader,children:e("DB.ticket-status")}),(0,y.jsx)(u.default,{setDataFilter:p})]}),0===(null==x?void 0:x.length)&&(0,y.jsx)(o.default,{children:e("DB.no-data")}),(0,y.jsxs)(l.ScrollView,{contentContainerStyle:f.default.ctnBody,children:[(0,y.jsx)(h.PieChart,{donut:!0,radius:w.width/4,textSize:13,data:x}),(0,y.jsx)(l.FlatList,{scrollEnabled:!1,data:x,renderItem:function(t){var n=t.item;return(0,y.jsxs)(l.View,{style:f.default.ctnSubBody,children:[(0,y.jsx)(l.View,{style:Object.assign({},f.default.ctnImage,{backgroundColor:n.color})}),(0,y.jsxs)(o.default,{style:f.default.txtDescription,children:[e(`TK.${n.label}`)," ",(0,y.jsxs)(o.default,{style:{fontFamily:v.Font.InterSemiBold600,fontSize:12},children:["(",n.value,")"]})]})]})}})]})]})}},96252:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},txtHeader:{fontSize:16,fontFamily:i.Font.InterSemiBold600,color:"#00204D"},ctnBody:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",columnGap:20,flex:1},ctnSubBody:{flexDirection:"row",alignItems:"center",columnGap:10},ctnImage:{width:10,height:10,borderRadius:2},txtDescription:{fontSize:14,fontFamily:i.Font.InterRegular400,color:i.Color.Text,flex:1}})},1333:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.colorList=t.CHART_COUNT_BY_STATUS_DATA=void 0;t.colorList=["rgba(54, 106, 226, 1)","rgba(172, 103, 228, 1)","rgba(252, 107, 3, 1)","rgba(57, 172, 109, 1)","rgba(222, 168, 33, 1)"],t.CHART_COUNT_BY_STATUS_DATA=[{label:"pending",value:"pending",backgroundColor:"rgba(253, 122, 28, 1)"},{label:"processing",value:"processing",backgroundColor:"rgba(127, 67, 239, 1)"},{label:"completed",value:"completed",backgroundColor:"rgba(64, 191, 121, 1)"},{label:"draft",value:"draft",backgroundColor:"rgba(230, 234, 240, 1)"},{label:"voided",value:"voided",backgroundColor:"rgba(225, 67, 55, 1)"},{label:"overdue",value:"overdue",backgroundColor:"rgba(225, 67, 55, 1)"},{label:"rejected",value:"rejected",backgroundColor:"rgb(148,110,109)"}]},62915:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(87841),l=r(n(82482)),o=n(10836),u=n(21527),s=n(20880),d=r(n(99436)),c=r(n(81001)),f=r(n(60002)),h=r(n(60500)),m=r(n(57384)),v=n(2884),y=n(47671);t.default=function(){var e=(0,v.useTranslation)().t,t=(0,a.useWindowDimensions)(),n=(0,u.useState)(0),r=(0,i.default)(n,2),p=r[0],g=r[1],S=(0,o.SceneMap)({service:l.default,status:m.default,delay:h.default,recent:d.default,ticketRate:c.default,serviceRate:f.default}),x=[{key:"service",title:e("DB.ticket-service")},{key:"status",title:e("DB.ticket-status")},{key:"delay",title:e("DB.ticket-late")},{key:"recent",title:e("DB.ticket-nearest")},{key:"ticketRate",title:e("DB.rate_ticket")},{key:"serviceRate",title:e("DB.rate_service")}];return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.TabView,{lazy:!0,style:{backgroundColor:"#fff"},sceneContainerStyle:{paddingHorizontal:16,paddingVertical:10},renderTabBar:function(e){return(0,y.jsx)(o.TabBar,Object.assign({},e,{indicatorStyle:{backgroundColor:s.Color.BgPrimary},style:{backgroundColor:"#fff"},scrollEnabled:!0,labelStyle:{color:s.Color.BgPrimary,fontFamily:s.Font.InterSemiBold600,fontSize:10,textAlign:"center"}}))},navigationState:{index:p,routes:x},renderScene:S,onIndexChange:g,initialLayout:{width:t.width},swipeEnabled:!1})})}},22702:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(41132)),l=r(n(85715)),o=n(87841),u=n(20880),s=r(n(43184)),d=n(32207),c=r(n(24541)),f=n(21527),h=r(n(76644)),m=r(n(829)),v=r(n(94516)),y=n(11671),p=n(47671);t.default=function(e){var t,n,r,g,S=e.onClose,x=e.modeler,b=e.setListTicketRelativeSelect,j=e.listTicketRelativeSelect,w=e.handleSetParamsConfig,D=(0,f.useState)(!1),C=(0,l.default)(D,2),T=C[0],P=C[1],k=(0,f.useState)(""),I=(0,l.default)(k,2),_=I[0],M=I[1],z=(0,f.useState)(!1),F=(0,l.default)(z,2),O=F[0],R=F[1],B=(0,f.useState)([]),V=(0,l.default)(B,2),E=V[0],L=V[1],N=(0,y.useTicketServices)();(0,f.useEffect)((function(){A()}),[]);var H,A=(H=(0,i.default)((function*(){try{var e;R(!0);var t,n,r=(null==x||null==(e=x.inheritanceModeler)?void 0:e.modelerIds)||[],i=yield Promise.all(r.map((function(e){return N.getModeler(e)})));L(i?null==i?void 0:i.map((function(e){return{id:e.id,name:e.name}})):(null==x||null==(t=x.inheritanceModeler)||null==(n=t.modelerIds)?void 0:n.map((function(e){return{id:e,name:e}})))||[])}catch(e){}finally{R(!1)}})),function(){return H.apply(this,arguments)});return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff",borderBottomWidth:1,borderBottomColor:u.Color.borderColor},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",title:"",onPressIconLeft:S}),(0,p.jsx)(o.View,{style:{marginHorizontal:16,marginTop:16,backgroundColor:"#fff"},children:(0,p.jsx)(c.default,{style:{fontFamily:u.Font.InterSemiBold600,fontSize:14},children:` hon thnh vic chn giao dch lin quan, vui lng chn dch v trong mi quy trnh di y.\nS lng giao dch  chn ${(null==j?void 0:j.length)||0}/${null==x||null==(t=x.inheritanceModeler)||null==(n=t.modelerIds)?void 0:n.length}`})}),O&&(0,p.jsx)(o.ActivityIndicator,{size:"large",color:u.Color.BgPrimary}),!O&&(0,p.jsx)(d.List,{data:E,renderItem:function(e){var t=e.item;return(0,p.jsx)(d.ListItem,{onPress:function(){return e=t.id,M(e),void P(!0);var e},title:t.name,accessoryLeft:null!=j&&j.find((function(e){return e.modelerId===t.id}))?(0,p.jsx)(d.Icon,{name:"checkmark-circle-2-outline",width:24,height:24}):void 0,accessoryRight:(0,p.jsx)(d.Icon,{name:"arrow-ios-forward-outline",width:24,height:24})})}}),(0,p.jsx)(v.default,{disabled:(null==j?void 0:j.length)!==(null==x||null==(r=x.inheritanceModeler)||null==(g=r.modelerIds)?void 0:g.length),style:{marginHorizontal:16},label:"Xc nhn",onPress:w}),(0,p.jsx)(h.default,{isVisible:T,children:(0,p.jsx)(m.default,{configFilter:null==x?void 0:x.configFilter,inheritanceModeler:null==x?void 0:x.inheritanceModeler,onClose:function(){return P(!1)},modelerId:_,onGoBack:function(e,t){if(null==j?void 0:j.find((function(e){return e.modelerId===t}))){var n=null==j?void 0:j.filter((function(e){return e.modelerId!==t}));b([].concat((0,a.default)(n),(0,a.default)(e)))}else b([].concat((0,a.default)(j),(0,a.default)(e)))},paramsSelectTicket:null!=j&&j.find((function(e){return e.modelerId===_}))?[null==j?void 0:j.find((function(e){return e.modelerId===_}))]:[]})})]})})}},46876:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ListServices=void 0;var r=n(20880);t.ListServices=[{id:1,name:"TK.create_ticket",navigationName:r.NavigationName.HomeListService,icon:"folder-add-outline",permission:"erequest.sidebar.home"}]},91510:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var i=n(87841),a=r(n(76158)),l=r(n(24541)),o=n(14740),u=r(n(43184)),s=n(32207),d=n(2884),c=r(n(62915)),f=n(46876),h=n(37106),m=r(n(14367)),v=n(47671);t.default=function(){var e=(0,d.useTranslation)().t,t=(0,o.useNavigation)(),n=(0,h.useZutandStore)().listMenuViewERequest;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.default,{showIconBackLeft:!1,title:"",alignment:"start",renderContentRight:function(){return(0,v.jsx)(i.Pressable,{onPress:function(){return t.goBack()},children:(0,v.jsx)(s.Icon,{fill:"#fff",width:24,height:24,name:"home-outline"})})},renderContentLeftDynamic:function(){return(0,v.jsx)(i.Image,{resizeMode:"contain",source:{uri:"https://res.cloudinary.com/de0sqyhr9/image/upload/v1745827676/Logo-eRequest_bfrtnk.png"},style:{width:180,height:28}})}}),(0,v.jsxs)(i.View,{style:{flex:1,backgroundColor:"#fff"},children:[(0,v.jsxs)(i.View,{style:a.default.ctnMain,children:[(0,v.jsx)(l.default,{style:a.default.textTitle,children:e("HM.title")}),(0,v.jsx)(i.FlatList,{data:null==f.ListServices?void 0:f.ListServices.filter((function(e){if(null==n?void 0:n.find((function(t){return t.nameId===e.permission})))return e})),horizontal:!0,style:{marginTop:10},contentContainerStyle:{gap:16},showsHorizontalScrollIndicator:!1,renderItem:function(n){var r=n.item;return(0,v.jsxs)(i.Pressable,{onPress:function(){return t.navigate(r.navigationName)},style:a.default.ctnPress,children:[(0,v.jsx)(m.default,{style:a.default.ctnCheck,start:{x:1,y:0},colors:["#2f45ff","#d856ff"],children:(0,v.jsx)(s.Icon,{fill:"#fff",name:r.icon,width:20,height:20})}),(0,v.jsx)(l.default,{style:a.default.txtPress,children:e(r.name)})]})},ListEmptyComponent:function(){return(0,v.jsx)(l.default,{children:e("DB.no-data")})}})]}),(0,v.jsx)(s.Divider,{style:{height:6}}),(null==n?void 0:n.find((function(e){return"sidebar.admin.dashboard"===e.nameId})))&&(0,v.jsx)(c.default,{})]})]})}},76158:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{padding:(0,i.SizeDP)(16),backgroundColor:a.Color.White},textTitle:{fontFamily:a.Font.InterSemiBold600,fontSize:i.default.FontLarge,color:a.Color.Text},viewListServices:{alignItems:"center",justifyContent:"center",flex:1},textH1:{fontFamily:a.Font.InterSemiBold600,fontSize:i.default.FontBase,color:a.Color.Text,marginBottom:(0,i.SizeDP)(8),marginTop:(0,i.SizeDP)(16)},textH3:{fontFamily:a.Font.InterRegular400,fontSize:i.default.FontTiny,color:a.Color.Text07},ctnItemList:{backgroundColor:a.Color.White,padding:(0,i.SizeDP)(16),borderRadius:(0,i.SizeDP)(8),marginBottom:(0,i.SizeDP)(16),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:3.84,elevation:5,flexDirection:"row",alignItems:"center",columnGap:(0,i.SizeDP)(10)},ctnImage:{width:(0,i.SizeDP)(68),height:(0,i.SizeDP)(68),borderRadius:(0,i.SizeDP)(8),alignItems:"center",justifyContent:"center"},textTitleItem:{fontFamily:a.Font.InterMedium500,fontSize:i.default.FontSmall,color:a.Color.colorText},textDes:{fontFamily:a.Font.InterRegular400,fontSize:i.default.FontTiny,color:a.Color.Text07},ctnPress:{alignItems:"center",rowGap:10},ctnCheck:{width:40,height:40,borderRadius:8,backgroundColor:a.Color.BgPrimary,justifyContent:"center",alignItems:"center"},txtPress:{fontFamily:a.Font.InterSemiBold600,fontSize:12,color:a.Color.BgPrimary}})},89117:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(29293)),l=r(n(85715)),o=n(87841),u=n(7005),s=r(n(24541)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),c=r(n(66549)),f=r(n(55980)),h=n(12638),m=n(20880),v=r(n(77389)),y=n(60596),p=n(2884),g=n(11671),S=r(n(45001)),x=r(n(27747)),b=n(14740),j=r(n(67903)),w=n(32207),D=r(n(79445)),C=n(41995),T=n(47671);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}t.default=function(e){var t=e.dataListStatus,n=(0,p.useTranslation)().t,r=((0,h.useAppDispatch)(),(0,d.useState)([])),P=(0,l.default)(r,2),k=P[0],I=P[1],_=(0,d.useState)(0),M=(0,l.default)(_,2),z=M[0],F=M[1],O=(0,d.useState)(0),R=(0,l.default)(O,2),B=R[0],V=R[1],E=(0,d.useState)(!1),L=(0,l.default)(E,2),N=L[0],H=L[1],A=(0,d.useState)(!1),W=(0,l.default)(A,2),K=W[0],Y=W[1],G=(0,d.useState)(!1),U=(0,l.default)(G,2),q=U[0],$=U[1],J=(0,d.useState)(""),X=(0,l.default)(J,2),Z=X[0],Q=X[1],ee=(0,d.useState)(""),te=(0,l.default)(ee,2),ne=te[0],re=te[1],ie=(0,d.useState)(),ae=(0,l.default)(ie,2),le=ae[0],oe=ae[1],ue=(0,d.useState)(!1),se=(0,l.default)(ue,2),de=se[0],ce=se[1],fe=(0,d.useState)(!1),he=(0,l.default)(fe,2),me=he[0],ve=he[1],ye=(0,h.useAppSelector)((function(e){return e.account})).dataAccount,pe=(0,h.useAppSelector)((function(e){return e.common})).accessToken,ge=(0,o.useWindowDimensions)().width,Se=(0,g.useTicketServices)(),xe=function(){Q(""),Y(!K)},be=function(){$(!q)};(0,b.useFocusEffect)((0,d.useCallback)((function(){Ce(0,!1)}),[]));var je,we,De,Ce=(je=(0,a.default)((function*(e,n){try{var r;n?ve(!0):ce(!0);var a,l={createdBy:null!=(r=null==ye?void 0:ye.email)?r:"",myTicket:!0,textSearch:"",ticketStatus:[t.status]},o=yield Se.getTicketList(e,20,t.status===y.Status.processing?"createdDate,desc":"lastModifiedDate,desc",pe,l);0===e?(I(null==o?void 0:o.content),F(Number(null==o||null==(a=o.page)?void 0:a.totalRecords))):I([].concat((0,i.default)(k),(0,i.default)(null==o?void 0:o.content)))}catch(e){}finally{H(!1),ve(!1),ce(!1)}})),function(e,t){return je.apply(this,arguments)}),Te=(we=(0,a.default)((function*(e){if(0!==(null==e?void 0:e.length))try{var t={ticketId:null==le?void 0:le.id,reason:e},r=yield Se.cancelTicket(t,pe);if(r.data)v.default.show({text1:n("CM.noti"),type:"success",text2:n("TK.rejectSuccess")}),I((function(e){return e.filter((function(e){return e.id!==(null==le?void 0:le.id)}))}));else{var i,a=null==r||null==(i=r.error)?void 0:i.message;v.default.show({text1:n("CM.noti"),type:"error",text2:n(`TK.${a||"rejectFailure"}`)})}xe()}catch(e){}else re("CM.requireFillReason")})),function(e){return we.apply(this,arguments)}),Pe=(De=(0,a.default)((function*(){(yield Se.deleteTicketById(null==le?void 0:le.id))?(v.default.show({text1:n("CM.noti"),type:"success",text2:n("CM.deleteSuccess")}),I((function(e){return e.filter((function(e){return e.id!==(null==le?void 0:le.id)}))}))):v.default.show({text1:n("CM.noti"),type:"error",text2:n("CM.deleteFailure")}),be()})),function(){return De.apply(this,arguments)});return de&&!me?(0,T.jsx)(w.List,{data:Array(8).fill({}),horizontal:!0,pagingEnabled:!0,snapToAlignment:"start",showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToInterval:ge,decelerationRate:"fast",contentContainerStyle:[{backgroundColor:"#fff",flex:1}],style:{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge},renderItem:function(){return(0,T.jsx)(D.default,{})},ItemSeparatorComponent:w.Divider}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.SafeAreaView,{style:[c.default.ctnMain,{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge}],edges:["left","right"],children:[(0,T.jsxs)(o.View,{style:c.default.ctnHeader,children:[(0,T.jsx)(o.View,{style:[c.default.ctnNumber,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:z})}),(0,T.jsx)(o.View,{style:[c.default.ctnText,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:n(`TK.name_${t.status}`)})})]}),k&&(0,T.jsx)(o.FlatList,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,data:k,refreshing:N,onRefresh:function(){H(!0),Ce(0,!1),V(0)},onEndReached:function(){B<Math.ceil(z/20)&&(Ce(B+1,!0),V(B+1))},onEndReachedThreshold:.5,keyExtractor:function(e){return""+e.id},contentContainerStyle:{backgroundColor:"#fff"},renderItem:function(e){var n=e.item;return(0,T.jsx)(f.default,{item:n,dataListStatus:t,setTicketSelect:oe,toggleModalCancel:xe,toogleBottomSheetDelete:be})},ListEmptyComponent:function(){return(0,T.jsx)(o.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:(0,T.jsx)(s.default,{children:n("CM.emptyData")})})},ListFooterComponent:function(){return me&&(0,T.jsx)(j.default,{})}})]}),K&&(0,T.jsx)(S.default,{isVisible:K,onClose:xe,title:`${n("TK.confirmClear")} ${null==le?void 0:le.title}`,type:"cancel",labelCancel:n("HM.cancel"),labelConfirm:n("CM.labelCancel"),styleBtnRight:{backgroundColor:m.Color.RedE14337},onConfirm:function(){return Te(Z)},renderContent:function(){return(0,T.jsx)(o.View,{style:{width:"100%",marginVertical:6},children:(0,T.jsx)(x.default,{value:Z,onChangeText:Q,errorMessage:n(ne),isRequired:!0,multiline:!0,isFloatingLabel:!0,label:n("CM.fillReason"),maxLength:400})})}}),q&&(0,T.jsx)(S.default,{isVisible:q,onClose:be,title:`${n("TK.confirmDelete")} ${null==le?void 0:le.title}`,type:"cancel",labelCancel:n("HM.cancel"),labelConfirm:n("CM.confirm"),styleBtnRight:{backgroundColor:m.Color.RedE14337},onConfirm:Pe})]})}},66549:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{flex:1},ctnHeader:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:(0,i.SizeDP)(12),marginLeft:(0,i.SizeDP)(16),columnGap:(0,i.SizeDP)(8),paddingBottom:(0,i.SizeDP)(10)},ctnNumber:{paddingHorizontal:(0,i.SizeDP)(4),height:(0,i.SizeDP)(24),minWidth:(0,i.SizeDP)(24),borderRadius:(0,i.SizeDP)(4),justifyContent:"center",alignItems:"center"},ctnText:{height:(0,i.SizeDP)(24),justifyContent:"center",alignItems:"center",paddingHorizontal:(0,i.SizeDP)(4),borderRadius:(0,i.SizeDP)(5)},text:{fontFamily:a.Font.InterSemiBold600,fontSize:i.default.FontSmall,color:a.Color.White},ctnIcon:{transform:[{rotate:"90deg"}],width:(0,i.SizeDP)(16),height:(0,i.SizeDP)(16),alignItems:"center",justifyContent:"center",marginLeft:(0,i.SizeDP)(8)}})},77838:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getListAction=void 0;var r=n(46317),i=n(41995),a=n(60596),l=n(47671);t.getListAction=function(e){switch(e){case a.Status.processing:return[{id:1,key:"TK.multi",value:"multi",icon:(0,l.jsx)(r.IconMulti,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})},{id:2,key:"TK.cancel",value:"cancel",icon:(0,l.jsx)(r.IconTrash,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})}];case a.Status.completed:case a.Status.rejected:case a.Status.voided:case a.Status.overdue:return[{id:1,key:"TK.multi",value:"multi",icon:(0,l.jsx)(r.IconMulti,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})}];case a.Status.draft:return[{id:1,key:"TK.multi",value:"multi",icon:(0,l.jsx)(r.IconMulti,{width:18,height:18})},{id:2,key:"TK.edit",value:"edit",icon:(0,l.jsx)(r.IconEdit,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})},{id:3,key:"TK.deleteTicket",value:"delete",icon:(0,l.jsx)(r.IconTrash,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})}];default:return[]}}},55980:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=r(n(24541)),l=r(n(69536)),o=n(46317),u=n(41995),s=r(n(21527)),d=n(35708),c=n(2543),f=n(14740),h=n(20880),m=n(2884),v=r(n(85555)),y=n(77838),p=n(45335),g=n(60596),S=n(37106),x=n(47671),b=s.default.memo((function(e){var t=e.item,n=e.dataListStatus,r=e.setTicketSelect,s=e.toggleModalCancel,b=e.toogleBottomSheetDelete,j=(0,f.useNavigation)(),w=(0,m.useTranslation)().t,D=(0,S.useZutandStore)((function(e){return e})).setStatusTicketSelect,C=function(e){switch(e.value){case"multi":return void j.navigate(h.NavigationName.CreateTicket,{dataTicket:t,action:"multi"});case"edit":return void j.navigate(h.NavigationName.CreateTicket,{dataTicket:t,action:"edit"});case"cancel":return s(),void r(t);case"delete":return b(),void r(t)}},T=function(){if(t.ticketStatus===g.Status.overdue){if(P(t.remindTime,t.estimateDate))return`${w("TK.before")} `+_(null==t?void 0:t.remindTime,null==t?void 0:t.estimateDate);if(k(t.estimateDate,null))return`${w("TK.late")} `+I(null==t?void 0:t.estimateDate,null)}return t.ticketStatus!==g.Status.completed&&t.ticketStatus!==g.Status.accepted||!k(t.estimateDate,t.finishDate)?"":`${w("TK.late")} `+I(null==t?void 0:t.estimateDate,null==t?void 0:t.finishDate)},P=function(e,t){if(!e)return!1;if(Number(e)>0){var n=Math.floor(new Date(t).getTime()/1e3),r=n-60*Number(e),i=Math.floor((new Date).getTime()/1e3);return r<i&&i<n}},k=function(e,t){if(e){if(t){var n=Math.floor(new Date(e).getTime()/1e3);return Math.floor(new Date(t).getTime()/1e3)>n}var r=Math.floor(new Date(e).getTime()/1e3);return Math.floor((new Date).getTime()/1e3)>r}return!1},I=function(e,t){if(t){var n=Math.floor(new Date(e).getTime()),r=Math.floor(new Date(t).getTime());return M(r-n)}var i=Math.floor(new Date(e).getTime()),a=Math.floor((new Date).getTime());return M(a-i)},_=function(e,t){if(Number(e)>0){var n=Math.floor(new Date(t).getTime()),r=Math.floor((new Date).getTime());return M(n-r)}},M=function(e){var t=Math.floor(e/1e3),n=t%86400,r=n%3600;return`${Math.floor(t/86400)}d${Math.floor(n/3600)}h${Math.floor(r/60)}m`};return(0,x.jsxs)(i.TouchableOpacity,{onPress:function(){D(n.status),j.navigate(h.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:null==t?void 0:t.id,email:t.createdBy,status:n.status,selectTabBottom:1})},style:l.default.ctnMain,children:[(0,x.jsxs)(i.View,{style:l.default.ctnHeader,children:[function(){switch(null==t?void 0:t.priority){case g.Propity.high:return(0,x.jsx)(o.Iconhigh,{width:(0,u.SizeDP)(12),height:(0,u.SizeDP)(12)});case g.Propity.medium:return(0,x.jsx)(o.Iconmedium,{width:(0,u.SizeDP)(12),height:(0,u.SizeDP)(12)});case g.Propity.low:return(0,x.jsx)(o.Iconlow,{width:(0,u.SizeDP)(12),height:(0,u.SizeDP)(12)})}}(),(0,x.jsx)(a.default,{style:[l.default.title,{flex:1,marginHorizontal:(0,u.SizeDP)(12)}],children:(0,c.isEmpty)(t.title)?"---":t.title}),(0,x.jsx)(i.View,{style:l.default.time,children:(0,x.jsxs)(i.View,{style:l.default.center,children:[!(0,c.isEmpty)(T())&&t.ticketStatus==g.Status.overdue&&(0,x.jsx)(p.Tooltip,{title:T(),children:(0,x.jsx)(o.IconClock,{width:(0,u.SizeDP)(16),height:(0,u.SizeDP)(16)})}),(0,x.jsx)(v.default,{listDropdown:(0,y.getListAction)(t.ticketStatus),onChangeItem:function(e){return C(e)},containerStyle:{width:(0,u.SizeDP)(12)}})]})})]}),(0,x.jsxs)(a.default,{children:[w("TK.createDate"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.createdDate)]}),(null==t?void 0:t.ticketStatus)!==g.Status.completed&&(null==t?void 0:t.ticketStatus)!==g.Status.draft&&(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("D kin hon thnh"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.estimateDate)]}),(null==t?void 0:t.ticketStatus)===g.Status.completed&&(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("Ngy hon thnh"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.finishDate)]}),(null==t?void 0:t.ticketStatus)===g.Status.voided&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("Ngy hu"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.lastModifiedDate)]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("Ngi hu"),": ",t.lastModifiedBy]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("L do hu"),": ",(null==t?void 0:t.reason)||"---"]})]}),(null==t?void 0:t.ticketStatus)===g.Status.rejected&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("Ngy t chi"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.lastModifiedDate)]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("Ngi t chi"),": ",t.lastModifiedBy]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[w("L do t chi"),": ",(null==t?void 0:t.reason)||"---"]})]}),!(0,c.isEmpty)(T())&&t.ticketStatus==g.Status.overdue&&(0,x.jsx)(a.default,{style:l.default.styleClock,children:T()}),(0,x.jsxs)(i.View,{style:l.default.ctnFooter,children:[(0,x.jsx)(i.View,{style:[l.default.rowCenter],children:(0,x.jsx)(i.View,{style:[l.default.viewStatus,{backgroundColor:n.bgColor,borderColor:"#fff"}],children:(0,x.jsx)(a.default,{style:[{color:n.color}],children:w(`TK.${t.ticketStatus}`)})})}),(0,x.jsxs)(i.View,{style:[l.default.rowCenter],children:[(0,x.jsxs)(i.View,{style:[l.default.rowCenter],children:[(0,x.jsx)(o.IconFilePresent,{width:(0,u.SizeDP)(20),height:(0,u.SizeDP)(20)}),(0,x.jsx)(a.default,{children:t.attachmentCount})]}),(0,x.jsxs)(i.View,{style:[l.default.rowCenter],children:[(0,x.jsx)(o.IconMessageChat,{width:(0,u.SizeDP)(20),height:(0,u.SizeDP)(20)}),(0,x.jsx)(a.default,{children:t.commentCount})]})]})]})]})}));t.default=b},69536:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{padding:(0,i.SizeDP)(16),borderRadius:(0,i.SizeDP)(8),shadowColor:"#51459F",shadowOffset:{width:0,height:3},shadowOpacity:.1,shadowRadius:(0,i.SizeDP)(3),elevation:4,marginVertical:(0,i.SizeDP)(8),backgroundColor:a.Color.White,marginHorizontal:(0,i.SizeDP)(3),minHeight:150},title:{fontSize:i.default.FontSmall,color:a.Color.color1F2633,fontFamily:a.Font.InterSemiBold600},ctnFooter:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:(0,i.SizeDP)(16)},ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:(0,i.SizeDP)(16)},rowCenter:{flexDirection:"row",justifyContent:"center",alignItems:"center",columnGap:(0,i.SizeDP)(4)},viewId:{borderWidth:(0,i.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,i.SizeDP)(16),paddingHorizontal:(0,i.SizeDP)(8),paddingVertical:(0,i.SizeDP)(5)},viewStatus:{borderWidth:(0,i.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,i.SizeDP)(16),paddingHorizontal:(0,i.SizeDP)(8),paddingVertical:(0,i.SizeDP)(5)},time:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,i.SizeDP)(6)},center:{alignItems:"center",justifyContent:"center",flexDirection:"row",columnGap:(0,i.SizeDP)(8)},styleClock:{marginTop:(0,i.SizeDP)(6),color:a.Color.RedE14337}})},72676:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dataListStatusTicket=void 0;var r=n(60596);t.dataListStatusTicket=[{id:1,name:"TK.ticketProcessing",status:r.Status.processing,color:"#7F43EF",bgColor:"#F2ECFD"},{id:6,name:"TK.overdue",status:r.Status.overdue,color:"#F05959",bgColor:"#e1433780"},{id:2,name:"TK.ticketCompleted",status:r.Status.completed,color:"#39AC6D",bgColor:"#E8F7EF"},{id:3,name:"TK.ticketDraft",status:r.Status.draft,color:"#00204DB2",bgColor:"#F2F5F8"},{id:4,name:"TK.ticketVoided",status:r.Status.voided,color:"#F05959",bgColor:"rgba(251, 213, 213, 1)"},{id:5,name:"TK.ticketRejected",status:r.Status.rejected,color:"#6496e4",bgColor:"#6496e45c"}]},16702:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(87841),l=r(n(43184)),o=r(n(89117)),u=n(72676),s=r(n(8966)),d=n(32207),c=n(14740),f=r(n(80671)),h=n(2884),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),v=n(41995),y=n(47671);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}t.default=function(){var e=(0,h.useTranslation)().t,t=(0,c.useNavigation)(),n=(0,a.useWindowDimensions)().width,r=(0,m.useState)(0),p=(0,i.default)(r,2),g=p[0],S=p[1];return(0,y.jsxs)(a.View,{style:{flex:1,position:"relative"},children:[(0,y.jsx)(l.default,{title:e("TK.myTicket"),renderContentRight:function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(d.TopNavigationAction,{icon:(0,y.jsx)(d.Icon,{fill:"#ffffff",name:"search"}),onPress:function(){t.navigate(f.default.SearchTicketScreen,{type:"my-ticket"})}})})}}),(0,y.jsx)(a.FlatList,{style:{backgroundColor:"#fff"},data:u.dataListStatusTicket,horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToAlignment:"start",snapToInterval:n,onScrollEndDrag:function(e){var t,r=null==(t=e.nativeEvent.targetContentOffset)?void 0:t.x;if(r){var i=Math.round(r/n);i<u.dataListStatusTicket.length&&S(i)}else S(0)},decelerationRate:"fast",contentContainerStyle:[s.default.flatListContainer],renderItem:function(e){var t=e.item;return(0,y.jsx)(o.default,{dataListStatus:t})}}),(0,y.jsx)(a.View,{style:{position:"absolute",bottom:5,alignItems:"center",justifyContent:"center",width:n},children:(0,y.jsx)(a.View,{style:s.default.paging,children:Array.from({length:n>v.TYPE_SCREEN.mobile?Math.ceil(u.dataListStatusTicket.length/2):u.dataListStatusTicket.length},(function(e,t){return{id:`item-${t+1}`}})).map((function(e,t){return(0,y.jsx)(a.View,{style:{width:7,height:7,borderRadius:4,backgroundColor:t===g?"#62248F":"#E6EAF0"}},t)}))})})]})}},8966:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({flatListContainer:{backgroundColor:i.Color.White},paging:{borderWidth:.5,borderColor:"#00358026",borderRadius:24,padding:10,backgroundColor:"#fff",gap:10,flexDirection:"row",alignItems:"center",justifyContent:"center"}})},50608:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.listAction=void 0;t.listAction=[{status:"all",name:"Tt c"},{status:"read",name:" c"},{status:"unread",name:"Cha c"}]},50570:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43693)),a=r(n(41132)),l=r(n(29293)),o=r(n(85715)),u=n(7005),s=r(n(43184)),d=r(n(24541)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),f=n(32207),h=n(87841),m=n(2884),v=n(20880),y=r(n(21954)),p=n(14740),g=n(45335),S=n(50608),x=n(12638),b=r(n(69290)),j=n(97427),w=n(43790),D=n(11671),C=r(n(77389)),T=n(47671);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}t.default=function(){var e=(0,m.useTranslation)().t,t=(0,p.useNavigation)(),n=(0,x.useAppDispatch)(),r=(0,c.useState)([]),P=(0,o.default)(r,2),k=P[0],I=P[1],_=(0,c.useState)(0),M=(0,o.default)(_,2),z=M[0],F=M[1],O=(0,c.useState)(0),R=(0,o.default)(O,2),B=R[0],V=R[1],E=(0,c.useState)(!1),L=(0,o.default)(E,2),N=L[0],H=L[1],A=(0,c.useState)({}),W=(0,o.default)(A,2),K=W[0],Y=W[1],G=(0,c.useState)(!1),U=(0,o.default)(G,2),q=U[0],$=U[1],J=(0,c.useState)("all"),X=(0,o.default)(J,2),Z=X[0],Q=X[1],ee=(0,w.useNotificationServices)(),te=(0,D.useTicketServices)(),ne=(0,x.useAppSelector)((function(e){return e.common})),re=ne.accessToken,ie=ne.totalNumberNotiUnread;(0,x.useAppSelector)((function(e){return e.account})).dataAccount;(0,p.useFocusEffect)((0,c.useCallback)((function(){F(0),ue(0,Z)}),[Z]));var ae,le,oe,ue=(ae=(0,l.default)((function*(e,t){try{var n={page:e,size:30,sort:"createdDate,desc"},r={status:"all"===t?"":t,system:"E_REQUEST"},i=yield ee.getListNotifications(n,r);i&&(I(0===e?i.data:[].concat((0,a.default)(k),(0,a.default)(i.data))),V(i.totalRecords))}catch(e){}finally{H(!1)}})),function(e,t){return ae.apply(this,arguments)}),se=function(t){if(t){var n={ticketName:t.ticketName,usertaskName:t.userTaskName,remindTime:t.remindTime,overdueTime:t.overdueTime,notifyTime:t.notifyTime,createdBy:t.createdBy,createdDate:t.createdDate,assigner:t.assigner,status:de(t.status),reason:t.reason?t.reason:"",perm:null==t?void 0:t.perm,accountCreated:null==t?void 0:t.createdAcl};return"acl_ticket_create"===t.type&&t.userTaskName?e("NT.notification."+t.type+"_user_task",n):e("NT.notification."+t.type,n)}},de=function(e){return e&&"rejected"===e.trim()?"t chi":e&&"completed"===e.trim()?"hon thnh":e&&"voided"===e.trim()?"hy":""},ce=(le=(0,l.default)((function*(e){try{"ticket_delete"!==e.type&&Y((0,i.default)({},e.id,!0));var t=[{id:e.id,status:"read"}];if(yield ee.updateNotifications(t)){var r=k.map((function(t){return t.id===e.id?Object.assign({},e,{status:"read"}):t}));I(r),n(j.commonActions.setTotalNumberNotiUnread(ie-1))}fe(e)}catch(e){}})),function(e){return le.apply(this,arguments)}),fe=(oe=(0,l.default)((function*(n){if("ticket_create"!==n.type&&"ticket_update"!==n.type&&"ticket_cancel"!==n.type&&"ticket_require_confirm"!==n.type&&"ticket_confirm"!==n.type&&"ticket_reject"!==n.type&&"ticket_require_review"!==n.type&&"ticket_review"!==n.type&&"ticket_review_reject"!==n.type&&"ticket_assign_user"!==n.type&&"ticket_update_status"!==n.type&&"ticket_authorize"!==n.type&&"ticket_remind_workflow"!==n.type&&"ticket_remind_usertask"!==n.type&&"ticket_remind_workflow_overdue_onetime"!==n.type&&"ticket_remind_usertask_overdue_onetime"!==n.type&&"ticket_remind_workflow_overdue_period"!==n.type&&"ticket_remind_usertask_overdue_period"!==n.type&&"ticket_tag_comment"!==n.type&&"acl_ticket_create"!==n.type);else{var r=JSON.parse(n.content);if(r){var a=yield te.getTicketById(r.ticketId,re);a?t.navigate(v.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:r.ticketId,email:n.emailReceiver,status:a.ticketStatus,selectTabBottom:"ticket_tag_comment"===n.type||"acl_ticket_create"===n.type?1:2,recipientDetailsId:r.recipientDetailsId,userTaskId:r.userTaskId,notifyActionType:n.type}):C.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.error")})}Y((0,i.default)({},n.id,!1))}})),function(e){return oe.apply(this,arguments)});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.SafeAreaView,{edges:[],style:{backgroundColor:"#943cdd0d",flex:1},children:[(0,T.jsx)(s.default,{title:e("CM.noti"),renderContentRight:function(){return(0,T.jsx)(f.TopNavigationAction,{icon:(0,T.jsx)(f.Icon,{fill:"#fff",name:"funnel-outline"}),onPress:function(){return $(!0)}})}}),(0,T.jsx)(f.List,{style:{backgroundColor:"#fff"},contentContainerStyle:{backgroundColor:"#fff"},data:k,onEndReachedThreshold:.5,refreshing:N,onEndReached:function(){k.length<B&&(ue(z+1,Z),F(z+1))},onRefresh:function(){H(!0),F(0),ue(0,Z)},renderItem:function(e){var t=e.item,n=e.index,r=JSON.parse(t.content),i="system"!==t.createdBy?"people-outline":"settings-outline";return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.ListItem,{onPress:function(){return ce(t)},children:(0,T.jsxs)(h.View,{style:y.default.ctnMain,children:[(0,T.jsxs)(h.View,{style:y.default.ctnIcon,children:[(0,T.jsx)(f.Icon,{width:20,height:20,fill:"#39ac6c",name:i}),"unread"===t.status&&(0,T.jsx)(g.Badge,{size:10,style:y.default.badge})]}),(0,T.jsxs)(h.View,{style:{flex:1,rowGap:10},children:[(0,T.jsx)(d.default,{children:se(r)}),(0,T.jsxs)(h.View,{style:y.default.ctnText,children:[(0,T.jsx)(d.default,{style:[{fontFamily:v.Font.InterSemiBold600},y.default.text],children:""}),(0,T.jsx)(d.default,{style:[[{fontFamily:v.Font.InterRegular400},y.default.text]],children:r.notifyTime})]})]}),null!=K&&K[null==t?void 0:t.id]?(0,T.jsx)(f.Spinner,{size:"tiny"}):(0,T.jsx)(f.Icon,{width:20,height:20,name:"chevron-right-outline"})]},n)}),(0,T.jsx)(f.Divider,{})]})},ListEmptyComponent:function(){return(0,T.jsx)(h.View,{style:{alignItems:"center",justifyContent:"center",flex:1,marginTop:16},children:(0,T.jsx)(d.default,{children:e("CM.emptyData")})})}})]}),(0,T.jsx)(b.default,{title:e("CM.noti"),onClose:function(){return $(!1)},isVisible:q,renderContent:(0,T.jsx)(f.Menu,{children:S.listAction.map((function(t){return(0,T.jsx)(f.MenuItem,{title:function(n){return(0,T.jsx)(d.default,Object.assign({},n,{children:e(`NT.notification.filter.${t.status}`)}))},onPress:function(){return e=t.status,Q(e),void $(!1);var e},accessoryRight:Z===t.status?(0,T.jsx)(f.Icon,{name:"checkmark"}):void 0},t.status)}))})})]})}},21954:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841);t.default=r.StyleSheet.create({ctnMain:{flexDirection:"row",alignItems:"center",gap:10},ctnIcon:{width:40,height:40,borderRadius:20,backgroundColor:"#e8f7ee",alignItems:"center",justifyContent:"center",position:"relative"},ctnText:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:5},text:{fontSize:12,color:"#00204df2"},badge:{position:"absolute",right:0,top:0}})},33254:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),a=r(n(24541)),l=n(32207),o=n(20880),u=n(2884),s=n(47671);t.default=function(e){var t=e.value,n=e.onChangeDate,r=e.label,d=e.labelStyle,c=e.status,f=void 0===c?"basic":c,h=e.isRequired,m=void 0!==h&&h,v=e.captionText,y=e.disabled,p=void 0!==y&&y,g=(0,u.useTranslation)().t;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Datepicker,{status:f,disabled:p,label:r?function(e){return(0,s.jsxs)(a.default,Object.assign({},e,{style:[d,{fontSize:12,fontFamily:o.Font.InterMedium500,color:"#00204DF2",marginBottom:4,lineHeight:22}],children:[r," ",m&&(0,s.jsx)(a.default,{style:{color:"#E14337"},children:"*"})]}))}:void 0,caption:v?function(e){return(0,s.jsxs)(i.View,Object.assign({},e,{style:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:10,marginTop:4},children:[(0,s.jsx)(l.Icon,{fill:"#E14337",width:14,height:14,name:"info"}),(0,s.jsx)(a.default,{style:{fontSize:12,fontFamily:o.Font.InterMedium500,color:"#E14337"},children:v})]}))}:void 0,renderFooter:function(){return(0,s.jsxs)(i.View,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(l.Button,{onPress:function(){return n(null)},style:{marginHorizontal:10},children:function(e){return(0,s.jsx)(a.default,Object.assign({},e,{children:g("CM.del")}))},status:"danger",size:"small"}),(0,s.jsx)(l.Button,{onPress:function(){return n((new Date).toISOString())},style:{marginHorizontal:10},children:function(e){return(0,s.jsx)(a.default,Object.assign({},e,{children:g("CM.today")}))},status:"primary",size:"small"})]})},controlStyle:{backgroundColor:"#fff"},accessoryRight:(0,s.jsx)(l.Icon,{fill:"#00204D8C",name:"calendar-outline",width:16,height:16}),min:new Date(1900,0,0),date:t?new Date(t):null,onSelect:function(e){return n(e?e.toISOString():null)}})})}},32472:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(29293)),a=r(n(85715)),l=n(87841),o=n(20880),u=r(n(43184)),s=r(n(54813)),d=n(21527),c=r(n(24541)),f=n(11671),h=n(12638),m=r(n(94516)),v=r(n(35077)),y=n(2543),p=r(n(77389)),g=n(2884),S=r(n(71692)),x=n(47671);t.default=function(e){var t=e.onClose,n=e.dataTicket,r=e.toogleReloadData,b=(0,g.useTranslation)().t,j=(0,d.useState)(!1),w=(0,a.default)(j,2),D=(w[0],w[1],(0,d.useState)()),C=(0,a.default)(D,2),T=C[0],P=C[1],k=(0,d.useState)(),I=(0,a.default)(k,2),_=I[0],M=I[1],z=(0,d.useState)(!1),F=(0,a.default)(z,2),O=F[0],R=F[1],B=(0,h.useAppSelector)((function(e){return e.account})).dataAccount,V=(0,f.useTicketServices)();(0,d.useEffect)((function(){N()}),[]);var E,L,N=(E=(0,i.default)((function*(){var e=yield V.getMultiLoginAccount([B.email||""]);e&&P(e[0])})),function(){return E.apply(this,arguments)}),H=(L=(0,i.default)((function*(){try{var e,i;R(!0);var a={ticketId:null==(e=n.resourceId)?void 0:e.substr(4),recipientId:null,contactId:null,email:null==_?void 0:_.email,name:null==_?void 0:_.personalName,phone:null==_?void 0:_.phone,reason:"null"};(yield V.forwaredTicket(null==(i=n.resourceId)?void 0:i.substr(4),n.recipientId,n.implementId,a))?(p.default.show({type:"success",text1:b("CM.info"),text2:b("TK.authorize.success")}),t(),r()):p.default.show({type:"error",text1:b("CM.info"),text2:b("TK.authorize.error")})}catch(e){}finally{R(!1)}})),function(){return L.apply(this,arguments)});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff",borderBottomColor:o.Color.borderColor,borderBottomWidth:1},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",title:b("TK.authorize.title"),onPressIconLeft:t}),(0,x.jsxs)(l.ScrollView,{contentContainerStyle:{rowGap:10},style:{paddingHorizontal:16,marginVertical:10},children:[(0,x.jsx)(s.default,{onChangeText:function(){},label:b("TK.authorize.name"),value:(null==n?void 0:n.resourceName)||"",disabled:!0}),(0,x.jsxs)(l.View,{style:{rowGap:10},children:[(0,x.jsx)(c.default,{children:b("TK.authorize.person")}),(0,x.jsxs)(l.View,{style:S.default.owner,children:[(0,x.jsx)(l.Image,{style:S.default.img,source:{uri:(null==T?void 0:T.imageUrl)||o.String.DEFAULT_IMAGE}}),(0,x.jsxs)(l.View,{children:[(0,x.jsx)(c.default,{children:null==T?void 0:T.personalName}),(0,x.jsx)(c.default,{children:null==T?void 0:T.email})]})]})]}),(0,x.jsx)(v.default,{multiple:!1,label:b("TK.authorize.person-authorize"),isRequired:!0,placeholder:b("TK.authorize.person-authorize-placeholder"),dataSelected:_,setDataSelected:M,filter:{orgIn:B.orgIn}})]}),(0,x.jsxs)(l.View,{style:S.default.footer,children:[(0,x.jsx)(m.default,{style:{flex:1,backgroundColor:o.Color.borderColor},styleLabel:{color:o.Color.Text},label:b("CM.labelCancel"),onPress:t}),(0,x.jsx)(m.default,{disabled:!!(0,y.isEmpty)(_),style:{flex:1},label:b("CM.confirm"),loading:O,onPress:H})]})]})}},71692:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({owner:{borderWidth:1,borderColor:i.Color.borderColor,borderRadius:8,padding:10,backgroundColor:"#e6eaf0",flexDirection:"row",columnGap:10,alignItems:"center"},img:{width:32,height:32,borderRadius:16},footer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:16,columnGap:8}})},84556:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(41132)),a=r(n(29293)),l=r(n(85715)),o=n(87841),u=n(7005),s=r(n(24541)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),c=r(n(87456)),f=r(n(12845)),h=n(20880),m=n(12638),v=r(n(77389)),y=n(2884),p=n(11671),g=r(n(45001)),S=r(n(27747)),x=n(14740),b=n(60596),j=r(n(67903)),w=n(32207),D=r(n(79445)),C=n(41995),T=n(47671);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}t.default=function(e){var t=e.dataListStatus,n=(0,y.useTranslation)().t,r=(0,d.useState)([]),P=(0,l.default)(r,2),k=P[0],I=P[1],_=(0,d.useState)(0),M=(0,l.default)(_,2),z=M[0],F=M[1],O=(0,d.useState)(0),R=(0,l.default)(O,2),B=R[0],V=R[1],E=(0,d.useState)(!1),L=(0,l.default)(E,2),N=L[0],H=L[1],A=(0,d.useState)(!1),W=(0,l.default)(A,2),K=W[0],Y=W[1],G=(0,d.useState)(""),U=(0,l.default)(G,2),q=U[0],$=U[1],J=(0,d.useState)(""),X=(0,l.default)(J,2),Z=X[0],Q=X[1],ee=(0,d.useState)(!1),te=(0,l.default)(ee,2),ne=te[0],re=te[1],ie=(0,d.useState)(!1),ae=(0,l.default)(ie,2),le=ae[0],oe=ae[1],ue=(0,d.useState)(),se=(0,l.default)(ue,2),de=se[0],ce=se[1],fe=(0,d.useState)(!1),he=(0,l.default)(fe,2),me=he[0],ve=he[1],ye=(0,m.useAppSelector)((function(e){return e.common})).accessToken,pe=(0,p.useTicketServices)(),ge=(0,o.useWindowDimensions)().width,Se=function(){return ve(!me)},xe=function(){$(""),Y(!K)},be=function(e){ce(e),xe()};(0,x.useFocusEffect)((0,d.useCallback)((function(){De(0,!1)}),[me]));var je,we,De=(je=(0,a.default)((function*(e,n){try{var r;n?oe(!0):re(!0);var a={keyWord:"",terms:(o={},t.status===b.Status.processing?(o.status=t.status,o.resourceStatus=t.status):t.status===b.Status.overdue?(o.status=b.Status.processing,o.resourceStatus=b.Status.overdue):t.status===b.Status.voided?(o.resourceStatus=t.status,o.status=b.Status.processing):o.status=t.status,o),id:null},l=yield pe.getTicketListFollow(e,20,t.status===b.Status.processing?"createdDate,desc":"lastModifiedDate,desc",a,ye);I(0===e?null==l?void 0:l.content:[].concat((0,i.default)(k),(0,i.default)(null==l?void 0:l.content))),F(Number(null==l||null==(r=l.page)?void 0:r.totalRecords))}catch(e){}finally{H(!1),oe(!1),re(!1)}var o})),function(e,t){return je.apply(this,arguments)}),Ce=(we=(0,a.default)((function*(e){try{var t,r;if(0===(null==e?void 0:e.length))return void Q("CM.requireFillReason");var i={ticketId:null!=(t=null==de||null==(r=de.resourceId)?void 0:r.split("sid_")[1])?t:"",reason:e},a=yield pe.cancelTicket(i,ye);if(a.data)v.default.show({text1:n("CM.noti"),type:"success",text2:n("TK.rejectSuccess")});else{var l,o=null==a||null==(l=a.error)?void 0:l.message;v.default.show({text1:n("CM.noti"),type:"error",text2:n(`TK.${o||"rejectFailure"}`)})}xe()}catch(e){}})),function(e){return we.apply(this,arguments)});return ne&&!le?(0,T.jsx)(w.List,{data:Array(8).fill({}),horizontal:!0,pagingEnabled:!0,snapToAlignment:"start",showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToInterval:ge,decelerationRate:"fast",contentContainerStyle:[{backgroundColor:"#fff",flex:1}],style:{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge},renderItem:function(){return(0,T.jsx)(D.default,{})},ItemSeparatorComponent:w.Divider}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.SafeAreaView,{style:[c.default.ctnMain,{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge}],edges:["left","right"],children:[(0,T.jsxs)(o.View,{style:c.default.ctnHeader,children:[(0,T.jsx)(o.View,{style:[c.default.ctnNumber,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:z})}),(0,T.jsx)(o.View,{style:[c.default.ctnText,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:n(`TK.name_${t.status}`)})})]}),k&&(0,T.jsx)(o.FlatList,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,data:k,refreshing:N,onRefresh:function(){H(!0),V(0),De(0,!1)},onEndReached:function(){B<Math.ceil(z/20)&&(De(B+1,!0),V(B+1))},onEndReachedThreshold:.5,keyExtractor:function(e){return""+e.id},renderItem:function(e){var n=e.item;return(0,T.jsx)(f.default,{item:n,dataListStatus:t,handleCancelTicket:be,toogleReloadData:Se})},ListEmptyComponent:function(){return(0,T.jsx)(o.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:(0,T.jsx)(s.default,{children:n("CM.emptyData")})})},ListFooterComponent:function(){return le&&(0,T.jsx)(j.default,{})}})]}),K&&(0,T.jsx)(g.default,{isVisible:K,onClose:xe,title:`${n("TK.confirmClear")} ${null==de?void 0:de.resourceName}`,type:"cancel",labelCancel:n("HM.cancel"),labelConfirm:n("CM.labelCancel"),styleBtnRight:{backgroundColor:h.Color.RedE14337},onConfirm:function(){return Ce(q)},renderContent:function(){return(0,T.jsx)(o.View,{style:{width:"100%",marginVertical:6},children:(0,T.jsx)(S.default,{value:q,onChangeText:$,errorMessage:n(Z),isRequired:!0,multiline:!0,isFloatingLabel:!0,label:n("CM.fillReason"),maxLength:400})})}})]})}},87456:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{flex:1},ctnHeader:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:(0,i.SizeDP)(12),marginLeft:(0,i.SizeDP)(16),columnGap:(0,i.SizeDP)(8),paddingBottom:(0,i.SizeDP)(10)},ctnNumber:{paddingHorizontal:(0,i.SizeDP)(4),height:(0,i.SizeDP)(24),minWidth:(0,i.SizeDP)(24),borderRadius:(0,i.SizeDP)(4),justifyContent:"center",alignItems:"center"},ctnText:{height:(0,i.SizeDP)(24),justifyContent:"center",alignItems:"center",paddingHorizontal:(0,i.SizeDP)(4),borderRadius:(0,i.SizeDP)(5)},text:{fontFamily:a.Font.InterSemiBold600,fontSize:i.default.FontSmall,color:a.Color.White},ctnIcon:{transform:[{rotate:"90deg"}],width:(0,i.SizeDP)(16),height:(0,i.SizeDP)(16),alignItems:"center",justifyContent:"center",marginLeft:(0,i.SizeDP)(8)}})},83629:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getListAction=void 0;var r=n(46317),i=n(41995),a=n(60596),l=n(47671);t.getListAction=function(e,t){return e===a.Status.processing?t?[{id:1,key:"TK.review",value:"review",icon:(0,l.jsx)(r.IconPerson,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})},{id:2,key:"TK.cancel",value:"cancel",icon:(0,l.jsx)(r.IconTrash,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})},{id:3,key:"TK.forwarded",value:"forwarded",icon:(0,l.jsx)(r.IconShare,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})}]:[{id:1,key:"TK.review",value:"review",icon:(0,l.jsx)(r.IconPerson,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})},{id:3,key:"TK.forwarded",value:"forwarded",icon:(0,l.jsx)(r.IconShare,{width:(0,i.SizeDP)(18),height:(0,i.SizeDP)(18)})}]:[]}},12845:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(87841),l=r(n(24541)),o=r(n(82949)),u=n(46317),s=n(41995),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),c=n(35708),f=n(2543),h=n(14740),m=n(20880),v=n(2884),y=r(n(85555)),p=n(83629),g=n(60596),S=n(45335),x=n(12638),b=n(32207),j=r(n(76644)),w=r(n(32472)),D=n(37106),C=n(47671);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}var P=d.default.memo((function(e){var t=e.item,n=e.dataListStatus,r=e.handleCancelTicket,T=e.toogleReloadData,P=(0,h.useNavigation)(),k=(0,v.useTranslation)().t,I=(0,d.useState)(""),_=(0,i.default)(I,2),M=_[0],z=_[1],F=(0,d.useState)(!1),O=(0,i.default)(F,2),R=O[0],B=O[1],V=(0,x.useAppSelector)((function(e){return e.account})).dataAccount,E=(0,D.useZutandStore)((function(e){return e})).setStatusTicketSelect,L=function(e){var r;E(n.status),P.navigate(m.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:null==t||null==(r=t.resourceId)?void 0:r.substr(4),email:t.sendFrom,status:n.status,selectTabBottom:2,recipientDetailsId:t.implementId,userTaskId:t.recipientId,typeView:e})},N=function(){if(t.status===g.Status.overdue){if(H(t.remindTime,t.estimateDate))return`${k("TK.before")} `+K(null==t?void 0:t.remindTime,null==t?void 0:t.estimateDate);if(A(t.estimateDate,null))return`${k("TK.late")} `+W(null==t?void 0:t.estimateDate,null)}return t.status!==g.Status.completed&&t.status!==g.Status.accepted||!A(t.estimateDate,t.finishDate)?"":`${k("TK.late")} `+W(null==t?void 0:t.estimateDate,null==t?void 0:t.finishDate)},H=function(e,t){if(!e)return!1;if(Number(e)>0){var n=Math.floor(new Date(t).getTime()/1e3),r=n-60*Number(e),i=Math.floor((new Date).getTime()/1e3);return r<i&&i<n}},A=function(e,t){if(e){if(t){var n=Math.floor(new Date(e).getTime()/1e3);return Math.floor(new Date(t).getTime()/1e3)>n}var r=Math.floor(new Date(e).getTime()/1e3);return Math.floor((new Date).getTime()/1e3)>r}return!1},W=function(e,t){if(t){var n=Math.floor(new Date(e).getTime()),r=Math.floor(new Date(t).getTime());return Y(r-n)}var i=Math.floor(new Date(e).getTime()),a=Math.floor((new Date).getTime());return Y(a-i)},K=function(e,t){if(Number(e)>0){var n=Math.floor(new Date(t).getTime()),r=Math.floor((new Date).getTime());return Y(n-r)}},Y=function(e){var t=Math.floor(e/1e3),n=t%86400,r=n%3600;return`${Math.floor(t/86400)}d${Math.floor(n/3600)}h${Math.floor(r/60)}m`},G=function(e){switch(e.value){case"review":return void L("quick");case"cancel":return void r(t);case"forwarded":return void B(!0)}};return(0,C.jsxs)(a.View,{style:o.default.ctnMain,children:[(0,C.jsxs)(a.TouchableOpacity,{style:{padding:16},onPress:function(){return L("view")},children:[(0,C.jsxs)(a.View,{style:o.default.ctnHeader,children:[(0,C.jsx)(l.default,{style:[o.default.title,{flex:1,marginRight:(0,s.SizeDP)(12)}],children:(0,f.isEmpty)(t.resourceName)?"---":t.resourceName}),(0,C.jsx)(a.View,{style:o.default.time,children:(0,C.jsxs)(a.View,{style:o.default.center,children:[!(0,f.isEmpty)(N())&&n.status===g.Status.processing&&(0,C.jsx)(S.Tooltip,{title:N(),children:(0,C.jsx)(u.IconClock,{width:(0,s.SizeDP)(16),height:(0,s.SizeDP)(16)})}),n.status===g.Status.processing&&(0,C.jsx)(y.default,{listDropdown:(0,p.getListAction)(t.status,!t.sendFrom||t.sendFrom===V.email),onChangeItem:function(e){return G(e)},containerStyle:{width:(0,s.SizeDP)(12)}})]})})]}),(0,C.jsxs)(l.default,{style:{marginBottom:(0,s.SizeDP)(10),color:"#6f2ced"},children:[k("TK.step"),": ",t.notionName]}),(0,C.jsxs)(l.default,{children:[k("TK.createDate"),":"," ",c.DateUtils.convertDateToDDMMYYYY_H_M(t.createdDate)]}),(0,C.jsxs)(l.default,{style:{marginTop:6},children:[k("RV.createBy"),": ",t.owner]}),!(0,f.isEmpty)(N())&&n.status===g.Status.processing&&(0,C.jsx)(l.default,{style:o.default.styleClock,children:N()}),(0,C.jsx)(a.View,{style:o.default.ctnFooter,children:(0,C.jsx)(a.View,{style:[o.default.rowCenter],children:(0,C.jsx)(a.View,{style:[o.default.viewStatus,{backgroundColor:n.bgColor,borderColor:"#fff"}],children:(0,C.jsx)(l.default,{style:[{color:n.color}],children:k(`TK.${n.status}`)})})})})]}),(0,C.jsx)(b.Divider,{}),(0,C.jsx)(S.SegmentedButtons,{value:M,onValueChange:z,density:"medium",style:{overflow:"hidden"},buttons:n.status===g.Status.processing?[{value:"view",label:k("TK.view_ticket"),icon:function(){return(0,C.jsx)(b.Icon,{fill:m.Color.Text,name:"eye-outline",width:16,height:16})},labelStyle:o.default.labelStyle,style:{borderRadius:.5,borderColor:m.Color.borderColor,borderWidth:0,borderRightWidth:.5},onPress:function(){return L("view")}},{value:"quick",label:k("TK.review_quick_ticket"),icon:function(){return(0,C.jsx)(b.Icon,{fill:m.Color.Text,name:"external-link-outline",width:16,height:16})},labelStyle:o.default.labelStyle,style:{borderRadius:.5,borderColor:m.Color.borderColor,borderWidth:0,borderLeftWidth:.5},onPress:function(){return L("quick")}}]:[{value:"view",label:k("TK.view_ticket"),icon:function(){return(0,C.jsx)(b.Icon,{fill:m.Color.Text,name:"eye-outline",width:16,height:16})},labelStyle:o.default.labelStyle,style:{borderRadius:8,borderColor:m.Color.borderColor,borderWidth:0},onPress:function(){return L("view")}}]}),(0,C.jsx)(j.default,{isVisible:R,children:(0,C.jsx)(w.default,{toogleReloadData:T,dataTicket:t,onClose:function(){return B(!1)}})})]})}));t.default=P},82949:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41995)),a=n(20880);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=r.StyleSheet.create({ctnMain:{borderRadius:(0,i.SizeDP)(8),shadowColor:"#51459F",shadowOffset:{width:0,height:3},shadowOpacity:.1,shadowRadius:(0,i.SizeDP)(3),elevation:4,marginVertical:(0,i.SizeDP)(8),backgroundColor:a.Color.White,marginHorizontal:(0,i.SizeDP)(3),minHeight:180},title:{fontSize:i.default.FontSmall,color:a.Color.color1F2633,fontFamily:a.Font.InterSemiBold600},ctnFooter:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:(0,i.SizeDP)(16)},ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:(0,i.SizeDP)(16)},rowCenter:{flexDirection:"row",justifyContent:"center",alignItems:"center",columnGap:(0,i.SizeDP)(4)},viewId:{borderWidth:(0,i.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,i.SizeDP)(16),paddingHorizontal:(0,i.SizeDP)(8),paddingVertical:(0,i.SizeDP)(5)},viewStatus:{borderWidth:(0,i.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,i.SizeDP)(16),paddingHorizontal:(0,i.SizeDP)(8),paddingVertical:(0,i.SizeDP)(5)},time:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,i.SizeDP)(6)},center:{alignItems:"center",justifyContent:"center",flexDirection:"row",columnGap:(0,i.SizeDP)(8)},styleClock:{marginTop:(0,i.SizeDP)(6),color:a.Color.RedE14337},labelStyle:{color:a.Color.Text,fontFamily:a.Font.InterMedium500,fontSize:13}})},11595:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dataListStatusTicketFollowNoti=t.dataListStatusTicketFollow=void 0;var r=n(60596);t.dataListStatusTicketFollow=[{id:1,name:"TK.name_processing",status:r.Status.processing,color:"#7F43EF",bgColor:"#F2ECFD"},{id:2,name:"TK.overdue",status:r.Status.overdue,color:"#F05959",bgColor:"#e1433780"},{id:3,name:"TK.name_completed",status:r.Status.accepted,color:"#22C55E",bgColor:"rgba(34, 197, 94, 0.1)"},{id:6,name:"TK.name_forwarded",status:r.Status.forwarded,color:"rgb(222,168,33)",bgColor:"#fbf5e4"},{id:4,name:"TK.name_voided",status:r.Status.voided,color:"#F05959",bgColor:"rgba(251, 213, 213, 1)"},{id:5,name:"TK.name_rejected",status:r.Status.rejected,color:"#6496e4",bgColor:"#6496e45c"}],t.dataListStatusTicketFollowNoti=[{id:1,name:"TK.name_processing",status:r.Status.processing,color:"#7F43EF",bgColor:"#F2ECFD"},{id:2,name:"TK.name_overdue",status:r.Status.overdue,color:"#F05959",bgColor:"rgba(251, 213, 213, 1)"},{id:3,name:"TK.name_accepted",status:r.Status.accepted,color:"#22C55E",bgColor:"rgba(34, 197, 94, 0.1)"},{id:4,name:"TK.name_accepted",status:r.Status.completed,color:"#22C55E",bgColor:"rgba(34, 197, 94, 0.1)"},{id:5,name:"TK.name_voided",status:r.Status.voided,color:"#F05959",bgColor:"rgba(251, 213, 213, 1)"},{id:6,name:"TK.name_rejected",status:r.Status.rejected,color:"#6496e4",bgColor:"#6496e45c"}]},25055:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(87841),l=r(n(43184)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(21527)),u=r(n(84556)),s=n(11595),d=n(14740),c=n(12638),f=n(97427),h=r(n(7499)),m=n(32207),v=n(20880),y=n(2884),p=n(41995),g=n(47671);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}t.default=function(){var e=(0,y.useTranslation)().t,t=(0,d.useNavigation)(),n=(0,c.useAppDispatch)(),r=(0,d.useNavigationState)((function(e){return e})),S=(0,o.useState)(0),x=(0,i.default)(S,2),b=x[0],j=x[1],w=(0,a.useWindowDimensions)().width;(0,o.useEffect)((function(){n(f.ticketActions.setSelectTabBottom(r.index))}),[r.index]);return(0,g.jsxs)(a.View,{style:{flex:1,position:"relative"},children:[(0,g.jsx)(l.default,{title:e("TK.ticketFollow"),renderContentRight:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.TopNavigationAction,{icon:(0,g.jsx)(m.Icon,{fill:"#ffffff",name:"search"}),onPress:function(){t.navigate(v.NavigationName.SearchTicketScreen,{type:"ticket-follow"})}})})}}),(0,g.jsx)(a.FlatList,{style:{backgroundColor:"#fff"},data:s.dataListStatusTicketFollow,horizontal:!0,pagingEnabled:!0,snapToAlignment:"start",showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToInterval:w,onScrollEndDrag:function(e){var t,n=null==(t=e.nativeEvent.targetContentOffset)?void 0:t.x;if(n){var r=Math.round(n/w);r<s.dataListStatusTicketFollow.length&&j(r)}else j(0)},decelerationRate:"fast",contentContainerStyle:[h.default.flatListContainer],renderItem:function(e){var t=e.item;return(0,g.jsx)(u.default,{dataListStatus:t})}}),(0,g.jsx)(a.View,{style:{position:"absolute",bottom:5,alignItems:"center",justifyContent:"center",width:w},children:(0,g.jsx)(a.View,{style:h.default.paging,children:Array.from({length:w>p.TYPE_SCREEN.mobile?Math.ceil(s.dataListStatusTicketFollow.length/2):s.dataListStatusTicketFollow.length},(function(e,t){return{id:`item-${t+1}`}})).map((function(e,t){return(0,g.jsx)(a.View,{style:{width:7,height:7,borderRadius:4,backgroundColor:t===b?"#62248F":"#E6EAF0"}},t)}))})})]})}},7499:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),i=n(20880);t.default=r.StyleSheet.create({flatListContainer:{backgroundColor:i.Color.White},paging:{borderWidth:.5,borderColor:"#00358026",borderRadius:24,padding:10,backgroundColor:"#fff",gap:10,flexDirection:"row",alignItems:"center",justifyContent:"center"}})},33139:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useDashboardServices=t.useAIServices=void 0;var r=n(89103),i=n(98814),a=n(97300);t.useAIServices=function(){var e=(0,a.useFetchRequest)();return(0,r.createAIServices)(e)},t.useDashboardServices=function(){var e=(0,a.useFetchRequest)();return(0,i.createDashboardServices)(e)}},43790:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationServices=void 0;var r=n(15876),i=n(97300);t.useNotificationServices=function(){var e=(0,i.useFetchRequest)();return(0,r.createNotificationServices)(e)}},85653:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useOriginServices=void 0;var r=n(67102),i=n(97300);t.useOriginServices=function(){var e=(0,i.useFetchRequest)();return(0,r.createOriginServices)(e)}},66771:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(85715)),a=n(21527);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=(0,a.useState)(""),r=(0,i.default)(n,2),l=r[0],o=r[1],u=(0,a.useRef)();return(0,a.useEffect)((function(){return u.current=setTimeout((function(){return o(e)}),t),function(){clearTimeout(u.current)}}),[e,t]),l}},58526:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.listBottomTab=t.TabName=void 0;var i=r(n(91510)),a=r(n(16702)),l=r(n(50570)),o=r(n(25055)),u=t.TabName={Home:"Home",MyTicket:"MyTicket",FollowTicket:"FollowTicket",Notification:"Notification"};t.listBottomTab=[{name:u.Home,component:i.default,permission:["sidebar.admin.dashboard","erequest.sidebar.home"]},{name:u.MyTicket,component:a.default,permission:"sidebar.manageTicket.myTicket"},{name:u.FollowTicket,component:o.default,permission:"sidebar.manageTicket.requiredFollowTicket"},{name:u.Notification,component:l.default,permission:null}]},89103:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createAIServices=void 0;var i=r(n(29293)),a=n(88e3);t.createAIServices=function(e){return{sendMessage:(n=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/eintelligent/api/eRequest/messages",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Promise.resolve(null==n?void 0:n.data)}catch(e){return console.log("sendMessage: ",e),Promise.reject(e)}})),function(e){return n.apply(this,arguments)}),getMessage:(t=(0,i.default)((function*(t){try{var n,r=yield e({url:(0,a.getConfig)().BASE_URL+"/services/eintelligent/api/eRequest/messages",method:"GET",headers:{"Content-Type":"application/json"},params:t}),i=null!=(n=null==r?void 0:r.headers.get("x-total-count"))?n:0;return Promise.resolve({data:null==r?void 0:r.data,totalData:i})}catch(e){return console.log("getMessage: ",e),Promise.reject(e)}})),function(e){return t.apply(this,arguments)})};var t,n}},98814:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createDashboardServices=void 0;var i=r(n(29293)),a=n(88e3);t.createDashboardServices=function(e){return{getCountByService:(u=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/erequest/api/tickets/count-by-service",method:"GET",headers:{"Content-Type":"application/json"},params:t});return Promise.resolve(null==n?void 0:n.data)}catch(e){return console.log("getCountByService: ",e),Promise.reject(e)}})),function(e){return u.apply(this,arguments)}),getCountByStatus:(o=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/erequest/api/tickets/count-by-ticket-status",method:"GET",headers:{"Content-Type":"application/json"},params:t});return Promise.resolve(null==n?void 0:n.data)}catch(e){return console.log("getCountByStatus: ",e),Promise.reject(e)}})),function(e){return o.apply(this,arguments)}),getRecentTicket:(l=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/erequest/api/tickets/most-recent-ticket",method:"GET",headers:{"Content-Type":"application/json"},params:t});return Promise.resolve(null==n?void 0:n.data)}catch(e){return console.log("getRecentTicket: ",e),Promise.reject(e)}})),function(e){return l.apply(this,arguments)}),countByServiceRate:(r=(0,i.default)((function*(){try{var t=yield e({url:(0,a.getConfig)().BASE_URL+"/services/erequest/api/tickets/count-by-service-rate",method:"GET",headers:{"Content-Type":"application/json"}});return Promise.resolve(null==t?void 0:t.data)}catch(e){return console.log("countByServiceRate: ",e),Promise.reject(e)}})),function(){return r.apply(this,arguments)}),countByTicketRate:(n=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/erequest/api/tickets/count-by-ticket-rate",method:"GET",headers:{"Content-Type":"application/json"},params:t});return Promise.resolve(null==n?void 0:n.data)}catch(e){return console.log("countByTicketRate: ",e),Promise.reject(e)}})),function(e){return n.apply(this,arguments)}),ticketDelay:(t=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/erequest/api/tickets/count-ticket-delay-by-service",method:"GET",headers:{"Content-Type":"application/json"},params:t});return Promise.resolve(null==n?void 0:n.data)}catch(e){return console.log("ticketDelay: ",e),Promise.reject(e)}})),function(e){return t.apply(this,arguments)})};var t,n,r,l,o,u}},15876:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createNotificationServices=void 0;var i=r(n(29293)),a=n(88e3);t.createNotificationServices=function(e){return{getListNotifications:(r=(0,i.default)((function*(t,n){try{var r,i=yield e({url:(0,a.getConfig)().BASE_URL+"/services/notify-central/api/idaas-notifies/v2/filter",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),params:t}),l=null==i||null==(r=i.headers)?void 0:r.get("x-total-count");return Promise.resolve({data:null==i?void 0:i.data,totalRecords:l?Number(l):0})}catch(e){}})),function(e,t){return r.apply(this,arguments)}),updateNotifications:(n=(0,i.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/notify-central/api/idaas-notifies",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),typeOfResponse:"text"});return Promise.resolve(null==n?void 0:n.data)}catch(e){console.log("error",e)}})),function(e){return n.apply(this,arguments)}),getNumberOfNotiUnread:(t=(0,i.default)((function*(){try{var t=yield e({url:(0,a.getConfig)().BASE_URL+"/services/notify-central/api/notification-reports/E_REQUEST",method:"GET",headers:{},typeOfResponse:"text"});return Promise.resolve(null==t?void 0:t.data)}catch(e){console.log("error-get-number-noti",e)}})),function(){return t.apply(this,arguments)})};var t,n,r}},67102:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createOriginServices=void 0;var i=r(n(29293)),a=n(88e3);t.createOriginServices=function(e){return{getOrigin:(n=(0,i.default)((function*(t,n){var r=`/services/uaa/api/organizations/${t}`;try{var i=yield e({url:(0,a.getConfig)().BASE_URL+r,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});return Promise.resolve(null==i?void 0:i.data)}catch(e){return Promise.reject(e)}})),function(e,t){return n.apply(this,arguments)}),getListAccount:(t=(0,i.default)((function*(t,n){var r={advanced:!1,contactId:"",custId:null,logins:[],field:"",from:"",keyWord:"",orgIn:null,owner:"",q:"",recipientId:"",recipientRole:[],refId:"",resource:"table_user",terms:{},to:""};t&&(r=Object.assign({},r,t));try{var i=yield e({url:(0,a.getConfig)().BASE_URL+"/services/uaa/api/search/user-info/role",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),params:n});return Promise.resolve({data:null==i?void 0:i.data,totalRecords:Number(null==i?void 0:i.headers.get("x-total-count"))})}catch(e){Promise.reject(e)}})),function(e,n){return t.apply(this,arguments)})};var t,n}}}]);//# sourceMappingURL=src_app_screens_home_component_AddTicketRelative_index_tsx-src_app_screens_home_component_Cre-9018a9.chunk.bundle.map?platform=android/* RCSSB */eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiODA5ODY0ODU3NDA0NjhiNDE5YjBjOWRhZDk3ZDE2MmRhNGZmMmNhM2NhNGIxMjMwMzU2NTE2YmFmMjNiMTc0NiIsImlhdCI6MTc0OTQ3NzUyNH0.JNP46fu7q58a9kwq2AihaUHMFuyerdyyZnvHRXTFH7czzVJiSHikrBClrrE02cakhpq1ElyMczJGD6x0QiuHdxkxNdidkLuZxDjoD8IXguYcJjwofmRJXt2-X69qVwkERhIkuN4oScWvFjA784d9t-6n_5qpkDEoVRC-OQJXfC_pcQWMDBoyvPUGv23BlBO90T63qGvWjtEpvu5PCHS_puf0ZL1TOq5j7uLC8amB2KOhnpB4-kb86EWpplXTHkftlTzSipLCV_08LdOnIdDMct9SkT-kszgIlqasMfUljJSR_eqJC38tV96y5jOJW3pv7XUHsDHhBk3-1kQ83n4DwLie596Ivrg8ep5nu_XZQyft7xeEjDIgBv987_-ZdZaJ7CxjBkqPlFFqDJ1w6u7oCR-dRNdAmdFi3HG5J0YAO2gu1w_WrAxFh0TI70s4mR5xoNBlsZRtYbDFd-heEx0uDSFKMJ67YbD49xbPD3G61EbVahLW48eIYoVWY2qNVS4o9uaXlBYtP86ixzYYCnJP0YukUwBcLenxJljYi3Dhh1o_23FGIqko9CA_X2vyvm7lufL6cbcjukluKpWZrw7bPgceWUKqhCtOfD9H113eLwnN259pgAYkNWgVU_tt-nww4FovL1Uv7SfYvOK_4z0NU4IrOEEfaKfDsJM024gR-sY                                                                                                                                                                                                                                                                                                                                                                                                                                         