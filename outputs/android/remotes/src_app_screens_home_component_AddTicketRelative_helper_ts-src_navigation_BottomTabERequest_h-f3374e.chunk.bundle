(self.webpackChunkerequestApp=self.webpackChunkerequestApp||[]).push([["src_app_screens_home_component_AddTicketRelative_helper_ts-src_navigation_BottomTabERequest_h-f3374e"],{85555:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(2543),o=i(n(21527)),l=n(87841),u=i(n(24541)),s=n(46317),d=n(41995),c=i(n(72431)),f=n(7005),h=n(45335),m=n(2884),y=n(47671);t.default=function(e){var t=e.listDropdown,n=e.onChangeItem,i=e.renderShowData,v=(0,m.useTranslation)().t,p=((0,f.useSafeAreaInsets)(),o.default.useState(!1)),g=(0,r.default)(p,2),S=g[0],x=g[1],b=function(e){n(e),x(!1)};return(0,y.jsx)(l.View,{style:{flexDirection:"row",justifyContent:"center"},children:(0,y.jsx)(h.Menu,{visible:S,onDismiss:function(){return x(!1)},style:{backgroundColor:"#fff",zIndex:999999999},contentStyle:{backgroundColor:"#fff",borderRadius:(0,d.SizeDP)(8)},anchor:(0,y.jsx)(l.Pressable,{style:{alignItems:"center",justifyContent:"center",padding:4},onPress:function(){x(!0)},children:(0,a.isEmpty)(i)?(0,y.jsx)(s.IconHozDot,{width:(0,d.SizeDP)(16),height:(0,d.SizeDP)(16)}):i}),children:(0,y.jsx)(l.FlatList,{style:{zIndex:999999999},data:t,renderItem:function(e){var t=e.item;return(0,y.jsx)(h.Menu.Item,{style:c.default.item,onPress:function(){return b(t)},title:(0,y.jsxs)(l.TouchableOpacity,{style:c.default.item,onPress:function(){return b(t)},children:[!(0,a.isEmpty)(t.icon)&&t.icon,t.key&&(0,y.jsx)(u.default,{children:v(`${t.key}`)})]})})},keyExtractor:function(e,t){return t.toString()}})})})}},72431:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(41995);t.default=i.StyleSheet.create({ctnListItem:{minWidth:(0,r.SizeDP)(30),position:"absolute",backgroundColor:"grey",borderRadius:(0,r.SizeDP)(8),right:(0,r.SizeDP)(20),top:(0,r.SizeDP)(20),zIndex:3},item:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:(0,r.SizeDP)(10)},overlay:{flex:1},dropdown:{position:"absolute",backgroundColor:"#fff",minWidth:(0,r.SizeDP)(30),maxWidth:(0,r.SizeDP)(200),shadowColor:"#000000",shadowRadius:4,shadowOffset:{height:4,width:0},shadowOpacity:.5,right:(0,r.SizeDP)(10),borderRadius:(0,r.SizeDP)(8)}})},3120:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=n(32207),u=i(n(43184)),s=n(21527),d=i(n(66771)),c=n(87841),f=i(n(94516)),h=i(n(1217)),m=i(n(27747)),y=n(85653),v=n(2884),p=n(47671);t.default=function(e){var t=e.onClose,n=e.filter,i=e.multiple,g=e.onSelect,S=e.dataSelected,x=(0,v.useTranslation)().t,b=(0,s.useState)(""),j=(0,o.default)(b,2),D=j[0],w=j[1],C=(0,d.default)(D,500),T=(0,s.useState)([]),k=(0,o.default)(T,2),_=k[0],P=k[1],I=(0,s.useState)(S?Array.isArray(S)?S:[S]:[]),M=(0,o.default)(I,2),z=M[0],O=M[1],F=(0,s.useState)(0),B=(0,o.default)(F,2),R=B[0],V=B[1],E=(0,s.useState)(0),L=(0,o.default)(E,2),N=L[0],A=L[1],H=(0,s.useState)(!1),W=(0,o.default)(H,2),K=W[0],Y=W[1],G=(0,y.useOriginServices)();(0,s.useEffect)((function(){U(0)}),[C]);var q,U=(q=(0,a.default)((function*(e){try{var t={page:e,size:50},i=Object.assign({},n,{q:C.trim()}),a=yield G.getListAccount(i,t);a&&(P(0===e?a.data:[].concat((0,r.default)(_),(0,r.default)(a.data))),A(a.totalRecords))}catch(e){}finally{Y(!1)}})),function(e){return q.apply(this,arguments)});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff"},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",onPressIconLeft:t}),(0,p.jsx)(l.Divider,{}),(0,p.jsxs)(c.View,{style:{padding:10,flex:1},children:[(0,p.jsx)(m.default,{style:{height:30},value:D,onChangeText:w,label:x("CM.search")}),(0,p.jsx)(c.FlatList,{refreshing:K,onRefresh:function(){Y(!0),V(0),U(0)},onEndReachedThreshold:.5,onEndReached:function(){(null==_?void 0:_.length)<N&&(V(R+1),U(R+1))},style:{flex:1,marginTop:10},contentContainerStyle:{rowGap:16},data:_,renderItem:function(e){var t=e.item;return(0,p.jsx)(h.default,{listUserSelected:z,setListUserSelected:O,userData:t,multiple:i})}})]}),(0,p.jsx)(f.default,{style:{marginHorizontal:10},label:x("CM.confirm"),onPress:function(){g(i?z:z[0]),null==t||t()}})]})}},1217:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=n(87841),o=i(n(24541)),l=n(20880),u=n(12638),s=n(32207),d=n(47671);t.default=function(e){var t=e.userData,n=e.setListUserSelected,i=e.listUserSelected,c=e.multiple,f=(0,u.useAppSelector)((function(e){return e.account})).dataAccount;return(0,d.jsxs)(a.TouchableOpacity,{onPress:function(){if(c)if(null==i?void 0:i.find((function(e){return(null==e?void 0:e.email)===t.email}))){var e=null==i?void 0:i.filter((function(e){return(null==e?void 0:e.email)!==t.email}));n((0,r.default)(e))}else n([].concat((0,r.default)(i),[t]));else n([t])},disabled:t.email===f.email,style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:10,backgroundColor:t.email===f.email?"#E8E8E8":"#fff"},children:[(0,d.jsxs)(a.View,{style:{flexDirection:"row",columnGap:10,alignItems:"center"},children:[(0,d.jsx)(a.Image,{style:{width:32,height:32,borderRadius:16},source:{uri:(null==t?void 0:t.imageUrl)||l.String.DEFAULT_IMAGE}}),(0,d.jsxs)(a.View,{children:[(0,d.jsx)(o.default,{children:null==t?void 0:t.personalName}),(0,d.jsx)(o.default,{children:null==t?void 0:t.email})]})]}),i.find((function(e){return(null==e?void 0:e.email)===t.email}))&&(0,d.jsx)(s.Icon,{name:"checkmark-circle-2-outline",fill:"green",width:24,height:24})]})}},35077:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(87841),o=i(n(24541)),l=i(n(28125)),u=i(n(76644)),s=n(21527),d=i(n(3120)),c=n(47671);t.default=function(e){var t=e.label,n=e.isRequired,i=e.style,f=e.labelStyle,h=e.containerStyle,m=e.placeholder,y=e.filter,v=e.multiple,p=void 0!==v&&v,g=e.dataSelected,S=e.setDataSelected,x=(0,s.useState)(!1),b=(0,r.default)(x,2),j=b[0],D=b[1];return(0,c.jsxs)(a.View,{style:[{rowGap:10,backgroundColor:"#fff"},i],children:[(0,c.jsxs)(o.default,{style:[l.default.label,f],children:[t," ",n&&(0,c.jsx)(o.default,{style:l.default.colorRequired,children:"*"})]}),(0,c.jsx)(a.Pressable,{onPress:function(){return D(!0)},style:[l.default.container,h],children:g?p||Array.isArray(g)?p&&Array.isArray(g)?(0,c.jsx)(o.default,{numberOfLines:1,children:null==g?void 0:g.map((function(e){return null==e?void 0:e.email})).join(", ")}):void 0:(0,c.jsx)(o.default,{style:l.default.placeholderTxt,children:null==g?void 0:g.email}):(0,c.jsx)(o.default,{style:l.default.placeholderTxt,children:m})}),(0,c.jsx)(u.default,{isVisible:j,children:(0,c.jsx)(d.default,{multiple:p,filter:y,onClose:function(){return D(!1)},onSelect:S,dataSelected:g})})]})}},28125:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({label:{fontSize:14,fontFamily:r.Font.InterMedium500,color:"#00204D"},colorRequired:{color:"#E14337"},container:{borderWidth:1,borderColor:r.Color.borderColor,borderRadius:8,padding:10,backgroundColor:"#fff",flexDirection:"row",columnGap:10,alignItems:"center",height:40},placeholderTxt:{fontSize:14,fontFamily:r.Font.InterRegular400,color:r.Color.Text}})},67903:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),a=n(20880),o=i(n(69419)),l=n(47671);t.default=function(){return(0,l.jsx)(r.View,{style:o.default.loadingMore,children:(0,l.jsx)(r.ActivityIndicator,{size:"small",color:a.Color.BgPrimary})})}},69419:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841);t.default=i.StyleSheet.create({loadingMore:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:16}})},79445:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),a=i(n(35405)),o=n(47671);t.default=function(){return(0,o.jsxs)(r.View,{style:a.default.skeletonItem,children:[(0,o.jsx)(r.View,{style:{width:40,height:40,backgroundColor:"#E4E9F2",borderRadius:8}}),(0,o.jsxs)(r.View,{style:a.default.skeletonContent,children:[(0,o.jsx)(r.View,{style:a.default.skeletonTitle}),(0,o.jsx)(r.View,{style:a.default.skeletonDescription})]})]})}},35405:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841);t.default=i.StyleSheet.create({skeletonItem:{margin:16,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:8,flex:1},skeletonContent:{flex:1,rowGap:6},skeletonTitle:{backgroundColor:"#E4E9F2",padding:8,borderRadius:4},skeletonDescription:{backgroundColor:"#E4E9F2",borderRadius:4,padding:6}})},98884:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dataStatus=t.dataPrioritySelect=void 0;var i=n(60596);t.dataPrioritySelect=[{label:"TK.high",value:i.Propity.high},{label:"TK.medium",value:i.Propity.medium},{label:"TK.low",value:i.Propity.low}],t.dataStatus=[{label:"TK.processing",value:i.Status.processing},{label:"TK.completed",value:i.Status.completed},{label:"TK.draft",value:i.Status.draft},{label:"TK.voided",value:i.Status.voided},{label:"TK.rejected",value:i.Status.rejected},{label:"TK.overdue",value:i.Status.overdue}]},99246:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeTypeList=t.precious=t.fullMonthList=void 0;t.timeTypeList=[{value:"precious",label:"DB.filter.fixed-time-period"},{value:"period",label:"DB.filter.about-time"}],t.precious=[{value:"quarter1",label:"DB.filter.precious1",child:[{value:1,label:"DB.filter.month1"},{value:2,label:"DB.filter.month2"},{value:3,label:"DB.filter.month3"}]},{value:"quarter2",label:"DB.filter.precious2",child:[{value:4,label:"DB.filter.month4"},{value:5,label:"DB.filter.month5"},{value:6,label:"DB.filter.month6"}]},{value:"quarter3",label:"DB.filter.precious3",child:[{value:7,label:"DB.filter.month7"},{value:8,label:"DB.filter.month8"},{value:9,label:"DB.filter.month9"}]},{value:"quarter4",label:"DB.filter.precious4",child:[{value:10,label:"DB.filter.month10"},{value:11,label:"DB.filter.month11"},{value:12,label:"DB.filter.month12"}]}],t.fullMonthList=[{value:1,label:"DB.filter.month1"},{value:2,label:"DB.filter.month2"},{value:3,label:"DB.filter.month3"},{value:4,label:"DB.filter.month4"},{value:5,label:"DB.filter.month5"},{value:6,label:"DB.filter.month6"},{value:7,label:"DB.filter.month7"},{value:8,label:"DB.filter.month8"},{value:9,label:"DB.filter.month9"},{value:10,label:"DB.filter.month10"},{value:11,label:"DB.filter.month11"},{value:12,label:"DB.filter.month12"}]},95784:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(43693)),a=i(n(85715)),o=n(87841),l=n(21527),u=i(n(76644)),s=i(n(43184)),d=n(32207),c=i(n(65963)),f=n(99246),h=i(n(33254)),m=i(n(94516)),y=n(2884),v=n(47671);t.default=function(e){var t=e.setDataFilter,n=(0,y.useTranslation)().t,i=(0,l.useState)(!1),p=(0,a.default)(i,2),g=p[0],S=p[1],x=(0,l.useState)(!1),b=(0,a.default)(x,2),j=b[0],D=b[1],w=(0,l.useState)([]),C=(0,a.default)(w,2),T=C[0],k=C[1],_=(0,l.useState)(new d.IndexPath(0)),P=(0,a.default)(_,2),I=P[0],M=P[1],z=(0,l.useState)(new d.IndexPath(0)),O=(0,a.default)(z,2),F=O[0],B=O[1],R=(0,l.useState)(),V=(0,a.default)(R,2),E=V[0],L=V[1],N=(0,l.useState)(),A=(0,a.default)(N,2),H=A[0],W=A[1],K=(0,l.useState)({year:(new Date).getFullYear().toString(),month:"",endDate:"",startDate:""}),Y=(0,a.default)(K,2),G=Y[0],q=Y[1];(0,l.useEffect)((function(){t(G),k(Array.from({length:30},(function(e,t){return{label:((new Date).getFullYear()-t).toString(),value:((new Date).getFullYear()-t).toString()}})))}),[]);var U=function(e,t){q((function(n){return Object.assign({},n,(0,r.default)({},t,e))}))},$=(0,l.useCallback)((function(){var e;return E?null==f.precious||null==(e=f.precious[null==E?void 0:E.row])?void 0:e.child:f.fullMonthList}),[E,F]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.TouchableOpacity,{onPress:function(){return S(!0)},style:{borderWidth:1,borderColor:"#8f4eff",paddingHorizontal:6,paddingVertical:6,borderRadius:5},children:(0,v.jsx)(d.Icon,{name:"funnel-outline",width:16,height:16,fill:"#8f4eff"})}),(0,v.jsx)(u.default,{isVisible:g,children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff"},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",onPressIconLeft:function(){return S(!1)},title:n("CM.filter")}),(0,v.jsx)(d.Divider,{}),(0,v.jsxs)(o.View,{style:{padding:10,flex:1},children:[(0,v.jsx)(c.default,{size:"medium",onSelect:function(e){M(e),0===e.row?(D(!1),B(new d.IndexPath(0)),L(void 0),W(void 0),q({year:(new Date).getFullYear().toString(),month:"",endDate:"",startDate:""})):(D(!0),q({year:"",month:"",endDate:"",startDate:""}))},valueSelect:I,label:n("DB.filter.type-time"),listData:f.timeTypeList,isi18n:!0}),j?(0,v.jsxs)(o.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:10},children:[(0,v.jsx)(h.default,{value:G.startDate,onChangeDate:function(e){return U(e,"startDate")}}),(0,v.jsx)(d.Icon,{name:"arrow-forward-outline",width:20,height:20}),(0,v.jsx)(h.default,{value:G.endDate,onChangeDate:function(e){return U(e,"endDate")}})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.default,{onSelect:function(e){B(e),q((function(t){var n;return Object.assign({},t,{year:null==T||null==(n=T[null==e?void 0:e.row])?void 0:n.value})}))},valueSelect:F,label:n("DB.filter.year"),size:"medium",listData:T,isi18n:!0}),(0,v.jsx)(c.default,{onSelect:function(e){L(e),W(void 0)},size:"medium",valueSelect:E,label:n("DB.filter.precious"),listData:f.precious,isi18n:!0,placeholder:n("DB.filter.precious-placeholder")}),(0,v.jsx)(c.default,{onSelect:W,valueSelect:H,label:n("DB.filter.month"),size:"medium",listData:$(),isi18n:!0,placeholder:n("DB.filter.month-placeholder")})]})]}),(0,v.jsx)(m.default,{style:{marginHorizontal:16},label:n("CM.confirm"),onPress:function(){try{if(0===(null==I?void 0:I.row)){var e;if(!E)return void t(G);if(!H){var n,i=(s=null==(n=f.precious[null==E?void 0:E.row])?void 0:n.value,d=Number(null==G?void 0:G.year)||(new Date).getFullYear(),c=0,h=0,"quarter1"==s?(c=0,h=2):"quarter2"==s?(c=3,h=5):"quarter3"==s?(c=6,h=8):"quarter4"==s&&(c=9,h=11),{fromDate:new Date(d,c,1,0,0,0),toDate:new Date(d,h,"quarter2"===s||"quarter3"===s?30:31,23,59,59)}),r=i.fromDate,a=i.toDate;return q((function(e){return Object.assign({},e,{startDate:r.toISOString(),endDate:a.toISOString()})})),void t(Object.assign({},G,{startDate:r.toISOString(),endDate:a.toISOString()}))}var o=function(e){var t,n=Number(null==G?void 0:G.year)||(new Date).getFullYear();t=e-1;var i=new Date(n,e-1,1,0,0,0),r=new Date(n,t,Number(function(e,t){return t%4==0&&t%100!=0||t%400==0?[31,29,31,30,31,30,31,31,30,31,30,31][e-1]:[31,28,31,30,31,30,31,31,30,31,30,31][e-1]}(e+1,n)),23,59,59);return{fromDate:i,toDate:r}}(null==(e=$()[null==H?void 0:H.row])?void 0:e.value),l=o.fromDate,u=o.toDate;t(Object.assign({},G,{startDate:l.toISOString(),endDate:u.toISOString()}))}else t(Object.assign({},G))}catch(e){}finally{S(!1)}var s,d,c,h}})]})})]})}},99436:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=i(n(95784)),s=n(20880),d=n(21527),c=n(33139),f=n(35708),h=i(n(2336)),m=n(2884),y=n(47671);t.default=function(){var e=(0,m.useTranslation)().t,t=(0,d.useState)(),n=(0,a.default)(t,2),i=n[0],v=n[1],p=(0,d.useState)(),g=(0,a.default)(p,2),S=g[0],x=g[1],b=(0,c.useDashboardServices)();(0,d.useEffect)((function(){i&&D(i)}),[i]);var j,D=(j=(0,r.default)((function*(e){var t=yield b.getRecentTicket(e);t&&x(t)})),function(e){return j.apply(this,arguments)});return(0,y.jsxs)(o.View,{style:{flex:1},children:[(0,y.jsxs)(o.View,{style:h.default.ctnMain,children:[(0,y.jsx)(l.default,{style:h.default.txtHeader,children:e("DB.ticket-nearest")}),(0,y.jsx)(u.default,{setDataFilter:v})]}),(0,y.jsx)(o.FlatList,{data:S,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},renderItem:function(e){var t=e.item;return(0,y.jsxs)(o.View,{style:h.default.ctnBody,children:[(0,y.jsx)(o.Image,{source:{uri:s.String.DEFAULT_IMAGE},style:{width:30,height:30,borderRadius:15}}),(0,y.jsxs)(o.View,{children:[(0,y.jsx)(l.default,{style:h.default.txtTitle,children:t.title}),(0,y.jsx)(l.default,{style:h.default.txtDate,children:f.DateUtils.convertDateToDDMMYYYY_H_M(t.createdDate)})]})]})},ListEmptyComponent:function(){return(0,y.jsx)(l.default,{children:e("DB.no-data")})}})]})}},2336:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({ctnMain:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",columnGap:10},txtTitle:{color:"#366ae2",fontSize:12,fontFamily:r.Font.InterRegular400},txtDate:{color:"#00204db3",fontSize:10,fontFamily:r.Font.InterRegular400}})},60002:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=n(21527),s=n(33139),d=i(n(86746)),c=n(2884),f=n(47671);t.default=function(){var e=(0,c.useTranslation)().t,t=(0,u.useState)(),n=(0,a.default)(t,2),i=n[0],h=n[1],m=(0,s.useDashboardServices)();(0,u.useEffect)((function(){v()}),[]);var y,v=(y=(0,r.default)((function*(){var e=yield m.countByServiceRate();e&&h(null==e?void 0:e.slice(0,3))})),function(){return y.apply(this,arguments)});return(0,f.jsxs)(o.View,{style:{flex:1},children:[(0,f.jsx)(o.View,{style:d.default.ctnHeader,children:(0,f.jsx)(l.default,{style:d.default.txtHeader,children:e("DB.rate_service")})}),(0,f.jsx)(o.FlatList,{data:i,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},renderItem:function(t){var n=t.item,i=t.index;return(0,f.jsxs)(o.View,{style:Object.assign({},d.default.ctnItem,d.default[`top_${i+1}`]),children:[(0,f.jsxs)(l.default,{style:d.default.txt_1,children:["Top ",i+1]}),(0,f.jsx)(l.default,{style:d.default.txt_2,children:n.serviceName}),(0,f.jsxs)(l.default,{style:d.default.txt_3,children:[n.totalTickets," ",e("DB.ticket-rated-5")]})]})},ListEmptyComponent:function(){return(0,f.jsx)(l.default,{children:e("DB.no-data")})}})]})}},86746:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({top_1:{backgroundColor:"rgba(255, 243, 235, 1)",borderColor:"rgba(254, 211, 179, 1)",borderWidth:1},top_2:{backgroundColor:"rgba(246, 238, 252, 1)",borderColor:"rgba(231, 212, 247, 1)",borderWidth:1},top_3:{backgroundColor:"rgba(232, 247, 239, 1)",borderColor:"rgba(198, 236, 215, 1)",borderWidth:1},ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},ctnItem:{justifyContent:"center",alignItems:"center",rowGap:6,borderRadius:8,paddingHorizontal:12,paddingVertical:10},txt_1:{fontSize:17,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},txt_2:{fontSize:13,fontFamily:r.Font.InterRegular400,color:"#00204D"},txt_3:{fontSize:11,fontFamily:r.Font.InterRegular400,color:"#00204de6"}})},82482:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=i(n(95784)),s=n(20880),d=n(21527),c=n(33139),f=n(32207),h=n(46317),m=i(n(91722)),y=n(2884),v=n(47671);t.default=function(){var e=(0,y.useTranslation)().t,t=(0,d.useState)(),n=(0,a.default)(t,2),i=n[0],p=n[1],g=(0,d.useState)(),S=(0,a.default)(g,2),x=S[0],b=S[1],j=(0,c.useDashboardServices)();(0,d.useEffect)((function(){i&&w(i)}),[i]);var D,w=(D=(0,r.default)((function*(e){var t=yield j.getCountByService(e);if(t){var n=t.map((function(e){return e.totalTickets})).reduce((function(e,t){return e+t}),0),i=t.map((function(e){return Object.assign({},e,{percent:e.totalTickets/n})}));b(i)}})),function(e){return D.apply(this,arguments)});return(0,v.jsxs)(o.View,{style:{flex:1},children:[(0,v.jsxs)(o.View,{style:m.default.ctnHeader,children:[(0,v.jsx)(l.default,{style:m.default.txtHeader,children:e("DB.ticket-service")}),(0,v.jsx)(u.default,{setDataFilter:p})]}),(0,v.jsx)(o.FlatList,{data:x,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},style:{flex:1},renderItem:function(e){var t,n=e.item;return(0,v.jsxs)(o.View,{style:m.default.ctnBody,children:[(0,v.jsxs)(o.View,{style:m.default.ctnSubBody,children:[(0,v.jsx)(o.View,{children:(0,v.jsx)(o.View,{style:[m.default.ctnImage],children:n.iconBase64?(0,v.jsx)(o.Image,{width:20,height:20,borderRadius:10,source:{uri:`${s.String.PREFIX_IMG_BASE64}${n.iconBase64}`}}):(0,v.jsx)(h.IconDefault,{width:20,height:20})})}),(0,v.jsxs)(o.View,{style:{flex:1},children:[(0,v.jsx)(l.default,{style:m.default.txtService,children:null==n||null==(t=n.serviceName)?void 0:t.trim()}),(0,v.jsx)(l.default,{style:m.default.txtDescription,children:n.description})]})]}),(0,v.jsxs)(o.View,{style:{flex:1},children:[(0,v.jsx)(l.default,{style:m.default.txtPercent,children:`${null!=n&&n.percent?(100*Number(n.percent)).toFixed(2):0}%`}),(0,v.jsx)(f.ProgressBar,{animating:!1,progress:n.percent})]})]})},ListEmptyComponent:function(){return(0,v.jsx)(l.default,{children:e("DB.no-data")})}})]})}},91722:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,columnGap:10},ctnSubBody:{flex:2,flexDirection:"row",alignItems:"center",columnGap:8},ctnImage:{backgroundColor:"rgb(237,242,253)",width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"},txtService:{fontSize:14,fontFamily:r.Font.InterMedium500,color:"#00204D"},txtDescription:{fontSize:12,fontFamily:r.Font.InterRegular400,color:r.Color.Text},txtPercent:{fontFamily:r.Font.InterMedium500,color:"#00204D",fontSize:13}})},60500:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=i(n(95784)),s=n(21527),d=n(33139),c=n(1333),f=i(n(36136)),h=n(24908),m=n(20880),y=n(2884),v=n(47671);t.default=function(){var e=(0,y.useTranslation)().t,t=(0,s.useState)(),n=(0,a.default)(t,2),i=n[0],p=n[1],g=(0,s.useState)([]),S=(0,a.default)(g,2),x=S[0],b=S[1],j=(0,o.useWindowDimensions)().width,D=(0,d.useDashboardServices)();(0,s.useEffect)((function(){i&&C(i)}),[i]);var w,C=(w=(0,r.default)((function*(e){var t=yield D.ticketDelay(e);t&&b(null==t?void 0:t.map((function(e){return{value:e.totalTickets,label:e.serviceName,frontColor:c.colorList[Math.floor(Math.random()*c.colorList.length)]}})))})),function(e){return w.apply(this,arguments)});return(0,v.jsxs)(o.View,{style:{flex:1},children:[(0,v.jsxs)(o.View,{style:f.default.ctnHeader,children:[(0,v.jsx)(l.default,{style:f.default.txtHeader,children:e("DB.ticket-late")}),(0,v.jsx)(u.default,{setDataFilter:p})]}),(0,v.jsx)(o.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:(0,v.jsx)(h.BarChart,{barWidth:20,width:j-100,barBorderRadius:4,frontColor:"lightgray",data:x,yAxisThickness:.5,xAxisThickness:.5,xAxisLabelTextStyle:{fontSize:8,fontFamily:m.Font.InterSemiBold600,color:m.Color.Text},yAxisTextStyle:{fontSize:12,fontFamily:m.Font.InterSemiBold600,color:m.Color.Text},xAxisTextNumberOfLines:2})})]})}},36136:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},txtHeader:{fontSize:16,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,columnGap:10},ctnSubBody:{flex:2,flexDirection:"row",alignItems:"center",columnGap:8},ctnImage:{backgroundColor:"rgb(237,242,253)",width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"},txtService:{fontSize:14,fontFamily:r.Font.InterMedium500,color:"#00204D"},txtDescription:{fontSize:12,fontFamily:r.Font.InterRegular400,color:r.Color.Text}})},81001:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=i(n(95784)),s=n(21527),d=n(33139),c=n(32207),f=i(n(99953)),h=n(2884),m=n(47671);t.default=function(){var e=(0,h.useTranslation)().t,t=(0,s.useState)(),n=(0,a.default)(t,2),i=n[0],y=n[1],v=(0,s.useState)(),p=(0,a.default)(v,2),g=p[0],S=p[1],x=(0,d.useDashboardServices)();(0,s.useEffect)((function(){i&&j(i)}),[i]);var b,j=(b=(0,r.default)((function*(e){var t=yield x.countByTicketRate(e);t&&S(t)})),function(e){return b.apply(this,arguments)});return(0,m.jsxs)(o.View,{style:{flex:1},children:[(0,m.jsxs)(o.View,{style:f.default.ctnMain,children:[(0,m.jsx)(l.default,{style:f.default.txtHeader,children:e("DB.rate_ticket")}),(0,m.jsx)(u.default,{setDataFilter:y})]}),(0,m.jsx)(o.FlatList,{data:g,showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:16},renderItem:function(e){var t=e.item;return(0,m.jsxs)(o.View,{style:f.default.ctnBody,children:[(0,m.jsx)(o.View,{style:f.default.txtTitle,children:[1,2,3,4,5].map((function(e,n){return(0,m.jsx)(c.Icon,{fill:n<(null==t?void 0:t.rate)?"#fd6b04":"#72839c",name:n<(null==t?void 0:t.rate)?"star":"star-outline",width:16,height:16},n)}))}),(0,m.jsx)(l.default,{style:f.default.txtDate,children:t.totalTickets})]})},ListEmptyComponent:function(){return(0,m.jsx)(l.default,{children:e("DB.no-data")})}})]})}},99953:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({ctnMain:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},txtHeader:{fontSize:16,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},ctnBody:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",columnGap:10,backgroundColor:"rgb(249,250,251)",borderRadius:8,paddingHorizontal:12,paddingVertical:10},txtTitle:{flexDirection:"row",columnGap:4,alignItems:"center"},txtDate:{fontSize:14,fontFamily:r.Font.InterSemiBold600,color:"#00204df2"}})},57384:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=i(n(95784)),s=n(21527),d=n(33139),c=n(1333),f=i(n(96252)),h=n(24908),m=n(2884),y=n(20880),v=n(47671);t.default=function(){var e=(0,m.useTranslation)().t,t=(0,s.useState)(),n=(0,a.default)(t,2),i=n[0],p=n[1],g=(0,s.useState)([]),S=(0,a.default)(g,2),x=S[0],b=S[1],j=(0,d.useDashboardServices)(),D=(0,o.useWindowDimensions)();(0,s.useEffect)((function(){i&&C(i)}),[i]);var w,C=(w=(0,r.default)((function*(e){var t=yield j.getCountByStatus(e);t&&b(null==t?void 0:t.map((function(e){var t,n;return{value:e.totalTickets,text:e.totalTickets,color:null==c.CHART_COUNT_BY_STATUS_DATA||null==(t=c.CHART_COUNT_BY_STATUS_DATA.find((function(t){return t.value===e.ticketStatus})))?void 0:t.backgroundColor,label:null==c.CHART_COUNT_BY_STATUS_DATA||null==(n=c.CHART_COUNT_BY_STATUS_DATA.find((function(t){return t.value===e.ticketStatus})))?void 0:n.label}})))})),function(e){return w.apply(this,arguments)});return(0,v.jsxs)(o.View,{style:{flex:1},children:[(0,v.jsxs)(o.View,{style:f.default.ctnHeader,children:[(0,v.jsx)(l.default,{style:f.default.txtHeader,children:e("DB.ticket-status")}),(0,v.jsx)(u.default,{setDataFilter:p})]}),0===(null==x?void 0:x.length)&&(0,v.jsx)(l.default,{children:e("DB.no-data")}),(0,v.jsxs)(o.ScrollView,{contentContainerStyle:f.default.ctnBody,children:[(0,v.jsx)(h.PieChart,{donut:!0,radius:D.width/4,textSize:13,data:x}),(0,v.jsx)(o.FlatList,{scrollEnabled:!1,data:x,renderItem:function(t){var n=t.item;return(0,v.jsxs)(o.View,{style:f.default.ctnSubBody,children:[(0,v.jsx)(o.View,{style:Object.assign({},f.default.ctnImage,{backgroundColor:n.color})}),(0,v.jsxs)(l.default,{style:f.default.txtDescription,children:[e(`TK.${n.label}`)," ",(0,v.jsxs)(l.default,{style:{fontFamily:y.Font.InterSemiBold600,fontSize:12},children:["(",n.value,")"]})]})]})}})]})]})}},96252:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},txtHeader:{fontSize:16,fontFamily:r.Font.InterSemiBold600,color:"#00204D"},ctnBody:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",columnGap:20,flex:1},ctnSubBody:{flexDirection:"row",alignItems:"center",columnGap:10},ctnImage:{width:10,height:10,borderRadius:2},txtDescription:{fontSize:14,fontFamily:r.Font.InterRegular400,color:r.Color.Text,flex:1}})},1333:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.colorList=t.CHART_COUNT_BY_STATUS_DATA=void 0;t.colorList=["rgba(54, 106, 226, 1)","rgba(172, 103, 228, 1)","rgba(252, 107, 3, 1)","rgba(57, 172, 109, 1)","rgba(222, 168, 33, 1)"],t.CHART_COUNT_BY_STATUS_DATA=[{label:"pending",value:"pending",backgroundColor:"rgba(253, 122, 28, 1)"},{label:"processing",value:"processing",backgroundColor:"rgba(127, 67, 239, 1)"},{label:"completed",value:"completed",backgroundColor:"rgba(64, 191, 121, 1)"},{label:"draft",value:"draft",backgroundColor:"rgba(230, 234, 240, 1)"},{label:"voided",value:"voided",backgroundColor:"rgba(225, 67, 55, 1)"},{label:"overdue",value:"overdue",backgroundColor:"rgba(225, 67, 55, 1)"},{label:"rejected",value:"rejected",backgroundColor:"rgb(148,110,109)"}]},62915:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(87841),o=i(n(82482)),l=n(10836),u=n(21527),s=n(20880),d=i(n(99436)),c=i(n(81001)),f=i(n(60002)),h=i(n(60500)),m=i(n(57384)),y=n(2884),v=n(47671);t.default=function(){var e=(0,y.useTranslation)().t,t=(0,a.useWindowDimensions)(),n=(0,u.useState)(0),i=(0,r.default)(n,2),p=i[0],g=i[1],S=(0,l.SceneMap)({service:o.default,status:m.default,delay:h.default,recent:d.default,ticketRate:c.default,serviceRate:f.default}),x=[{key:"service",title:e("DB.ticket-service")},{key:"status",title:e("DB.ticket-status")},{key:"delay",title:e("DB.ticket-late")},{key:"recent",title:e("DB.ticket-nearest")},{key:"ticketRate",title:e("DB.rate_ticket")},{key:"serviceRate",title:e("DB.rate_service")}];return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(l.TabView,{lazy:!0,style:{backgroundColor:"#fff"},sceneContainerStyle:{paddingHorizontal:16,paddingVertical:10},renderTabBar:function(e){return(0,v.jsx)(l.TabBar,Object.assign({},e,{indicatorStyle:{backgroundColor:s.Color.BgPrimary},style:{backgroundColor:"#fff"},scrollEnabled:!0,labelStyle:{color:s.Color.BgPrimary,fontFamily:s.Font.InterSemiBold600,fontSize:10,textAlign:"center"}}))},navigationState:{index:p,routes:x},renderScene:S,onIndexChange:g,initialLayout:{width:t.width},swipeEnabled:!1})})}},46876:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ListServices=void 0;var i=n(20880);t.ListServices=[{id:1,name:"TK.create_ticket",navigationName:i.NavigationName.HomeListService,icon:"folder-add-outline",permission:"erequest.sidebar.home"}]},91510:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(21527));var r=n(87841),a=i(n(76158)),o=i(n(24541)),l=n(14740),u=i(n(43184)),s=n(32207),d=n(2884),c=i(n(62915)),f=n(46876),h=n(37106),m=i(n(14367)),y=n(47671);t.default=function(){var e=(0,d.useTranslation)().t,t=(0,l.useNavigation)(),n=(0,h.useZutandStore)().listMenuViewERequest;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.default,{showIconBackLeft:!1,title:"",alignment:"start",renderContentRight:function(){return(0,y.jsx)(r.Pressable,{onPress:function(){return t.goBack()},children:(0,y.jsx)(s.Icon,{fill:"#fff",width:24,height:24,name:"home-outline"})})},renderContentLeftDynamic:function(){return(0,y.jsx)(r.Image,{resizeMode:"contain",source:{uri:"https://res.cloudinary.com/de0sqyhr9/image/upload/v1745827676/Logo-eRequest_bfrtnk.png"},style:{width:180,height:28}})}}),(0,y.jsxs)(r.View,{style:{flex:1,backgroundColor:"#fff"},children:[(0,y.jsxs)(r.View,{style:a.default.ctnMain,children:[(0,y.jsx)(o.default,{style:a.default.textTitle,children:e("HM.title")}),(0,y.jsx)(r.FlatList,{data:null==f.ListServices?void 0:f.ListServices.filter((function(e){if(null==n?void 0:n.find((function(t){return t.nameId===e.permission})))return e})),horizontal:!0,style:{marginTop:10},contentContainerStyle:{gap:16},showsHorizontalScrollIndicator:!1,renderItem:function(n){var i=n.item;return(0,y.jsxs)(r.Pressable,{onPress:function(){return t.navigate(i.navigationName)},style:a.default.ctnPress,children:[(0,y.jsx)(m.default,{style:a.default.ctnCheck,start:{x:1,y:0},colors:["#2f45ff","#d856ff"],children:(0,y.jsx)(s.Icon,{fill:"#fff",name:i.icon,width:20,height:20})}),(0,y.jsx)(o.default,{style:a.default.txtPress,children:e(i.name)})]})},ListEmptyComponent:function(){return(0,y.jsx)(o.default,{children:e("DB.no-data")})}})]}),(0,y.jsx)(s.Divider,{style:{height:6}}),(null==n?void 0:n.find((function(e){return"sidebar.admin.dashboard"===e.nameId})))&&(0,y.jsx)(c.default,{})]})]})}},76158:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnMain:{padding:(0,r.SizeDP)(16),backgroundColor:a.Color.White},textTitle:{fontFamily:a.Font.InterSemiBold600,fontSize:r.default.FontLarge,color:a.Color.Text},viewListServices:{alignItems:"center",justifyContent:"center",flex:1},textH1:{fontFamily:a.Font.InterSemiBold600,fontSize:r.default.FontBase,color:a.Color.Text,marginBottom:(0,r.SizeDP)(8),marginTop:(0,r.SizeDP)(16)},textH3:{fontFamily:a.Font.InterRegular400,fontSize:r.default.FontTiny,color:a.Color.Text07},ctnItemList:{backgroundColor:a.Color.White,padding:(0,r.SizeDP)(16),borderRadius:(0,r.SizeDP)(8),marginBottom:(0,r.SizeDP)(16),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:3.84,elevation:5,flexDirection:"row",alignItems:"center",columnGap:(0,r.SizeDP)(10)},ctnImage:{width:(0,r.SizeDP)(68),height:(0,r.SizeDP)(68),borderRadius:(0,r.SizeDP)(8),alignItems:"center",justifyContent:"center"},textTitleItem:{fontFamily:a.Font.InterMedium500,fontSize:r.default.FontSmall,color:a.Color.colorText},textDes:{fontFamily:a.Font.InterRegular400,fontSize:r.default.FontTiny,color:a.Color.Text07},ctnPress:{alignItems:"center",rowGap:10},ctnCheck:{width:40,height:40,borderRadius:8,backgroundColor:a.Color.BgPrimary,justifyContent:"center",alignItems:"center"},txtPress:{fontFamily:a.Font.InterSemiBold600,fontSize:12,color:a.Color.BgPrimary}})},89117:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=n(87841),u=n(7005),s=i(n(24541)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),c=i(n(66549)),f=i(n(55980)),h=n(12638),m=n(20880),y=i(n(77389)),v=n(60596),p=n(2884),g=n(11671),S=i(n(45001)),x=i(n(27747)),b=n(14740),j=i(n(67903)),D=n(32207),w=i(n(79445)),C=n(41995),T=n(47671);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}t.default=function(e){var t=e.dataListStatus,n=(0,p.useTranslation)().t,i=((0,h.useAppDispatch)(),(0,d.useState)([])),k=(0,o.default)(i,2),_=k[0],P=k[1],I=(0,d.useState)(0),M=(0,o.default)(I,2),z=M[0],O=M[1],F=(0,d.useState)(0),B=(0,o.default)(F,2),R=B[0],V=B[1],E=(0,d.useState)(!1),L=(0,o.default)(E,2),N=L[0],A=L[1],H=(0,d.useState)(!1),W=(0,o.default)(H,2),K=W[0],Y=W[1],G=(0,d.useState)(!1),q=(0,o.default)(G,2),U=q[0],$=q[1],J=(0,d.useState)(""),Z=(0,o.default)(J,2),Q=Z[0],X=Z[1],ee=(0,d.useState)(""),te=(0,o.default)(ee,2),ne=te[0],ie=te[1],re=(0,d.useState)(),ae=(0,o.default)(re,2),oe=ae[0],le=ae[1],ue=(0,d.useState)(!1),se=(0,o.default)(ue,2),de=se[0],ce=se[1],fe=(0,d.useState)(!1),he=(0,o.default)(fe,2),me=he[0],ye=he[1],ve=(0,h.useAppSelector)((function(e){return e.account})).dataAccount,pe=(0,h.useAppSelector)((function(e){return e.common})).accessToken,ge=(0,l.useWindowDimensions)().width,Se=(0,g.useTicketServices)(),xe=function(){X(""),Y(!K)},be=function(){$(!U)};(0,b.useFocusEffect)((0,d.useCallback)((function(){Ce(0,!1)}),[]));var je,De,we,Ce=(je=(0,a.default)((function*(e,n){try{var i;n?ye(!0):ce(!0);var a,o={createdBy:null!=(i=null==ve?void 0:ve.email)?i:"",myTicket:!0,textSearch:"",ticketStatus:[t.status]},l=yield Se.getTicketList(e,20,t.status===v.Status.processing?"createdDate,desc":"lastModifiedDate,desc",pe,o);0===e?(P(null==l?void 0:l.content),O(Number(null==l||null==(a=l.page)?void 0:a.totalRecords))):P([].concat((0,r.default)(_),(0,r.default)(null==l?void 0:l.content)))}catch(e){}finally{A(!1),ye(!1),ce(!1)}})),function(e,t){return je.apply(this,arguments)}),Te=(De=(0,a.default)((function*(e){if(0!==(null==e?void 0:e.length))try{var t={ticketId:null==oe?void 0:oe.id,reason:e},i=yield Se.cancelTicket(t,pe);if(i.data)y.default.show({text1:n("CM.noti"),type:"success",text2:n("TK.rejectSuccess")}),P((function(e){return e.filter((function(e){return e.id!==(null==oe?void 0:oe.id)}))}));else{var r,a=null==i||null==(r=i.error)?void 0:r.message;y.default.show({text1:n("CM.noti"),type:"error",text2:n(`TK.${a||"rejectFailure"}`)})}xe()}catch(e){}else ie("CM.requireFillReason")})),function(e){return De.apply(this,arguments)}),ke=(we=(0,a.default)((function*(){(yield Se.deleteTicketById(null==oe?void 0:oe.id))?(y.default.show({text1:n("CM.noti"),type:"success",text2:n("CM.deleteSuccess")}),P((function(e){return e.filter((function(e){return e.id!==(null==oe?void 0:oe.id)}))}))):y.default.show({text1:n("CM.noti"),type:"error",text2:n("CM.deleteFailure")}),be()})),function(){return we.apply(this,arguments)});return de&&!me?(0,T.jsx)(D.List,{data:Array(8).fill({}),horizontal:!0,pagingEnabled:!0,snapToAlignment:"start",showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToInterval:ge,decelerationRate:"fast",contentContainerStyle:[{backgroundColor:"#fff",flex:1}],style:{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge},renderItem:function(){return(0,T.jsx)(w.default,{})},ItemSeparatorComponent:D.Divider}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.SafeAreaView,{style:[c.default.ctnMain,{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge}],edges:["left","right"],children:[(0,T.jsxs)(l.View,{style:c.default.ctnHeader,children:[(0,T.jsx)(l.View,{style:[c.default.ctnNumber,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:z})}),(0,T.jsx)(l.View,{style:[c.default.ctnText,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:n(`TK.name_${t.status}`)})})]}),_&&(0,T.jsx)(l.FlatList,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,data:_,refreshing:N,onRefresh:function(){A(!0),Ce(0,!1),V(0)},onEndReached:function(){R<Math.ceil(z/20)&&(Ce(R+1,!0),V(R+1))},onEndReachedThreshold:.5,keyExtractor:function(e){return""+e.id},contentContainerStyle:{backgroundColor:"#fff"},renderItem:function(e){var n=e.item;return(0,T.jsx)(f.default,{item:n,dataListStatus:t,setTicketSelect:le,toggleModalCancel:xe,toogleBottomSheetDelete:be})},ListEmptyComponent:function(){return(0,T.jsx)(l.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:(0,T.jsx)(s.default,{children:n("CM.emptyData")})})},ListFooterComponent:function(){return me&&(0,T.jsx)(j.default,{})}})]}),K&&(0,T.jsx)(S.default,{isVisible:K,onClose:xe,title:`${n("TK.confirmClear")} ${null==oe?void 0:oe.title}`,type:"cancel",labelCancel:n("HM.cancel"),labelConfirm:n("CM.labelCancel"),styleBtnRight:{backgroundColor:m.Color.RedE14337},onConfirm:function(){return Te(Q)},renderContent:function(){return(0,T.jsx)(l.View,{style:{width:"100%",marginVertical:6},children:(0,T.jsx)(x.default,{value:Q,onChangeText:X,errorMessage:n(ne),isRequired:!0,multiline:!0,isFloatingLabel:!0,label:n("CM.fillReason"),maxLength:400})})}}),U&&(0,T.jsx)(S.default,{isVisible:U,onClose:be,title:`${n("TK.confirmDelete")} ${null==oe?void 0:oe.title}`,type:"cancel",labelCancel:n("HM.cancel"),labelConfirm:n("CM.confirm"),styleBtnRight:{backgroundColor:m.Color.RedE14337},onConfirm:ke})]})}},66549:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnMain:{flex:1},ctnHeader:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:(0,r.SizeDP)(12),marginLeft:(0,r.SizeDP)(16),columnGap:(0,r.SizeDP)(8),paddingBottom:(0,r.SizeDP)(10)},ctnNumber:{paddingHorizontal:(0,r.SizeDP)(4),height:(0,r.SizeDP)(24),minWidth:(0,r.SizeDP)(24),borderRadius:(0,r.SizeDP)(4),justifyContent:"center",alignItems:"center"},ctnText:{height:(0,r.SizeDP)(24),justifyContent:"center",alignItems:"center",paddingHorizontal:(0,r.SizeDP)(4),borderRadius:(0,r.SizeDP)(5)},text:{fontFamily:a.Font.InterSemiBold600,fontSize:r.default.FontSmall,color:a.Color.White},ctnIcon:{transform:[{rotate:"90deg"}],width:(0,r.SizeDP)(16),height:(0,r.SizeDP)(16),alignItems:"center",justifyContent:"center",marginLeft:(0,r.SizeDP)(8)}})},77838:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getListAction=void 0;var i=n(46317),r=n(41995),a=n(60596),o=n(47671);t.getListAction=function(e){switch(e){case a.Status.processing:return[{id:1,key:"TK.multi",value:"multi",icon:(0,o.jsx)(i.IconMulti,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})},{id:2,key:"TK.cancel",value:"cancel",icon:(0,o.jsx)(i.IconTrash,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})}];case a.Status.completed:case a.Status.rejected:case a.Status.voided:case a.Status.overdue:return[{id:1,key:"TK.multi",value:"multi",icon:(0,o.jsx)(i.IconMulti,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})}];case a.Status.draft:return[{id:1,key:"TK.multi",value:"multi",icon:(0,o.jsx)(i.IconMulti,{width:18,height:18})},{id:2,key:"TK.edit",value:"edit",icon:(0,o.jsx)(i.IconEdit,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})},{id:3,key:"TK.deleteTicket",value:"delete",icon:(0,o.jsx)(i.IconTrash,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})}];default:return[]}}},55980:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87841),a=i(n(24541)),o=i(n(69536)),l=n(46317),u=n(41995),s=i(n(21527)),d=n(35708),c=n(2543),f=n(14740),h=n(20880),m=n(2884),y=i(n(85555)),v=n(77838),p=n(45335),g=n(60596),S=n(37106),x=n(47671),b=s.default.memo((function(e){var t=e.item,n=e.dataListStatus,i=e.setTicketSelect,s=e.toggleModalCancel,b=e.toogleBottomSheetDelete,j=(0,f.useNavigation)(),D=(0,m.useTranslation)().t,w=(0,S.useZutandStore)((function(e){return e})).setStatusTicketSelect,C=function(e){switch(e.value){case"multi":return void j.navigate(h.NavigationName.CreateTicket,{dataTicket:t,action:"multi"});case"edit":return void j.navigate(h.NavigationName.CreateTicket,{dataTicket:t,action:"edit"});case"cancel":return s(),void i(t);case"delete":return b(),void i(t)}},T=function(){if(t.ticketStatus===g.Status.overdue){if(k(t.remindTime,t.estimateDate))return`${D("TK.before")} `+I(null==t?void 0:t.remindTime,null==t?void 0:t.estimateDate);if(_(t.estimateDate,null))return`${D("TK.late")} `+P(null==t?void 0:t.estimateDate,null)}return t.ticketStatus!==g.Status.completed&&t.ticketStatus!==g.Status.accepted||!_(t.estimateDate,t.finishDate)?"":`${D("TK.late")} `+P(null==t?void 0:t.estimateDate,null==t?void 0:t.finishDate)},k=function(e,t){if(!e)return!1;if(Number(e)>0){var n=Math.floor(new Date(t).getTime()/1e3),i=n-60*Number(e),r=Math.floor((new Date).getTime()/1e3);return i<r&&r<n}},_=function(e,t){if(e){if(t){var n=Math.floor(new Date(e).getTime()/1e3);return Math.floor(new Date(t).getTime()/1e3)>n}var i=Math.floor(new Date(e).getTime()/1e3);return Math.floor((new Date).getTime()/1e3)>i}return!1},P=function(e,t){if(t){var n=Math.floor(new Date(e).getTime()),i=Math.floor(new Date(t).getTime());return M(i-n)}var r=Math.floor(new Date(e).getTime()),a=Math.floor((new Date).getTime());return M(a-r)},I=function(e,t){if(Number(e)>0){var n=Math.floor(new Date(t).getTime()),i=Math.floor((new Date).getTime());return M(n-i)}},M=function(e){var t=Math.floor(e/1e3),n=t%86400,i=n%3600;return`${Math.floor(t/86400)}d${Math.floor(n/3600)}h${Math.floor(i/60)}m`};return(0,x.jsxs)(r.TouchableOpacity,{onPress:function(){w(n.status),j.navigate(h.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:null==t?void 0:t.id,email:t.createdBy,status:n.status,selectTabBottom:1})},style:o.default.ctnMain,children:[(0,x.jsxs)(r.View,{style:o.default.ctnHeader,children:[function(){switch(null==t?void 0:t.priority){case g.Propity.high:return(0,x.jsx)(l.Iconhigh,{width:(0,u.SizeDP)(12),height:(0,u.SizeDP)(12)});case g.Propity.medium:return(0,x.jsx)(l.Iconmedium,{width:(0,u.SizeDP)(12),height:(0,u.SizeDP)(12)});case g.Propity.low:return(0,x.jsx)(l.Iconlow,{width:(0,u.SizeDP)(12),height:(0,u.SizeDP)(12)})}}(),(0,x.jsx)(a.default,{style:[o.default.title,{flex:1,marginHorizontal:(0,u.SizeDP)(12)}],children:(0,c.isEmpty)(t.title)?"---":t.title}),(0,x.jsx)(r.View,{style:o.default.time,children:(0,x.jsxs)(r.View,{style:o.default.center,children:[!(0,c.isEmpty)(T())&&t.ticketStatus==g.Status.overdue&&(0,x.jsx)(p.Tooltip,{title:T(),children:(0,x.jsx)(l.IconClock,{width:(0,u.SizeDP)(16),height:(0,u.SizeDP)(16)})}),(0,x.jsx)(y.default,{listDropdown:(0,v.getListAction)(t.ticketStatus),onChangeItem:function(e){return C(e)},containerStyle:{width:(0,u.SizeDP)(12)}})]})})]}),(0,x.jsxs)(a.default,{children:[D("TK.createDate"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.createdDate)]}),(null==t?void 0:t.ticketStatus)!==g.Status.completed&&(null==t?void 0:t.ticketStatus)!==g.Status.draft&&(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Dự kiến hoàn thành"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.estimateDate)]}),(null==t?void 0:t.ticketStatus)===g.Status.completed&&(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Ngày hoàn thành"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.finishDate)]}),(null==t?void 0:t.ticketStatus)===g.Status.voided&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Ngày huỷ"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.lastModifiedDate)]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Người huỷ"),": ",t.lastModifiedBy]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Lý do huỷ"),": ",(null==t?void 0:t.reason)||"---"]})]}),(null==t?void 0:t.ticketStatus)===g.Status.rejected&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Ngày từ chối"),":"," ",d.DateUtils.convertDateToDDMMYYYY_H_M(t.lastModifiedDate)]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Người từ chối"),": ",t.lastModifiedBy]}),(0,x.jsxs)(a.default,{style:{marginTop:6},children:[D("Lý do từ chối"),": ",(null==t?void 0:t.reason)||"---"]})]}),!(0,c.isEmpty)(T())&&t.ticketStatus==g.Status.overdue&&(0,x.jsx)(a.default,{style:o.default.styleClock,children:T()}),(0,x.jsxs)(r.View,{style:o.default.ctnFooter,children:[(0,x.jsx)(r.View,{style:[o.default.rowCenter],children:(0,x.jsx)(r.View,{style:[o.default.viewStatus,{backgroundColor:n.bgColor,borderColor:"#fff"}],children:(0,x.jsx)(a.default,{style:[{color:n.color}],children:D(`TK.${t.ticketStatus}`)})})}),(0,x.jsxs)(r.View,{style:[o.default.rowCenter],children:[(0,x.jsxs)(r.View,{style:[o.default.rowCenter],children:[(0,x.jsx)(l.IconFilePresent,{width:(0,u.SizeDP)(20),height:(0,u.SizeDP)(20)}),(0,x.jsx)(a.default,{children:t.attachmentCount})]}),(0,x.jsxs)(r.View,{style:[o.default.rowCenter],children:[(0,x.jsx)(l.IconMessageChat,{width:(0,u.SizeDP)(20),height:(0,u.SizeDP)(20)}),(0,x.jsx)(a.default,{children:t.commentCount})]})]})]})]})}));t.default=b},69536:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnMain:{padding:(0,r.SizeDP)(16),borderRadius:(0,r.SizeDP)(8),shadowColor:"#51459F",shadowOffset:{width:0,height:3},shadowOpacity:.1,shadowRadius:(0,r.SizeDP)(3),elevation:4,marginVertical:(0,r.SizeDP)(8),backgroundColor:a.Color.White,marginHorizontal:(0,r.SizeDP)(3),minHeight:150},title:{fontSize:r.default.FontSmall,color:a.Color.color1F2633,fontFamily:a.Font.InterSemiBold600},ctnFooter:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:(0,r.SizeDP)(16)},ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:(0,r.SizeDP)(16)},rowCenter:{flexDirection:"row",justifyContent:"center",alignItems:"center",columnGap:(0,r.SizeDP)(4)},viewId:{borderWidth:(0,r.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,r.SizeDP)(16),paddingHorizontal:(0,r.SizeDP)(8),paddingVertical:(0,r.SizeDP)(5)},viewStatus:{borderWidth:(0,r.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,r.SizeDP)(16),paddingHorizontal:(0,r.SizeDP)(8),paddingVertical:(0,r.SizeDP)(5)},time:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,r.SizeDP)(6)},center:{alignItems:"center",justifyContent:"center",flexDirection:"row",columnGap:(0,r.SizeDP)(8)},styleClock:{marginTop:(0,r.SizeDP)(6),color:a.Color.RedE14337}})},16702:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(87841),o=i(n(43184)),l=i(n(89117)),u=n(72676),s=i(n(8966)),d=n(32207),c=n(14740),f=i(n(80671)),h=n(2884),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),y=n(41995),v=n(47671);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}t.default=function(){var e=(0,h.useTranslation)().t,t=(0,c.useNavigation)(),n=(0,a.useWindowDimensions)().width,i=(0,m.useState)(0),p=(0,r.default)(i,2),g=p[0],S=p[1];return(0,v.jsxs)(a.View,{style:{flex:1,position:"relative"},children:[(0,v.jsx)(o.default,{title:e("TK.myTicket"),renderContentRight:function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(d.TopNavigationAction,{icon:(0,v.jsx)(d.Icon,{fill:"#ffffff",name:"search"}),onPress:function(){t.navigate(f.default.SearchTicketScreen,{type:"my-ticket"})}})})}}),(0,v.jsx)(a.FlatList,{style:{backgroundColor:"#fff"},data:u.dataListStatusTicket,horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToAlignment:"start",snapToInterval:n,onScrollEndDrag:function(e){var t,i=null==(t=e.nativeEvent.targetContentOffset)?void 0:t.x;if(i){var r=Math.round(i/n);r<u.dataListStatusTicket.length&&S(r)}else S(0)},decelerationRate:"fast",contentContainerStyle:[s.default.flatListContainer],renderItem:function(e){var t=e.item;return(0,v.jsx)(l.default,{dataListStatus:t})}}),(0,v.jsx)(a.View,{style:{position:"absolute",bottom:5,alignItems:"center",justifyContent:"center",width:n},children:(0,v.jsx)(a.View,{style:s.default.paging,children:Array.from({length:n>y.TYPE_SCREEN.mobile?Math.ceil(u.dataListStatusTicket.length/2):u.dataListStatusTicket.length},(function(e,t){return{id:`item-${t+1}`}})).map((function(e,t){return(0,v.jsx)(a.View,{style:{width:7,height:7,borderRadius:4,backgroundColor:t===g?"#62248F":"#E6EAF0"}},t)}))})})]})}},8966:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({flatListContainer:{backgroundColor:r.Color.White},paging:{borderWidth:.5,borderColor:"#00358026",borderRadius:24,padding:10,backgroundColor:"#fff",gap:10,flexDirection:"row",alignItems:"center",justifyContent:"center"}})},50608:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.listAction=void 0;t.listAction=[{status:"all",name:"Tất cả"},{status:"read",name:"Đã đọc"},{status:"unread",name:"Chưa đọc"}]},50570:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(43693)),a=i(n(41132)),o=i(n(29293)),l=i(n(85715)),u=n(7005),s=i(n(43184)),d=i(n(24541)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),f=n(32207),h=n(87841),m=n(2884),y=n(20880),v=i(n(21954)),p=n(14740),g=n(45335),S=n(50608),x=n(12638),b=i(n(69290)),j=n(97427),D=n(43790),w=n(11671),C=i(n(77389)),T=n(47671);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}t.default=function(){var e=(0,m.useTranslation)().t,t=(0,p.useNavigation)(),n=(0,x.useAppDispatch)(),i=(0,c.useState)([]),k=(0,l.default)(i,2),_=k[0],P=k[1],I=(0,c.useState)(0),M=(0,l.default)(I,2),z=M[0],O=M[1],F=(0,c.useState)(0),B=(0,l.default)(F,2),R=B[0],V=B[1],E=(0,c.useState)(!1),L=(0,l.default)(E,2),N=L[0],A=L[1],H=(0,c.useState)({}),W=(0,l.default)(H,2),K=W[0],Y=W[1],G=(0,c.useState)(!1),q=(0,l.default)(G,2),U=q[0],$=q[1],J=(0,c.useState)("all"),Z=(0,l.default)(J,2),Q=Z[0],X=Z[1],ee=(0,D.useNotificationServices)(),te=(0,w.useTicketServices)(),ne=(0,x.useAppSelector)((function(e){return e.common})),ie=ne.accessToken,re=ne.totalNumberNotiUnread;(0,x.useAppSelector)((function(e){return e.account})).dataAccount;(0,p.useFocusEffect)((0,c.useCallback)((function(){O(0),ue(0,Q)}),[Q]));var ae,oe,le,ue=(ae=(0,o.default)((function*(e,t){try{var n={page:e,size:30,sort:"createdDate,desc"},i={status:"all"===t?"":t,system:"E_REQUEST"},r=yield ee.getListNotifications(n,i);r&&(P(0===e?r.data:[].concat((0,a.default)(_),(0,a.default)(r.data))),V(r.totalRecords))}catch(e){}finally{A(!1)}})),function(e,t){return ae.apply(this,arguments)}),se=function(t){if(t){var n={ticketName:t.ticketName,usertaskName:t.userTaskName,remindTime:t.remindTime,overdueTime:t.overdueTime,notifyTime:t.notifyTime,createdBy:t.createdBy,createdDate:t.createdDate,assigner:t.assigner,status:de(t.status),reason:t.reason?t.reason:"",perm:null==t?void 0:t.perm,accountCreated:null==t?void 0:t.createdAcl};return"acl_ticket_create"===t.type&&t.userTaskName?e("NT.notification."+t.type+"_user_task",n):e("NT.notification."+t.type,n)}},de=function(e){return e&&"rejected"===e.trim()?"từ chối":e&&"completed"===e.trim()?"hoàn thành":e&&"voided"===e.trim()?"hủy":""},ce=(oe=(0,o.default)((function*(e){try{"ticket_delete"!==e.type&&Y((0,r.default)({},e.id,!0));var t=[{id:e.id,status:"read"}];if(yield ee.updateNotifications(t)){var i=_.map((function(t){return t.id===e.id?Object.assign({},e,{status:"read"}):t}));P(i),n(j.commonActions.setTotalNumberNotiUnread(re-1))}fe(e)}catch(e){}})),function(e){return oe.apply(this,arguments)}),fe=(le=(0,o.default)((function*(n){if("ticket_create"!==n.type&&"ticket_update"!==n.type&&"ticket_cancel"!==n.type&&"ticket_require_confirm"!==n.type&&"ticket_confirm"!==n.type&&"ticket_reject"!==n.type&&"ticket_require_review"!==n.type&&"ticket_review"!==n.type&&"ticket_review_reject"!==n.type&&"ticket_assign_user"!==n.type&&"ticket_update_status"!==n.type&&"ticket_authorize"!==n.type&&"ticket_remind_workflow"!==n.type&&"ticket_remind_usertask"!==n.type&&"ticket_remind_workflow_overdue_onetime"!==n.type&&"ticket_remind_usertask_overdue_onetime"!==n.type&&"ticket_remind_workflow_overdue_period"!==n.type&&"ticket_remind_usertask_overdue_period"!==n.type&&"ticket_tag_comment"!==n.type&&"acl_ticket_create"!==n.type);else{var i=JSON.parse(n.content);if(i){var a=yield te.getTicketById(i.ticketId,ie);a?t.navigate(y.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:i.ticketId,email:n.emailReceiver,status:a.ticketStatus,selectTabBottom:"ticket_tag_comment"===n.type||"acl_ticket_create"===n.type?1:2,recipientDetailsId:i.recipientDetailsId,userTaskId:i.userTaskId,notifyActionType:n.type}):C.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.error")})}Y((0,r.default)({},n.id,!1))}})),function(e){return le.apply(this,arguments)});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.SafeAreaView,{edges:[],style:{backgroundColor:"#943cdd0d",flex:1},children:[(0,T.jsx)(s.default,{title:e("CM.noti"),renderContentRight:function(){return(0,T.jsx)(f.TopNavigationAction,{icon:(0,T.jsx)(f.Icon,{fill:"#fff",name:"funnel-outline"}),onPress:function(){return $(!0)}})}}),(0,T.jsx)(f.List,{style:{backgroundColor:"#fff"},contentContainerStyle:{backgroundColor:"#fff"},data:_,onEndReachedThreshold:.5,refreshing:N,onEndReached:function(){_.length<R&&(ue(z+1,Q),O(z+1))},onRefresh:function(){A(!0),O(0),ue(0,Q)},renderItem:function(e){var t=e.item,n=e.index,i=JSON.parse(t.content),r="system"!==t.createdBy?"people-outline":"settings-outline";return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.ListItem,{onPress:function(){return ce(t)},children:(0,T.jsxs)(h.View,{style:v.default.ctnMain,children:[(0,T.jsxs)(h.View,{style:v.default.ctnIcon,children:[(0,T.jsx)(f.Icon,{width:20,height:20,fill:"#39ac6c",name:r}),"unread"===t.status&&(0,T.jsx)(g.Badge,{size:10,style:v.default.badge})]}),(0,T.jsxs)(h.View,{style:{flex:1,rowGap:10},children:[(0,T.jsx)(d.default,{children:se(i)}),(0,T.jsxs)(h.View,{style:v.default.ctnText,children:[(0,T.jsx)(d.default,{style:[{fontFamily:y.Font.InterSemiBold600},v.default.text],children:""}),(0,T.jsx)(d.default,{style:[[{fontFamily:y.Font.InterRegular400},v.default.text]],children:i.notifyTime})]})]}),null!=K&&K[null==t?void 0:t.id]?(0,T.jsx)(f.Spinner,{size:"tiny"}):(0,T.jsx)(f.Icon,{width:20,height:20,name:"chevron-right-outline"})]},n)}),(0,T.jsx)(f.Divider,{})]})},ListEmptyComponent:function(){return(0,T.jsx)(h.View,{style:{alignItems:"center",justifyContent:"center",flex:1,marginTop:16},children:(0,T.jsx)(d.default,{children:e("CM.emptyData")})})}})]}),(0,T.jsx)(b.default,{title:e("CM.noti"),onClose:function(){return $(!1)},isVisible:U,renderContent:(0,T.jsx)(f.Menu,{children:S.listAction.map((function(t){return(0,T.jsx)(f.MenuItem,{title:function(n){return(0,T.jsx)(d.default,Object.assign({},n,{children:e(`NT.notification.filter.${t.status}`)}))},onPress:function(){return e=t.status,X(e),void $(!1);var e},accessoryRight:Q===t.status?(0,T.jsx)(f.Icon,{name:"checkmark"}):void 0},t.status)}))})})]})}},21954:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841);t.default=i.StyleSheet.create({ctnMain:{flexDirection:"row",alignItems:"center",gap:10},ctnIcon:{width:40,height:40,borderRadius:20,backgroundColor:"#e8f7ee",alignItems:"center",justifyContent:"center",position:"relative"},ctnText:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:5},text:{fontSize:12,color:"#00204df2"},badge:{position:"absolute",right:0,top:0}})},32472:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=n(20880),u=i(n(43184)),s=i(n(54813)),d=n(21527),c=i(n(24541)),f=n(11671),h=n(12638),m=i(n(94516)),y=i(n(35077)),v=n(2543),p=i(n(77389)),g=n(2884),S=i(n(71692)),x=n(47671);t.default=function(e){var t=e.onClose,n=e.dataTicket,i=e.toogleReloadData,b=(0,g.useTranslation)().t,j=(0,d.useState)(!1),D=(0,a.default)(j,2),w=(D[0],D[1],(0,d.useState)()),C=(0,a.default)(w,2),T=C[0],k=C[1],_=(0,d.useState)(),P=(0,a.default)(_,2),I=P[0],M=P[1],z=(0,d.useState)(!1),O=(0,a.default)(z,2),F=O[0],B=O[1],R=(0,h.useAppSelector)((function(e){return e.account})).dataAccount,V=(0,f.useTicketServices)();(0,d.useEffect)((function(){N()}),[]);var E,L,N=(E=(0,r.default)((function*(){var e=yield V.getMultiLoginAccount([R.email||""]);e&&k(e[0])})),function(){return E.apply(this,arguments)}),A=(L=(0,r.default)((function*(){try{var e,r;B(!0);var a={ticketId:null==(e=n.resourceId)?void 0:e.substr(4),recipientId:null,contactId:null,email:null==I?void 0:I.email,name:null==I?void 0:I.personalName,phone:null==I?void 0:I.phone,reason:"null"};(yield V.forwaredTicket(null==(r=n.resourceId)?void 0:r.substr(4),n.recipientId,n.implementId,a))?(p.default.show({type:"success",text1:b("CM.info"),text2:b("TK.authorize.success")}),t(),i()):p.default.show({type:"error",text1:b("CM.info"),text2:b("TK.authorize.error")})}catch(e){}finally{B(!1)}})),function(){return L.apply(this,arguments)});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.default,{style:{backgroundColor:"#fff"},contentStyle:{backgroundColor:"#fff",borderBottomColor:l.Color.borderColor,borderBottomWidth:1},titleStyle:{color:"#000810"},fillIconBackLeft:"#000810",title:b("TK.authorize.title"),onPressIconLeft:t}),(0,x.jsxs)(o.ScrollView,{contentContainerStyle:{rowGap:10},style:{paddingHorizontal:16,marginVertical:10},children:[(0,x.jsx)(s.default,{onChangeText:function(){},label:b("TK.authorize.name"),value:(null==n?void 0:n.resourceName)||"",disabled:!0}),(0,x.jsxs)(o.View,{style:{rowGap:10},children:[(0,x.jsx)(c.default,{children:b("TK.authorize.person")}),(0,x.jsxs)(o.View,{style:S.default.owner,children:[(0,x.jsx)(o.Image,{style:S.default.img,source:{uri:(null==T?void 0:T.imageUrl)||l.String.DEFAULT_IMAGE}}),(0,x.jsxs)(o.View,{children:[(0,x.jsx)(c.default,{children:null==T?void 0:T.personalName}),(0,x.jsx)(c.default,{children:null==T?void 0:T.email})]})]})]}),(0,x.jsx)(y.default,{multiple:!1,label:b("TK.authorize.person-authorize"),isRequired:!0,placeholder:b("TK.authorize.person-authorize-placeholder"),dataSelected:I,setDataSelected:M,filter:{orgIn:R.orgIn}})]}),(0,x.jsxs)(o.View,{style:S.default.footer,children:[(0,x.jsx)(m.default,{style:{flex:1,backgroundColor:l.Color.borderColor},styleLabel:{color:l.Color.Text},label:b("CM.labelCancel"),onPress:t}),(0,x.jsx)(m.default,{disabled:!!(0,v.isEmpty)(I),style:{flex:1},label:b("CM.confirm"),loading:F,onPress:A})]})]})}},71692:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({owner:{borderWidth:1,borderColor:r.Color.borderColor,borderRadius:8,padding:10,backgroundColor:"#e6eaf0",flexDirection:"row",columnGap:10,alignItems:"center"},img:{width:32,height:32,borderRadius:16},footer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:16,columnGap:8}})},84556:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=n(87841),u=n(7005),s=i(n(24541)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),c=i(n(87456)),f=i(n(12845)),h=n(20880),m=n(12638),y=i(n(77389)),v=n(2884),p=n(11671),g=i(n(45001)),S=i(n(27747)),x=n(14740),b=n(60596),j=i(n(67903)),D=n(32207),w=i(n(79445)),C=n(41995),T=n(47671);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}t.default=function(e){var t=e.dataListStatus,n=(0,v.useTranslation)().t,i=(0,d.useState)([]),k=(0,o.default)(i,2),_=k[0],P=k[1],I=(0,d.useState)(0),M=(0,o.default)(I,2),z=M[0],O=M[1],F=(0,d.useState)(0),B=(0,o.default)(F,2),R=B[0],V=B[1],E=(0,d.useState)(!1),L=(0,o.default)(E,2),N=L[0],A=L[1],H=(0,d.useState)(!1),W=(0,o.default)(H,2),K=W[0],Y=W[1],G=(0,d.useState)(""),q=(0,o.default)(G,2),U=q[0],$=q[1],J=(0,d.useState)(""),Z=(0,o.default)(J,2),Q=Z[0],X=Z[1],ee=(0,d.useState)(!1),te=(0,o.default)(ee,2),ne=te[0],ie=te[1],re=(0,d.useState)(!1),ae=(0,o.default)(re,2),oe=ae[0],le=ae[1],ue=(0,d.useState)(),se=(0,o.default)(ue,2),de=se[0],ce=se[1],fe=(0,d.useState)(!1),he=(0,o.default)(fe,2),me=he[0],ye=he[1],ve=(0,m.useAppSelector)((function(e){return e.common})).accessToken,pe=(0,p.useTicketServices)(),ge=(0,l.useWindowDimensions)().width,Se=function(){return ye(!me)},xe=function(){$(""),Y(!K)},be=function(e){ce(e),xe()};(0,x.useFocusEffect)((0,d.useCallback)((function(){we(0,!1)}),[me]));var je,De,we=(je=(0,a.default)((function*(e,n){try{var i;n?le(!0):ie(!0);var a={keyWord:"",terms:(l={},t.status===b.Status.processing?(l.status=t.status,l.resourceStatus=t.status):t.status===b.Status.overdue?(l.status=b.Status.processing,l.resourceStatus=b.Status.overdue):t.status===b.Status.voided?(l.resourceStatus=t.status,l.status=b.Status.processing):l.status=t.status,l),id:null},o=yield pe.getTicketListFollow(e,20,t.status===b.Status.processing?"createdDate,desc":"lastModifiedDate,desc",a,ve);P(0===e?null==o?void 0:o.content:[].concat((0,r.default)(_),(0,r.default)(null==o?void 0:o.content))),O(Number(null==o||null==(i=o.page)?void 0:i.totalRecords))}catch(e){}finally{A(!1),le(!1),ie(!1)}var l})),function(e,t){return je.apply(this,arguments)}),Ce=(De=(0,a.default)((function*(e){try{var t,i;if(0===(null==e?void 0:e.length))return void X("CM.requireFillReason");var r={ticketId:null!=(t=null==de||null==(i=de.resourceId)?void 0:i.split("sid_")[1])?t:"",reason:e},a=yield pe.cancelTicket(r,ve);if(a.data)y.default.show({text1:n("CM.noti"),type:"success",text2:n("TK.rejectSuccess")});else{var o,l=null==a||null==(o=a.error)?void 0:o.message;y.default.show({text1:n("CM.noti"),type:"error",text2:n(`TK.${l||"rejectFailure"}`)})}xe()}catch(e){}})),function(e){return De.apply(this,arguments)});return ne&&!oe?(0,T.jsx)(D.List,{data:Array(8).fill({}),horizontal:!0,pagingEnabled:!0,snapToAlignment:"start",showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToInterval:ge,decelerationRate:"fast",contentContainerStyle:[{backgroundColor:"#fff",flex:1}],style:{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge},renderItem:function(){return(0,T.jsx)(w.default,{})},ItemSeparatorComponent:D.Divider}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.SafeAreaView,{style:[c.default.ctnMain,{width:ge>C.TYPE_SCREEN.mobile?ge/2:ge}],edges:["left","right"],children:[(0,T.jsxs)(l.View,{style:c.default.ctnHeader,children:[(0,T.jsx)(l.View,{style:[c.default.ctnNumber,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:z})}),(0,T.jsx)(l.View,{style:[c.default.ctnText,{backgroundColor:t.color}],children:(0,T.jsx)(s.default,{style:c.default.text,children:n(`TK.name_${t.status}`)})})]}),_&&(0,T.jsx)(l.FlatList,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,data:_,refreshing:N,onRefresh:function(){A(!0),V(0),we(0,!1)},onEndReached:function(){R<Math.ceil(z/20)&&(we(R+1,!0),V(R+1))},onEndReachedThreshold:.5,keyExtractor:function(e){return""+e.id},renderItem:function(e){var n=e.item;return(0,T.jsx)(f.default,{item:n,dataListStatus:t,handleCancelTicket:be,toogleReloadData:Se})},ListEmptyComponent:function(){return(0,T.jsx)(l.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:(0,T.jsx)(s.default,{children:n("CM.emptyData")})})},ListFooterComponent:function(){return oe&&(0,T.jsx)(j.default,{})}})]}),K&&(0,T.jsx)(g.default,{isVisible:K,onClose:xe,title:`${n("TK.confirmClear")} ${null==de?void 0:de.resourceName}`,type:"cancel",labelCancel:n("HM.cancel"),labelConfirm:n("CM.labelCancel"),styleBtnRight:{backgroundColor:h.Color.RedE14337},onConfirm:function(){return Ce(U)},renderContent:function(){return(0,T.jsx)(l.View,{style:{width:"100%",marginVertical:6},children:(0,T.jsx)(S.default,{value:U,onChangeText:$,errorMessage:n(Q),isRequired:!0,multiline:!0,isFloatingLabel:!0,label:n("CM.fillReason"),maxLength:400})})}})]})}},87456:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnMain:{flex:1},ctnHeader:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:(0,r.SizeDP)(12),marginLeft:(0,r.SizeDP)(16),columnGap:(0,r.SizeDP)(8),paddingBottom:(0,r.SizeDP)(10)},ctnNumber:{paddingHorizontal:(0,r.SizeDP)(4),height:(0,r.SizeDP)(24),minWidth:(0,r.SizeDP)(24),borderRadius:(0,r.SizeDP)(4),justifyContent:"center",alignItems:"center"},ctnText:{height:(0,r.SizeDP)(24),justifyContent:"center",alignItems:"center",paddingHorizontal:(0,r.SizeDP)(4),borderRadius:(0,r.SizeDP)(5)},text:{fontFamily:a.Font.InterSemiBold600,fontSize:r.default.FontSmall,color:a.Color.White},ctnIcon:{transform:[{rotate:"90deg"}],width:(0,r.SizeDP)(16),height:(0,r.SizeDP)(16),alignItems:"center",justifyContent:"center",marginLeft:(0,r.SizeDP)(8)}})},83629:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getListAction=void 0;var i=n(46317),r=n(41995),a=n(60596),o=n(47671);t.getListAction=function(e,t){return e===a.Status.processing?t?[{id:1,key:"TK.review",value:"review",icon:(0,o.jsx)(i.IconPerson,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})},{id:2,key:"TK.cancel",value:"cancel",icon:(0,o.jsx)(i.IconTrash,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})},{id:3,key:"TK.forwarded",value:"forwarded",icon:(0,o.jsx)(i.IconShare,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})}]:[{id:1,key:"TK.review",value:"review",icon:(0,o.jsx)(i.IconPerson,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})},{id:3,key:"TK.forwarded",value:"forwarded",icon:(0,o.jsx)(i.IconShare,{width:(0,r.SizeDP)(18),height:(0,r.SizeDP)(18)})}]:[]}},12845:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(87841),o=i(n(24541)),l=i(n(82949)),u=n(46317),s=n(41995),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),c=n(35708),f=n(2543),h=n(14740),m=n(20880),y=n(2884),v=i(n(85555)),p=n(83629),g=n(60596),S=n(45335),x=n(12638),b=n(32207),j=i(n(76644)),D=i(n(32472)),w=n(37106),C=n(47671);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}var k=d.default.memo((function(e){var t=e.item,n=e.dataListStatus,i=e.handleCancelTicket,T=e.toogleReloadData,k=(0,h.useNavigation)(),_=(0,y.useTranslation)().t,P=(0,d.useState)(""),I=(0,r.default)(P,2),M=I[0],z=I[1],O=(0,d.useState)(!1),F=(0,r.default)(O,2),B=F[0],R=F[1],V=(0,x.useAppSelector)((function(e){return e.account})).dataAccount,E=(0,w.useZutandStore)((function(e){return e})).setStatusTicketSelect,L=function(e){var i;E(n.status),k.navigate("eBLDT"===(null==n?void 0:n.actionTicketFrom)?"TicketDetailERequest":m.NavigationName.BottomTabNavigationTicketDetail,{dataTicketId:null==t||null==(i=t.resourceId)?void 0:i.substr(4),email:t.sendFrom,status:n.status,selectTabBottom:2,recipientDetailsId:t.implementId,userTaskId:t.recipientId,typeView:e})},N=function(){if(t.status===g.Status.overdue){if(A(t.remindTime,t.estimateDate))return`${_("TK.before")} `+K(null==t?void 0:t.remindTime,null==t?void 0:t.estimateDate);if(H(t.estimateDate,null))return`${_("TK.late")} `+W(null==t?void 0:t.estimateDate,null)}return t.status!==g.Status.completed&&t.status!==g.Status.accepted||!H(t.estimateDate,t.finishDate)?"":`${_("TK.late")} `+W(null==t?void 0:t.estimateDate,null==t?void 0:t.finishDate)},A=function(e,t){if(!e)return!1;if(Number(e)>0){var n=Math.floor(new Date(t).getTime()/1e3),i=n-60*Number(e),r=Math.floor((new Date).getTime()/1e3);return i<r&&r<n}},H=function(e,t){if(e){if(t){var n=Math.floor(new Date(e).getTime()/1e3);return Math.floor(new Date(t).getTime()/1e3)>n}var i=Math.floor(new Date(e).getTime()/1e3);return Math.floor((new Date).getTime()/1e3)>i}return!1},W=function(e,t){if(t){var n=Math.floor(new Date(e).getTime()),i=Math.floor(new Date(t).getTime());return Y(i-n)}var r=Math.floor(new Date(e).getTime()),a=Math.floor((new Date).getTime());return Y(a-r)},K=function(e,t){if(Number(e)>0){var n=Math.floor(new Date(t).getTime()),i=Math.floor((new Date).getTime());return Y(n-i)}},Y=function(e){var t=Math.floor(e/1e3),n=t%86400,i=n%3600;return`${Math.floor(t/86400)}d${Math.floor(n/3600)}h${Math.floor(i/60)}m`},G=function(e){switch(e.value){case"review":return void L("quick");case"cancel":return void i(t);case"forwarded":return void R(!0)}};return(0,C.jsxs)(a.View,{style:l.default.ctnMain,children:[(0,C.jsxs)(a.TouchableOpacity,{style:{padding:16},onPress:function(){return L("view")},children:[(0,C.jsxs)(a.View,{style:l.default.ctnHeader,children:[(0,C.jsx)(o.default,{style:[l.default.title,{flex:1,marginRight:(0,s.SizeDP)(12)}],children:(0,f.isEmpty)(t.resourceName)?"---":t.resourceName}),(0,C.jsx)(a.View,{style:l.default.time,children:(0,C.jsxs)(a.View,{style:l.default.center,children:[!(0,f.isEmpty)(N())&&n.status===g.Status.processing&&(0,C.jsx)(S.Tooltip,{title:N(),children:(0,C.jsx)(u.IconClock,{width:(0,s.SizeDP)(16),height:(0,s.SizeDP)(16)})}),n.status===g.Status.processing&&(0,C.jsx)(v.default,{listDropdown:(0,p.getListAction)(t.status,!t.sendFrom||t.sendFrom===V.email),onChangeItem:function(e){return G(e)},containerStyle:{width:(0,s.SizeDP)(12)}})]})})]}),(0,C.jsxs)(o.default,{style:{marginBottom:(0,s.SizeDP)(10),color:"#6f2ced"},children:[_("TK.step"),": ",t.notionName]}),(0,C.jsxs)(o.default,{children:[_("TK.createDate"),":"," ",c.DateUtils.convertDateToDDMMYYYY_H_M(t.createdDate)]}),(0,C.jsxs)(o.default,{style:{marginTop:6},children:[_("RV.createBy"),": ",t.owner]}),!(0,f.isEmpty)(N())&&n.status===g.Status.processing&&(0,C.jsx)(o.default,{style:l.default.styleClock,children:N()}),(0,C.jsx)(a.View,{style:l.default.ctnFooter,children:(0,C.jsx)(a.View,{style:[l.default.rowCenter],children:(0,C.jsx)(a.View,{style:[l.default.viewStatus,{backgroundColor:n.bgColor,borderColor:"#fff"}],children:(0,C.jsx)(o.default,{style:[{color:n.color}],children:_(`TK.${n.status}`)})})})})]}),(0,C.jsx)(b.Divider,{}),(0,C.jsx)(S.SegmentedButtons,{value:M,onValueChange:z,density:"medium",style:{overflow:"hidden"},buttons:n.status===g.Status.processing?[{value:"view",label:_("TK.view_ticket"),icon:function(){return(0,C.jsx)(b.Icon,{fill:m.Color.Text,name:"eye-outline",width:16,height:16})},labelStyle:l.default.labelStyle,style:{borderRadius:.5,borderColor:m.Color.borderColor,borderWidth:0,borderRightWidth:.5},onPress:function(){return L("view")}},{value:"quick",label:_("TK.review_quick_ticket"),icon:function(){return(0,C.jsx)(b.Icon,{fill:m.Color.Text,name:"external-link-outline",width:16,height:16})},labelStyle:l.default.labelStyle,style:{borderRadius:.5,borderColor:m.Color.borderColor,borderWidth:0,borderLeftWidth:.5},onPress:function(){return L("quick")}}]:[{value:"view",label:_("TK.view_ticket"),icon:function(){return(0,C.jsx)(b.Icon,{fill:m.Color.Text,name:"eye-outline",width:16,height:16})},labelStyle:l.default.labelStyle,style:{borderRadius:8,borderColor:m.Color.borderColor,borderWidth:0},onPress:function(){return L("view")}}]}),(0,C.jsx)(j.default,{isVisible:B,children:(0,C.jsx)(D.default,{toogleReloadData:T,dataTicket:t,onClose:function(){return R(!1)}})})]})}));t.default=k},82949:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnMain:{borderRadius:(0,r.SizeDP)(8),shadowColor:"#51459F",shadowOffset:{width:0,height:3},shadowOpacity:.1,shadowRadius:(0,r.SizeDP)(3),elevation:4,marginVertical:(0,r.SizeDP)(8),backgroundColor:a.Color.White,marginHorizontal:(0,r.SizeDP)(3),minHeight:180},title:{fontSize:r.default.FontSmall,color:a.Color.color1F2633,fontFamily:a.Font.InterSemiBold600},ctnFooter:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:(0,r.SizeDP)(16)},ctnHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:(0,r.SizeDP)(16)},rowCenter:{flexDirection:"row",justifyContent:"center",alignItems:"center",columnGap:(0,r.SizeDP)(4)},viewId:{borderWidth:(0,r.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,r.SizeDP)(16),paddingHorizontal:(0,r.SizeDP)(8),paddingVertical:(0,r.SizeDP)(5)},viewStatus:{borderWidth:(0,r.SizeDP)(1),borderColor:"#EBEEF2",borderRadius:(0,r.SizeDP)(16),paddingHorizontal:(0,r.SizeDP)(8),paddingVertical:(0,r.SizeDP)(5)},time:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,r.SizeDP)(6)},center:{alignItems:"center",justifyContent:"center",flexDirection:"row",columnGap:(0,r.SizeDP)(8)},styleClock:{marginTop:(0,r.SizeDP)(6),color:a.Color.RedE14337},labelStyle:{color:a.Color.Text,fontFamily:a.Font.InterMedium500,fontSize:13}})},25055:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(87841),o=i(n(43184)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),u=i(n(84556)),s=n(11595),d=n(14740),c=n(12638),f=n(97427),h=i(n(7499)),m=n(32207),y=n(20880),v=n(2884),p=n(41995),g=n(47671);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}t.default=function(){var e,t=(0,v.useTranslation)().t,n=(0,d.useRoute)(),i=(null==n||null==(e=n.params)?void 0:e.actionTicketFrom)||"eRequest",S=(0,d.useNavigation)(),x=(0,c.useAppDispatch)(),b=(0,d.useNavigationState)((function(e){return e})),j=(0,l.useState)(0),D=(0,r.default)(j,2),w=D[0],C=D[1],T=(0,a.useWindowDimensions)().width;(0,l.useEffect)((function(){x(f.ticketActions.setSelectTabBottom(b.index))}),[b.index]);return(0,g.jsxs)(a.View,{style:{flex:1,position:"relative"},children:[(0,g.jsx)(o.default,{title:t(function(){switch(i){case"eRequest":default:return"TK.ticketFollow";case"eBLDT":return"BLDT.receipt_need_approval"}}()),renderContentRight:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.TopNavigationAction,{icon:(0,g.jsx)(m.Icon,{fill:"#ffffff",name:"search"}),onPress:function(){S.navigate(y.NavigationName.SearchTicketScreen,{type:"ticket-follow"})}})})}}),(0,g.jsx)(a.FlatList,{style:{backgroundColor:"#fff"},data:s.dataListStatusTicketFollow,horizontal:!0,pagingEnabled:!0,snapToAlignment:"start",showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,snapToInterval:T,onScrollEndDrag:function(e){var t,n=null==(t=e.nativeEvent.targetContentOffset)?void 0:t.x;if(n){var i=Math.round(n/T);i<s.dataListStatusTicketFollow.length&&C(i)}else C(0)},decelerationRate:"fast",contentContainerStyle:[h.default.flatListContainer],renderItem:function(e){var t=e.item;return(0,g.jsx)(u.default,{dataListStatus:Object.assign({},t,{actionTicketFrom:i})})}}),(0,g.jsx)(a.View,{style:{position:"absolute",bottom:5,alignItems:"center",justifyContent:"center",width:T},children:(0,g.jsx)(a.View,{style:h.default.paging,children:Array.from({length:T>p.TYPE_SCREEN.mobile?Math.ceil(s.dataListStatusTicketFollow.length/2):s.dataListStatusTicketFollow.length},(function(e,t){return{id:`item-${t+1}`}})).map((function(e,t){return(0,g.jsx)(a.View,{style:{width:7,height:7,borderRadius:4,backgroundColor:t===w?"#62248F":"#E6EAF0"}},t)}))})})]})}},7499:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({flatListContainer:{backgroundColor:r.Color.White},paging:{borderWidth:.5,borderColor:"#00358026",borderRadius:24,padding:10,backgroundColor:"#fff",gap:10,flexDirection:"row",alignItems:"center",justifyContent:"center"}})},43790:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationServices=void 0;var i=n(15876),r=n(97300);t.useNotificationServices=function(){var e=(0,r.useFetchRequest)();return(0,i.createNotificationServices)(e)}},58526:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.listBottomTab=t.TabName=void 0;var r=i(n(91510)),a=i(n(16702)),o=i(n(50570)),l=i(n(25055)),u=t.TabName={Home:"Home",MyTicket:"MyTicket",FollowTicket:"FollowTicket",Notification:"Notification"};t.listBottomTab=[{name:u.Home,component:r.default,permission:["sidebar.admin.dashboard","erequest.sidebar.home"]},{name:u.MyTicket,component:a.default,permission:"sidebar.manageTicket.myTicket"},{name:u.FollowTicket,component:l.default,permission:"sidebar.manageTicket.requiredFollowTicket"},{name:u.Notification,component:o.default,permission:null}]},15876:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createNotificationServices=void 0;var r=i(n(29293)),a=n(88e3);t.createNotificationServices=function(e){return{getListNotifications:(i=(0,r.default)((function*(t,n){try{var i,r=yield e({url:(0,a.getConfig)().BASE_URL+"/services/notify-central/api/idaas-notifies/v2/filter",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),params:t}),o=null==r||null==(i=r.headers)?void 0:i.get("x-total-count");return Promise.resolve({data:null==r?void 0:r.data,totalRecords:o?Number(o):0})}catch(e){}})),function(e,t){return i.apply(this,arguments)}),updateNotifications:(n=(0,r.default)((function*(t){try{var n=yield e({url:(0,a.getConfig)().BASE_URL+"/services/notify-central/api/idaas-notifies",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),typeOfResponse:"text"});return Promise.resolve(null==n?void 0:n.data)}catch(e){console.log("error",e)}})),function(e){return n.apply(this,arguments)}),getNumberOfNotiUnread:(t=(0,r.default)((function*(){try{var t=yield e({url:(0,a.getConfig)().BASE_URL+"/services/notify-central/api/notification-reports/E_REQUEST",method:"GET",headers:{},typeOfResponse:"text"});return Promise.resolve(null==t?void 0:t.data)}catch(e){console.log("error-get-number-noti",e)}})),function(){return t.apply(this,arguments)})};var t,n,i}}}]);//# sourceMappingURL=src_app_screens_home_component_AddTicketRelative_helper_ts-src_navigation_BottomTabERequest_h-f3374e.chunk.bundle.map?platform=android/* RCSSB */eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiNTU5YzkyMjg0YjFmMGUyNWZmN2JiYmEyMmI5YzU2YTNmNWVlYzYyOTUxNDY3YmZjM2NlZDZmMTAwZTYwMjcyNSIsImlhdCI6MTc0OTg1OTY1NX0.oiuYpNKJV96T9wN1JXUO7sJ7bHYGU0nkFun-BaMPh5DO7w11dIp04Wd8kzl8FWXACRhRRASLH3FMbwqwF9aYzwBEpfv4XkqrXxtTcUOdPJLWcfGv9GGOZekosxrWjuvnLsTXfTej63OMF_vjdd_GjVKyowj-sWP6VCy6p71bnmgJpzVZjBs9MCkBqZmcRL0CywqZQy-jJa7yUz3xqEdEenunVw_hLiaBDrSv8XPYHScnt88LATlYheJEdhEOnbafvJpI8-i0EdFty753XEwhT0ehv_S2WMxSTLo-aD5d7nx-113Z9dbqDv8QWuFCvA3_5uJMxZPWhvhjYZ47Lwnm6YB-ZPQVkoz51pWO4sYUa0T09Jv7rL4kTx2McNeCRJGtfH2LDh2WCWsgpmKhtQekFGIHyChY49iEFhw080zDtg4pRTt9bTiKjpUw4R1PSgF-iHzPLIijBFFisDFFgRGfEqEk50LE727udk_vi5aiEnrUs7griNP4vgX87CU6_wfIlUeAwUSKM-720gyGMzYEBL4frAWG7sTcvs8ndKn7gXg0rUeQ5j1Y4vvaPmzxCX5gRBtFE-eIKDtfqi5FDmlqxbsa99eY_aKyADB8PXZiPlEBVo3IhZHRdYbXtRg2pQYD22zLsu3C0V139AqGR2scw1hkee3MH2NfesVOUDZ6RHA                                                                                                                                                                                                                                                                                                                                                                                                                                         