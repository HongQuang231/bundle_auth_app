var self=self||this||new Function("return this")()||{};(self.webpackChunkerequestApp=self.webpackChunkerequestApp||[]).push([["src_hooks_apiHooks_useReviewCollabo_tsx-src_navigation_Request_tsx"],{86288:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(24541)),u=i(n(88420)),s=n(41995),c=n(35708),d=n(46317),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),p=n(32207),m=n(68289),h=n(40851),y=n(12638),v=i(n(77389)),g=n(2884),x=i(n(76644)),S=i(n(93238)),w=n(88e3),j=n(20880),b=n(47671);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}var T=[{id:1,key:"TK.editAction",value:"edit",icon:(0,b.jsx)(d.IconEdit,{width:(0,s.SizeDP)(20),height:(0,s.SizeDP)(20)})},{id:2,key:"TK.deleteComment",value:"trash",icon:(0,b.jsx)(d.IconTrash,{width:(0,s.SizeDP)(20),height:(0,s.SizeDP)(20)})}],C=f.default.memo((function(e){var t,n,i=e.data,d=e.user,D=e.setComment,I=e.deleteComment,P=e.allComments,k=e.onReplyClick,_=e.level,M=e.listDataUser,O=(0,g.useTranslation)().t,F=(0,f.useState)(!1),E=(0,a.default)(F,2),z=E[0],R=E[1],V=(0,f.useState)(!1),A=(0,a.default)(V,2),N=A[0],L=A[1],B=(0,f.useState)(!1),W=(0,a.default)(B,2),U=W[0],$=W[1],H=(0,f.useState)(!1),Y=(0,a.default)(H,2),K=Y[0],G=Y[1],q=(0,f.useState)(""),J=(0,a.default)(q,2),Q=J[0],X=J[1],Z=(0,f.useState)(d),ee=(0,a.default)(Z,1)[0],te=(0,h.useReviewServices)(),ne=(0,y.useAppSelector)((function(e){return e.common})).accessToken,ie=(0,y.useAppSelector)((function(e){return e.account})).dataAccount,re=P.get(i.id)||[],ae=function(){$(!U)},oe=(t=(0,r.default)((function*(){try{G(!0);var e=new FormData;e.append("keyName",i.attachment),e.append("bucketName",i.bucketName);var t=yield te.viewFile(e,ne);1==(null==t?void 0:t.code)?(X(t.message),L(!0)):o.Alert.alert(O("CM.info"),O("CM.error"))}catch(e){}finally{G(!1)}})),function(){return t.apply(this,arguments)}),le=(n=(0,r.default)((function*(){try{G(!0);var e=`${(0,w.getConfig)().BASE_URL}/services/erequest/api/comments/download-file?commentId=${i.id}`,t=yield c.CommonUtils.downloadFile(i.fileName,e);"success"===t.status?v.default.show({type:"success",text1:O("CM.downloadSuccess")}):"error"===t.status&&v.default.show({type:"error",text1:O("CM.downloadFail")})}catch(e){v.default.show({type:"error",text1:O("CM.downloadFail")})}finally{G(!1)}})),function(){return n.apply(this,arguments)}),ue=function(){R(!z)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.View,{style:u.default.ctnMain,children:[(0,b.jsx)(o.View,{style:u.default.ctnImage,children:(0,b.jsx)(o.Image,{width:(0,s.SizeDP)(24),height:(0,s.SizeDP)(24),borderRadius:(0,s.SizeDP)(12),source:{uri:(null==ee?void 0:ee.imageUrl)||j.String.DEFAULT_IMAGE}})}),(0,b.jsxs)(o.View,{style:{flex:1},children:[(0,b.jsxs)(o.View,{style:u.default.ctnSecond,children:[(0,b.jsx)(l.default,{style:u.default.ctnName,children:null!=ee&&ee.personalName?(null==ee?void 0:ee.personalName)+"â€¢ ":"---"}),(0,b.jsx)(l.default,{style:u.default.ctnEmail,children:null==ee?void 0:ee.email})]}),(0,b.jsx)(l.default,{style:u.default.ctnTime,children:c.DateUtils.convertDateToDDMMYYYY_H_M(i.lastModifiedDate)}),function(e){var t=(0,m.decodeUnicodeToEmoji)(e);if(!t)return i.fileName?(0,b.jsxs)(o.View,{style:u.default.ctnViewFile,children:[(0,b.jsxs)(o.Pressable,{onPress:oe,style:u.default.styleFile,children:[(0,b.jsx)(l.default,{numberOfLines:1,style:u.default.content,children:""+i.fileName}),K&&(0,b.jsx)(p.Spinner,{size:"tiny"})]}),(0,b.jsx)(o.Pressable,{onPress:le,children:(0,b.jsx)(p.Icon,{name:"download-outline",width:24,height:24})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.default,{style:u.default.content,children:"'---'"})});if(!t.includes('class="user_tag"'))return i.fileName?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{style:u.default.content,children:(0,m.decodeUnicodeToEmoji)(t)}),(0,b.jsxs)(o.View,{style:u.default.ctnViewFile,children:[(0,b.jsxs)(o.Pressable,{onPress:oe,style:u.default.styleFile,children:[(0,b.jsx)(l.default,{numberOfLines:1,style:u.default.content,children:""+i.fileName}),K&&(0,b.jsx)(p.Spinner,{size:"tiny"})]}),(0,b.jsx)(o.Pressable,{onPress:le,children:(0,b.jsx)(p.Icon,{name:"download-outline",width:24,height:24})})]})]}):(0,b.jsx)(o.View,{style:u.default.bodyView,children:(0,b.jsx)(l.default,{style:u.default.content,children:(0,m.decodeUnicodeToEmoji)(t)})});if(t.includes('class="user_tag"')){var n=t.split("\n").map((function(e){return(0,m.splitStringWithSpans)(e).map((function(e){var t,n;return e.includes('class="user_tag"')?`${null==(t=(0,m.extractSpanList)(e))||null==(n=t[0])?void 0:n.textContent}`:e})).map((function(e,t){return e.startsWith("@")?(0,b.jsx)(l.default,{style:u.default.tag,children:`${e.slice(1)}`}):(0,b.jsx)(l.default,{style:u.default.content,children:`${e}`})}))}));return(0,b.jsx)(o.View,{style:u.default.bodyView,children:n.map((function(e,t){return(0,b.jsx)(o.View,{style:u.default.ctnViewGroup,children:e.map((function(e,t){return(0,b.jsx)(o.View,{children:e},t)}))},t)}))})}}(i.content),(0,b.jsxs)(o.View,{style:u.default.ctnReplyView,children:[(0,b.jsx)(o.Pressable,{onPress:function(){return function(e){k("reply",e),$(!0)}(i)},hitSlop:(0,s.SizeDP)(15),children:(0,b.jsx)(l.default,{style:u.default.ctnReply,children:O("CM.reply")})}),re.length>0&&(0,b.jsx)(b.Fragment,{children:U?(0,b.jsx)(o.Pressable,{onPress:ae,style:u.default.ctnToggleShow,children:(0,b.jsx)(l.default,{style:{fontSize:12},children:O("CM.thugon")})}):(0,b.jsxs)(o.Pressable,{onPress:ae,style:u.default.ctnToggleShow,children:[(0,b.jsx)(p.Icon,{fill:"#00204DE5",name:"message-circle-outline",width:16,height:16}),(0,b.jsxs)(l.default,{style:{fontSize:12},children:[O("CM.view")," ",null==re?void 0:re.length," ",O("CM.comment")]})]})})]})]}),(null==ee?void 0:ee.email)===ie.email&&(0,b.jsx)(o.View,{style:{},children:(0,b.jsx)(p.OverflowMenu,{anchor:function(){return(0,b.jsx)(o.TouchableOpacity,{onPress:ue,children:(0,b.jsx)(p.Icon,{width:20,height:20,name:"more-vertical"})})},visible:z,onBackdropPress:ue,children:T.map((function(e){return(0,b.jsx)(p.MenuItem,{accessoryLeft:(0,b.jsx)(p.Icon,{name:e.value}),title:O(e.key),onPress:function(){return function(e){switch(e.value){case"edit":ue(),k("edit",i);break;case"trash":ue(),I(i.id)}}(e)}},e.value)}))})})]}),U&&(0,b.jsx)(o.View,{style:{marginLeft:30,marginTop:10},children:null==re?void 0:re.map((function(e){return(0,b.jsx)(C,{data:e,user:null==M?void 0:M.find((function(t){return t.email===e.createdBy})),listDataUser:M,setComment:D,deleteComment:I,allComments:P,onReplyClick:k,level:_+1},e.id)}))}),(0,b.jsx)(x.default,{isVisible:N,children:(0,b.jsxs)(o.View,{style:u.default.ctnView,children:[(0,b.jsx)(o.View,{style:u.default.ctnBodyView,children:(0,b.jsx)(o.Pressable,{onPress:function(){return L(!1)},children:(0,b.jsx)(p.Icon,{name:"close",width:24,height:24})})}),(0,b.jsx)(o.View,{style:{flex:1},children:Q&&(0,b.jsx)(S.default,{startInLoadingState:!0,source:{uri:Q}})})]})})]})}));t.default=C},88420:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnImage:{width:(0,r.SizeDP)(24),height:(0,r.SizeDP)(24),borderRadius:(0,r.SizeDP)(12),overflow:"hidden",backgroundColor:a.Color.BgPrimary},ctnTime:{color:"#00204DB2",fontSize:r.default.FontTinier,fontFamily:a.Font.InterRegular400},ctnEmail:{color:"#00204DB2",fontSize:r.default.FontTiny,fontFamily:a.Font.InterSemiBold600},ctnName:{fontSize:r.default.FontTiny,color:"#00204D",fontFamily:a.Font.InterSemiBold600},ctnMain:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",columnGap:"ios"==i.Platform.OS?16:12,marginBottom:10},ctnSecond:{flex:1,flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"wrap"},ctnReply:{color:"#366AE2",fontSize:r.default.FontTiny,fontFamily:a.Font.InterMedium500},content:{color:"#00204DE5",fontSize:r.default.FontSmallest,fontFamily:a.Font.InterRegular400},tag:{color:"#62248F",fontSize:r.default.FontSmall,fontFamily:a.Font.InterRegular400},contentTag:{color:"#00204DE5",fontSize:r.default.FontSmallest,fontFamily:a.Font.InterRegular400},bodyView:{marginVertical:8},styleFile:{paddingHorizontal:10,paddingVertical:6,backgroundColor:"#e8e5e5de",borderRadius:8,marginVertical:3,maxWidth:130,justifyContent:"space-between",alignItems:"center",flexDirection:"row"},ctnViewFile:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:8},ctnReplyView:{flexDirection:"row-reverse",alignItems:"center",justifyContent:"flex-end",columnGap:10},ctnToggleShow:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:6,paddingVertical:3},ctnView:{backgroundColor:"#fff",height:"100%"},ctnBodyView:{justifyContent:"flex-end",alignItems:"flex-end",marginRight:16,marginBottom:10},ctnViewGroup:{flexDirection:"row",alignItems:"center",columnGap:8}})},68289:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extractSpanList=t.encodeEmojiToUnicode=t.decodeUnicodeToEmoji=void 0,t.filterCommentsByParentId=function(e){var t=new Map;return e.forEach((function(e){var n=null===e.commentId?"root":e.commentId;t.has(n)||t.set(n,[]),t.get(n).push(e)})),t},t.splitStringWithSpans=void 0;t.decodeUnicodeToEmoji=function(e){return e.replace(/\\u\{([0-9A-F]{1,6})\}/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/\\u([0-9A-F]{4})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))},t.encodeEmojiToUnicode=function(e){return e.replace(/([\uD800-\uDBFF][\uDC00-\uDFFF])|([^\n])/g,(function(e,t,n){return t?"\\u{"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536).toString(16).toUpperCase()+"}":n?"\\u"+n.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0"):e}))},t.extractSpanList=function(e){for(var t,n=/<span(?: [^>]*id="([^"]*)")?(?: [^>]*data-user-id="([^"]*)")?(?: [^>]*data-email="([^"]*)")?(?: [^>]*data-org-in="([^"]*)")?(?: [^>]*data-cust-id="([^"]*)")?[^>]*>(.*?)<\/span>/g,i=[];null!==(t=n.exec(e));)i.push({id:t[1],userId:t[2],email:t[3],orgIn:t[4],custId:t[5],textContent:t[6].trim()});return i},t.splitStringWithSpans=function(e){var t=/<span[^>]*>.*?<\/span>/g,n=e.match(t),i=e.split(t),r=[];return i.forEach((function(e,t){e.trim()&&r.push(e.trim()),n&&n[t]&&r.push(n[t])})),r}},55087:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),u=n(14740),s=n(41995),c=n(46317),d=n(87841),f=i(n(7259)),p=i(n(86288)),m=n(12638),h=n(68289),y=i(n(31263)),v=n(11671),g=n(32207),x=i(n(43184)),S=n(2884),w=i(n(24541)),j=n(20880),b=n(45335),D=n(47671);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}t.default=function(e){var t=e.onClose,n=(0,S.useTranslation)().t,i=(0,l.useState)([]),T=(0,o.default)(i,2),C=T[0],I=T[1],P=(0,l.useState)([]),k=(0,o.default)(P,2),_=k[0],M=k[1],O=(0,l.useState)([]),F=(0,o.default)(O,2),E=F[0],z=F[1],R=(0,l.useState)([]),V=(0,o.default)(R,2),A=V[0],N=V[1],L=(0,l.useState)(""),B=(0,o.default)(L,2),W=B[0],U=B[1],$=(0,l.useState)(!1),H=(0,o.default)($,2),Y=H[0],K=H[1],G=(0,l.useState)(!1),q=(0,o.default)(G,2),J=q[0],Q=q[1],X=(0,l.useState)(),Z=(0,o.default)(X,2),ee=Z[0],te=Z[1],ne=(0,l.useState)(null),ie=(0,o.default)(ne,2),re=ie[0],ae=ie[1],oe=(0,l.useState)(!1),le=(0,o.default)(oe,2),ue=le[0],se=le[1],ce=(0,l.useState)("new"),de=(0,o.default)(ce,2),fe=de[0],pe=de[1],me=(0,l.useState)(!1),he=(0,o.default)(me,2),ye=he[0],ve=he[1],ge=(0,l.useState)("loading"),xe=(0,o.default)(ge,2),Se=xe[0],we=xe[1],je=(0,l.useState)([]),be=(0,o.default)(je,2),De=be[0],Te=be[1],Ce=(0,l.useRef)(null),Ie=(0,m.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,Pe=(0,m.useAppSelector)((function(e){return e.account})).dataAccount,ke=(0,v.useTicketServices)(),_e=function(){return se(!ue)};(0,u.useFocusEffect)((0,l.useCallback)((function(){Ve()}),[]));var Me,Oe,Fe,Ee,ze,Re,Ve=(Me=(0,a.default)((function*(){try{we("loading");var e={userTaskId:"all",ticketId:Ie.id,sort:"lastModifiedDate,desc",page:0,size:1e5},t=yield ke.getListComments(e);if(t&&t.content){I(t.content);var n=t.content.map((function(e){return e.createdBy})),i=Pe.email||"",a=(0,r.default)(new Set([].concat((0,r.default)(n),[i]))).filter((function(e){return e.length>0})),o=yield ke.getMultiLoginAccount(a);z(o||[]),yield He()}}catch(e){console.log("Error get list comments:",e),we("error")}finally{Q(!1)}})),function(){return Me.apply(this,arguments)}),Ae=(0,l.useMemo)((function(){var e=new Map;return C.forEach((function(t){var n,i=null!=(n=t.commentId)?n:"root",a=e.get(i)||[];e.set(i,[].concat((0,r.default)(a),[t]))})),e}),[C]),Ne=function(e){var t=e.split(" "),n=t.filter((function(e){return!e.startsWith("@")})).join(" "),i=t.filter((function(e){return e.startsWith("@")})).map((function(e){var t,n,i;return`<span id="#${(new Date).getTime()}" class="user_tag" contenteditable="false" data-user-id="${null!=(t=Pe.id)?t:5845}" data-email="${e.slice(1)}" data-org-in="${null!=(n=Pe.orgIn)?n:"/1833/5390/5392"}" data-cust-id="${null!=(i=Pe.custId)?i:1833}">${e}</span>`})).join(" ");return(0,h.encodeEmojiToUnicode)(`${i} ${n}`)},Le=(Oe=(0,a.default)((function*(e,t,n){try{var i={content:Ne(W),userTaskId:"all",ticketId:Ie.id,name:`${Pe.firstName} ${Pe.lastName}`,createdBy:Pe.email,commentType:"comment",avatar:Pe.imageUrl,commentId:e,userId:Pe.id,orgIn:Pe.orgIn,custId:Pe.custId,contactDTO:De,isPrivate:n},a=new FormData;a.append("uploadFile",t?{uri:null==t?void 0:t.path,type:null==t?void 0:t.mime,name:null==t?void 0:t.path.split("/").pop()}:null),a.append("commentJson",JSON.stringify(i));var o=yield ke.sendComment(a);o&&(Te([]),I([o].concat((0,r.default)(C))),te(null),d.Keyboard.dismiss())}catch(e){}})),function(e,t,n){return Oe.apply(this,arguments)}),Be=(0,l.useCallback)((0,a.default)((function*(){if("reply"===fe||"new"===fe){if(W.trim()||ee){var e=re&&null!=re&&re.commentId?null==re?void 0:re.commentId:null==re?void 0:re.id;yield Le(e,ee,Y)}}else"edit"===fe&&W.trim()&&re&&(yield $e(null==re?void 0:re.id,null==re?void 0:re.commentId,ee,Y));U(""),pe("new"),ae(null)})),[W,fe,re,ee,Y]),We=(Fe=(0,a.default)((function*(e){try{(yield ke.deleteComment(e))&&Ue(e)}catch(e){}})),function(e){return Fe.apply(this,arguments)}),Ue=function(e){I((function(t){return null==t?void 0:t.filter((function(t){return t.id!==e}))}))},$e=(Ee=(0,a.default)((function*(e,t,n,i){try{var r=Object.assign({},re,{content:Ne(W),isPrivate:i,lastModifiedDate:(new Date).toISOString()}),a=new FormData;a.append("uploadFile",n?{uri:null==n?void 0:n.path,type:null==n?void 0:n.mime,name:null==n?void 0:n.path.split("/").pop()}:null),a.append("commentJson",JSON.stringify(r));var o=yield ke.updateComment(a);o&&(I((function(t){return t.map((function(t){return t.id===e?o:t}))})),d.Keyboard.dismiss())}catch(e){}})),function(e,t,n,i){return Ee.apply(this,arguments)}),He=(ze=(0,a.default)((function*(){try{var e=yield ke.getListAclUser(Ie.id);if(e){var t=e.map((function(e){var t;return null==e||null==(t=e.personal)?void 0:t.email}))||[],n=yield ke.getMultiLoginAccount((0,r.default)(new Set(t)));n&&M(n)}}catch(e){console.log("Error get list users:",e)}finally{we("done")}})),function(){return ze.apply(this,arguments)}),Ye=function(e){U(e);var t,n=e.split(" ").pop();if(null!=n&&n.startsWith("@")&&n.length>0)if((null==n||null==(t=n.slice(1))?void 0:t.length)<=0)N(_),ve(!0);else{var i,r=null==n||null==(i=n.slice(1))?void 0:i.toLowerCase();N(_.filter((function(e){var t;return null==e||null==(t=e.email)?void 0:t.toLowerCase().includes(r)}))),ve(!0)}else ve(!1)},Ke=(0,l.useCallback)((function(e,t){var n;if(pe(e),"reply"===e){var i=_.find((function(e){return e.email==t.createdBy})),a={id:null==i?void 0:i.resourceId,name:null==i?void 0:i.personalName,email:null==i?void 0:i.email,orgIn:null==i?void 0:i.orgIn,custId:null==i?void 0:i.custId,haveAvatar:!(null==i||!i.imageUrl),avatar:null==i?void 0:i.imageUrl,disabled:(null==i?void 0:i.resourceId)===Pe.id||De.some((function(e){return(null==e?void 0:e.id)===(null==i?void 0:i.resourceId)}))};Te((function(e){return[].concat((0,r.default)(e),[a])})),Ye(`@${t.createdBy} `)}else Ye(Ge((0,h.decodeUnicodeToEmoji)(t.content)));ae(t),null==(n=Ce.current)||n.focus()}),[]),Ge=function(e){return(0,h.splitStringWithSpans)(e).map((function(e){var t,n;return e.includes('class="user_tag"')?`${null==(t=(0,h.extractSpanList)(e))||null==(n=t[0])?void 0:n.textContent}`:e})).join(" ")},qe=(Re=(0,a.default)((function*(){try{var e=yield y.default.ChoosePhoto({width:500,height:500});te(e)}catch(e){console.log(e)}})),function(){return Re.apply(this,arguments)});return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(d.KeyboardAvoidingView,{keyboardVerticalOffset:50,behavior:"ios"===d.Platform.OS?"padding":"height",style:{flex:1},children:(0,D.jsx)(d.TouchableWithoutFeedback,{children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(x.default,{style:{backgroundColor:"#fff"},titleStyle:{color:"#00204D"},fillIconBackLeft:"#00204DB2",contentStyle:{backgroundColor:"#fff"},title:n("TK.comment"),onPressIconLeft:t}),(0,D.jsxs)(d.View,{style:{flex:1,padding:16},children:[(0,D.jsxs)(d.View,{style:{flex:1,position:"relative"},children:["done"===Se&&(0,D.jsx)(d.FlatList,{style:{flex:1},refreshing:J,onRefresh:function(){Q(!0),we("loading"),Ve()},showsVerticalScrollIndicator:!1,contentContainerStyle:{rowGap:(0,s.SizeDP)(16)},data:(null==Ae?void 0:Ae.get("root"))||[],renderItem:function(e){var t=e.item;return(0,D.jsx)(p.default,{data:t,user:E.find((function(e){return e.email===t.createdBy})),listDataUser:E,setComment:U,deleteComment:We,allComments:Ae,onReplyClick:Ke,level:0})},ListEmptyComponent:function(){return(0,D.jsxs)(d.View,{style:f.default.emptyComment,children:[(0,D.jsx)(g.Icon,{name:"message-circle-outline",width:30,height:30}),(0,D.jsx)(w.default,{style:{textAlign:"center"},children:n("TK.commentDescription")})]})}}),"loading"===Se&&(0,D.jsx)(g.Spinner,{size:"small"}),"error"===Se&&(0,D.jsx)(d.View,{children:(0,D.jsx)(w.default,{children:n("CM.emptyData")})}),ye&&A.length>0&&(0,D.jsx)(d.View,{style:f.default.ctnModalListUser,children:(0,D.jsx)(d.View,{style:f.default.bodyModalListUser,children:(0,D.jsx)(g.List,{keyboardShouldPersistTaps:"handled",data:A,renderItem:function(e){var t=e.item;return(0,D.jsx)(g.ListItem,{onPress:function(){return function(e){var t,n={id:e.resourceId,name:e.personalName,email:e.email,orgIn:e.orgIn,custId:e.custId,haveAvatar:!!e.imageUrl,avatar:e.imageUrl,disabled:e.resourceId===Pe.id||De.some((function(t){return t.id===e.resourceId}))};Te((function(e){return[].concat((0,r.default)(e),[n])}));var i=W.split(" ");i[i.length-1]=`@${e.email} `,U(i.join(" ")),ve(!1),null==(t=Ce.current)||t.focus()}(t)},children:(0,D.jsxs)(d.View,{style:f.default.ctnViewTag,children:[(0,D.jsx)(d.Image,{width:24,height:24,borderRadius:12,source:{uri:(null==t?void 0:t.imageUrl)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"}}),(0,D.jsxs)(d.View,{children:[(0,D.jsx)(w.default,{style:{fontSize:14,fontFamily:j.Font.InterSemiBold600},children:t.personalName}),(0,D.jsx)(w.default,{children:t.email})]})]})})}})})})]}),(0,D.jsxs)(d.View,{style:[f.default.ctnSend],children:[(0,D.jsxs)(d.View,{style:f.default.ctnImg,children:[ee&&(0,D.jsx)(D.Fragment,{children:ee.mime.includes("image")&&(0,D.jsxs)(d.View,{style:f.default.ctnImage,children:[(0,D.jsx)(d.Image,{style:f.default.image,source:{uri:ee.sourceURL}}),(0,D.jsx)(d.Pressable,{onPress:function(){return te(null)},style:f.default.closeImage,children:(0,D.jsx)(g.Icon,{width:12,height:12,name:"close-outline"})})]})}),(0,D.jsxs)(d.View,{style:f.default.ctnInput,children:[(0,D.jsx)(d.TextInput,{ref:Ce,style:{padding:(0,s.SizeDP)(12),flex:1},allowFontScaling:!1,multiline:!0,placeholder:n("new"===fe?"TK.addComment":"reply"===fe?"TK.replyComment":"TK.editComment"),value:W,onChangeText:Ye,onFocus:function(e){return t=e.nativeEvent.text,void(null!=(n=null==t?void 0:t.split(" ").pop())&&n.startsWith("@")&&ve(!0));var t,n}}),(0,D.jsx)(d.TouchableOpacity,{onPress:qe,hitSlop:(0,s.SizeDP)(15),children:(0,D.jsx)(c.IconGetRelative,{width:(0,s.SizeDP)(20),height:(0,s.SizeDP)(20)})}),(0,D.jsx)(d.Pressable,{style:{marginHorizontal:12},onPress:function(){K(!Y),_e()},children:(0,D.jsx)(g.Icon,{width:20,height:20,fill:"#39AC6D",name:Y?"people-outline":"globe-outline"})}),(0,D.jsx)(b.Snackbar,{style:{marginBottom:20},onDismiss:_e,visible:ue,duration:1e3,children:n(Y?"TK.commentPrivate":"TK.commentPublic")})]})]}),(0,D.jsx)(d.TouchableOpacity,{onPress:Be,hitSlop:(0,s.SizeDP)(15),children:(0,D.jsx)(c.IconSend,{width:(0,s.SizeDP)(24),height:(0,s.SizeDP)(24)})})]})]})]})})})})}},7259:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(41995);t.default=i.StyleSheet.create({ctnSend:{flexDirection:"row",alignItems:"center",columnGap:(0,r.SizeDP)(10),zIndex:1,backgroundColor:"#fff",paddingVertical:10},ctnImage:{marginLeft:4,marginTop:6,position:"relative",width:100,height:100},closeImage:{position:"absolute",top:-4,right:-4,padding:2,borderRadius:20,backgroundColor:"#fff",borderWidth:.5,borderColor:"#00358090"},image:{width:100,height:100,borderRadius:(0,r.SizeDP)(8)},ctnImg:{flex:1,borderWidth:(0,r.SizeDP)(.5),borderColor:"#00358026",borderRadius:(0,r.SizeDP)(8)},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},menu:{width:250,maxHeight:300,position:"absolute",borderRadius:8,overflow:"hidden"},menuTitle:{padding:8,fontWeight:"bold"},ctnModalListUser:{alignItems:"center",justifyContent:"center",width:"100%",bottom:0,position:"absolute"},bodyModalListUser:{width:"90%",maxHeight:180,borderRadius:8,overflow:"hidden",borderWidth:.5,borderColor:"#a2b3cfe6"},ctnInput:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},ctnViewTag:{flexDirection:"row",alignItems:"center",columnGap:10,marginLeft:10},emptyComment:{margin:10,flex:1,alignItems:"center",rowGap:5}})},84478:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(21527));var r=n(87841),a=n(2543),o=n(32207),l=n(14740),u=i(n(24541)),s=n(47671);t.default=function(e){var t=e.style,n=e.onPressIconLeft,i=e.viewIconLeft,c=void 0===i?"arrow-back":i,d=e.title,f=void 0===d?"quangnh39":d,p=e.contentStyle,m=e.renderContentRight,h=e.appearance,y=void 0===h?"default":h,v=e.alignment,g=void 0===v?"start":v,x=e.subtitle,S=void 0===x?"":x,w=e.fillIconBackLeft,j=(0,l.useNavigation)(),b=function(){(0,a.isUndefined)(n)?j.goBack():n()};return(0,s.jsx)(r.View,{style:[t],children:(0,s.jsx)(o.TopNavigation,{title:function(e){return(0,s.jsx)(u.default,Object.assign({},e,{children:f}))},appearance:y,accessoryLeft:function(){return(0,s.jsx)(o.TopNavigationAction,{hitSlop:15,onPress:b,icon:(0,s.jsx)(o.Icon,{name:c,fill:w})})},accessoryRight:m,alignment:g,subtitle:S,style:[p]})})}},69107:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(85715)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),l=n(87841),u=n(32207),s=i(n(33489)),c=i(n(24541)),d=n(20880),f=n(35708),p=n(47671);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}t.default=function(e){var t=e.item,n=(0,o.useState)([t.id]),i=(0,a.default)(n,2),m=i[0],h=i[1],y=m.includes(t.id);return(0,p.jsxs)(l.View,{style:s.default.processContainer,children:[(0,p.jsxs)(l.TouchableOpacity,{onPress:function(){return e=t.id,void(m.includes(e)?h(m.filter((function(t){return t!==e}))):h([].concat((0,r.default)(m),[e])));var e},style:s.default.processHeader,children:[(0,p.jsx)(u.Icon,{name:y?"arrow-ios-downward-outline":"arrow-ios-forward-outline",fill:"#FC6B03",width:16,height:16}),(0,p.jsx)(c.default,{style:s.default.processTitle,children:t.notionName})]}),y&&(0,p.jsx)(p.Fragment,{children:t.reason&&(0,p.jsx)(l.View,{style:s.default.expandedContainer,children:(0,p.jsxs)(l.View,{style:s.default.userRow,children:[(0,p.jsx)(l.Image,{style:s.default.avatar,source:{uri:null!=t&&t.avatar?`${d.String.PREFIX_IMG_BASE64}${t.avatar}`:d.String.DEFAULT_IMAGE}}),(0,p.jsxs)(l.View,{style:s.default.userInfo,children:[t.userName&&t.email&&(0,p.jsxs)(l.View,{style:s.default.userDetails,children:[(0,p.jsx)(c.default,{style:s.default.commentUser,children:t.userName}),(0,p.jsx)(c.default,{style:s.default.commentEmail,children:t.email?`(${t.email.split("@")[0]})`:""}),(0,p.jsx)(c.default,{style:s.default.commentTime,children:t.signDate?` â€¢ ${f.DateUtils.convertDateToDDMMYYYY_H_M(t.signDate)}`:""})]}),(0,p.jsx)(c.default,{style:s.default.commentText,children:t.reason})]})]})})})]})}},24617:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),u=n(87841),s=n(14740),c=n(2884),d=n(32207),f=i(n(33489)),p=i(n(69107)),m=i(n(43184)),h=i(n(24541)),y=n(11671),v=n(12638),g=n(40851),x=n(31004),S=n(47671);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}t.default=function(e){var t,n=e.onClose,i=(0,c.useTranslation)().t,w=(0,v.useAppSelector)((function(e){return e.common})).accessToken,j=(0,v.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,b=(0,y.useTicketServices)(),D=(0,g.useReviewServices)(),T=(0,x.useReviewEcontractServices)(),C=(0,l.useState)("loading"),I=(0,o.default)(C,2),P=I[0],k=I[1],_=(0,l.useState)([]),M=(0,o.default)(_,2),O=M[0],F=M[1],E=(0,l.useState)([]),z=(0,o.default)(E,2),R=z[0],V=z[1],A=(0,l.useState)([]),N=(0,o.default)(A,2),L=N[0],B=N[1],W=(t=(0,a.default)((function*(e){var t=yield b.getMultiLoginAccount((0,r.default)(new Set(e)),w);t&&V(t)})),function(e){return t.apply(this,arguments)});(0,s.useFocusEffect)((0,l.useCallback)((function(){$()}),[])),(0,l.useEffect)((function(){var e=(0,r.default)(O).map((function(e){e.implementerId;var t=L.find((function(t){return t.id==e.implementerId}));if(t){var n,i,r,a,o,l=null==t||null==(n=t.recipient)||null==(i=n.contact)?void 0:i.email,u="",s=R.find((function(e){return e.email==l}));return s&&(u=s.personalName||"---",o=s.avatar),Object.assign({},e,{email:null==t||null==(r=t.recipient)||null==(a=r.contact)?void 0:a.email,userName:u,avatar:o})}return e}));F(e)}),[R]);var U,$=(U=(0,a.default)((function*(){try{var e=yield D.getStatusParty(j.id,w);if(e){var t,n,i;F(null==e||null==(t=e.party)?void 0:t.recipients);var r=yield T.getRecipientDetail((null==e||null==(n=e.party)||null==(i=n.recipients[0])?void 0:i.id)||"",(null==e?void 0:e.ticketId)||"");if(r){B(r);var a=r.map((function(e){var t,n;return(null==e||null==(t=e.recipient)||null==(n=t.contact)?void 0:n.email)||""}));yield W(a)}}}catch(e){k("error")}finally{k("done")}})),function(){return U.apply(this,arguments)});return(0,S.jsx)(u.TouchableWithoutFeedback,{children:(0,S.jsxs)(u.View,{style:f.default.indexContainer,children:[(0,S.jsx)(m.default,{titleStyle:f.default.titleContainer,fillIconBackLeft:"#00204DB2",contentStyle:f.default.backgroundContainer,title:i("CM.note"),onPressIconLeft:n}),(0,S.jsx)(d.Divider,{}),(0,S.jsxs)(u.View,{style:{flex:1},children:["loading"===P&&(0,S.jsx)(u.View,{style:f.default.wrapSpin,children:(0,S.jsx)(d.Spinner,{size:"small"})}),"done"===P&&(0,S.jsx)(u.FlatList,{data:O,renderItem:function(e){var t=e.item;return t.id&&"accepted"==t.status?(0,S.jsx)(p.default,{item:t}):null},style:f.default.container,ListEmptyComponent:function(){return(0,S.jsx)(u.View,{children:(0,S.jsx)(h.default,{style:{textAlign:"center"},children:i("TK.noteEmptyDescription")})})}}),"error"===P&&(0,S.jsx)(u.View,{children:(0,S.jsx)(h.default,{children:i("CM.emptyData")})})]})]})})}},33489:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({indexContainer:{flex:1},titleContainer:{color:"#00204D"},backgroundContainer:{backgroundColor:"#fff"},container:{flex:1,backgroundColor:"#F8FAFE"},wrapSpin:{flex:1,justifyContent:"center",alignItems:"center"},processContainer:{backgroundColor:"#fff",marginVertical:15,marginHorizontal:10,borderRadius:10,overflow:"hidden",elevation:2,padding:12},processHeader:{flexDirection:"row",alignItems:"center",padding:10},processTitle:{fontSize:14,fontFamily:r.Font.InterMedium500,color:"#FC6B03",marginLeft:8},expandedContainer:{paddingVertical:10},userRow:{flexDirection:"row",alignItems:"flex-start",marginBottom:8},avatar:{width:24,height:24,borderRadius:12,marginRight:6},userInfo:{flex:1,marginTop:4,lineHeight:20},commentUser:{fontSize:13,fontFamily:r.Font.InterMedium500,color:"#333"},userDetails:{flexDirection:"row",alignItems:"center",flexWrap:"wrap",marginBottom:5},commentFullName:{fontSize:13,fontFamily:r.Font.InterMedium500,color:"#333"},commentShortlName:{fontSize:13,fontFamily:r.Font.InterMedium500,color:"#333"},commentEmail:{fontSize:13,color:"#666",marginLeft:5},commentTime:{fontSize:12,color:"#888",marginLeft:10},commentText:{fontSize:14,color:"#333",marginTop:5,lineHeight:20},notYetText:{textAlign:"center",paddingVertical:10}})},23813:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(16861)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),s=n(46317),c=n(2884),d=n(12638),f=i(n(27747)),p=i(n(45001)),m=n(20880),h=n(32207),y=n(11671),v=n(97427),g=i(n(77389)),x=n(47671);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}t.default=function(e){var t,n=e.isVisible,i=e.toogleRateNow,S=(0,c.useTranslation)().t,w=(0,d.useAppDispatch)(),j=(0,u.useState)(""),b=(0,a.default)(j,2),D=b[0],T=b[1],C=(0,u.useState)(-1),I=(0,a.default)(C,2),P=I[0],k=I[1],_=(0,d.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,M=(0,u.useState)(!1),O=(0,a.default)(M,2),F=O[0],E=O[1],z=(0,y.useTicketServices)(),R=(t=(0,r.default)((function*(){var e={id:_.id,rate:P+1,rateNote:D,ticketStatus:"completed"};try{E(!0);var t=yield z.sendRateTicket(e);t?(w(v.ticketActions.setDataTicket(Object.assign({},_,{rate:null==t?void 0:t.rate}))),g.default.show({type:"success",text1:S("CM.noti"),text2:S("TK.rateSuccess")})):g.default.show({type:"error",text1:S("CM.noti"),text2:S("TK.rateFaile")}),i()}catch(e){}finally{E(!1)}})),function(){return t.apply(this,arguments)});return F?(0,x.jsx)(o.View,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,x.jsx)(h.Spinner,{size:"large"})}):(0,x.jsx)(p.default,{isVisible:n,onClose:i,title:`${S("TK.rate_now")}`,type:"rate",labelCancel:S("CM.labelCancel"),labelConfirm:S("TK.rate"),styleBtnRight:{backgroundColor:m.Color.completed},onConfirm:function(){return R()},renderContent:function(){return(0,x.jsxs)(o.View,{style:{marginVertical:6},children:[(0,x.jsx)(o.View,{style:l.default.starContainer,children:new Array(5).fill(1).map((function(e,t){return(0,x.jsx)(o.TouchableOpacity,{onPress:function(){return function(e){k(e)}(t)},children:t>P?(0,x.jsx)(s.IconStarOutline,{width:55,height:50,fill:m.Color.gray}):(0,x.jsx)(s.IconStar,{width:55,height:50,fill:m.Color.yellow})},t)}))}),(0,x.jsx)(f.default,{value:D,onChangeText:T,multiline:!0,isFloatingLabel:!0,label:S("TK.enter_comment"),maxLength:400})]})}})}},16861:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(41995),a=n(20880);t.default=i.StyleSheet.create({starContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},btnRate:{color:a.Color.White,backgroundColor:a.Color.rate,padding:(0,r.SizeDP)(6),borderRadius:6}})},73639:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),l=n(87841),u=i(n(93238)),s=n(12638),c=n(14740),d=n(20880),f=n(19867),p=i(n(69290)),m=n(32207),h=i(n(24541)),y=n(2884),v=n(40851),g=n(97427),x=n(11671),S=n(88e3),w=n(35708),j=n(31004),b=i(n(77389)),D=n(2543),T=n(47671);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}t.default=function(e){var t=e.selectTabBottom,n=e.userTaskId,i=e.recipientDetailsId,C=e.isRealoadWebview,I=e.notifyActionType,P=e.typeView,k=(0,y.useTranslation)().t,_=(0,c.useNavigation)(),M=(0,s.useAppDispatch)(),O=(0,s.useAppSelector)((function(e){return e.ticket})),F=O.dataTicketRedux,E=O.statusPartyRaw,z=(0,s.useAppSelector)((function(e){return e.common})),R=z.accessToken,V=(z.language,(0,s.useAppSelector)((function(e){return e.account})).dataAccount),A=(0,o.useState)(!1),N=(0,a.default)(A,2),L=N[0],B=N[1],W=(0,o.useState)([]),U=(0,a.default)(W,2),$=U[0],H=U[1],Y=(0,o.useState)({width:l.Dimensions.get("screen").width,height:l.Dimensions.get("screen").height}),K=(0,a.default)(Y,2),G=(K[0],K[1]),q=(0,o.useState)(0),J=(0,a.default)(q,2),Q=J[0],X=J[1],Z=(0,o.useState)(!0),ee=(0,a.default)(Z,2),te=ee[0],ne=ee[1],ie=(0,o.useState)(),re=(0,a.default)(ie,2),ae=re[0],oe=re[1],le=(0,v.useReviewServices)(),ue=(0,x.useTicketServices)(),se=(0,j.useReviewEcontractServices)();(0,c.useFocusEffect)((0,o.useCallback)((function(){return"email"===I&&w.CacheUtils.getReloadWebview().then((function(e){ne("first"===e)})),X((function(e){return e+1})),w.CacheUtils.clearReloadWebview()}),[C])),(0,o.useEffect)((function(){Promise.all([De(),Te(),Ce(),Ie()])}),[]),(0,o.useEffect)((function(){"quick"===P&&E&&be(JSON.parse((null==F?void 0:F.jsonXml)||"{}"))}),[E]),(0,o.useEffect)((function(){(0,D.isEmpty)(ae)||me(ae)}),[ae]);var ce,de,fe,pe,me=(ce=(0,r.default)((function*(e){var r,a,o=yield De(),l=null==o?void 0:o.some((function(e){return e.recipient.contact.email===(null==V?void 0:V.email)})),u=yield ue.getAuthorizationOfTaskSla({email:(null==V?void 0:V.email)||"binhntt6@fpt.com.vn",orgIn:(null==V?void 0:V.orgIn)||"/1978/5742",userTaskId:n,resourceId:null==F?void 0:F.id});if(null!=u&&u.length||l){var s=null==E||null==(r=E.party)||null==(a=r.recipients)?void 0:a.find((function(e){return e.id===n})),c="Disbursement"===(null==s?void 0:s.role);if(e){var f="";if("processing"===(null==s?void 0:s.status)?f="task-search":"accepted"===(null==s?void 0:s.status)?f="task-success":"rejected"===(null==s?void 0:s.status)&&(f="task-reject"),!f||"task-search"!==f)return;var p=1===t?"mine":"required";switch(null==s?void 0:s.role){case"Disbursement":default:_.navigate(d.NavigationName.ReviewFlow,{dataUserTask:{_status:f,_typeView:p,_userTaskId:n,checkDisbursement:c,modelerId:null==F?void 0:F.modelerId,reason:null==s?void 0:s.reason}});break;case"eID":var m={userTask:s,_recipientDetailsId:i,_userTaskId:n,_typeView:p,modelerId:null==F?void 0:F.modelerId,formData:F.formData?F.formData[0].formData:null,perms:"perms"};_.navigate(d.NavigationName.ReviewEIDScreen,{dataUserTask:m});break;case"eCollabo":var h={recipientDetailsId:i,_userTaskId:n,_status:f,_typeView:p,modelerId:null==F?void 0:F.modelerId,perms:"perms"};_.navigate(d.NavigationName.ReviewEcollaboFlow,{dataUserTask:h});break;case"eContract":he();case"eLMS":}}}else b.default.show({type:"error",text1:k("CM.noti"),text2:k("CM.noPermission")})})),function(e){return ce.apply(this,arguments)}),he=(de=(0,r.default)((function*(){try{var e,t="ewriter",i=yield se.getListAutomationEcontract(null==F?void 0:F.id,n),r=yield se.getEContractNotionDocResource(n);r&&null!=r&&r.data&&(t=(null==r||null==(e=r.data)?void 0:e.filter((function(e){return"ewriter"===e.resourceType||null===e.resourceType||"null"===e.resourceType}))).length>0?"ewriter":"ecollabo"),i&&(null==i?void 0:i.length)>0?ge(i[0].envelopeId):ye(n,t,!0)}catch(e){}})),function(){return de.apply(this,arguments)}),ye=(fe=(0,r.default)((function*(e,t,n){var r=yield ve(),a={userTaskId:e,recipientDetailsId:i,statusParty:null==E?void 0:E.party,isForm:n,documentResource:t,owner:r,perms:"perms"};_.navigate(d.NavigationName.ReviewEcontractFlow,{dataUserTask:a,isFinish:!1})})),function(e,t,n){return fe.apply(this,arguments)}),ve=(pe=(0,r.default)((function*(){var e=yield se.getTicketModelerFlowStatusRaw(F.id);return e?null==e?void 0:e.createdBy:""})),function(){return pe.apply(this,arguments)}),ge=function(e){_.navigate(d.NavigationName.ReviewEcontractFlow,{dataUserTask:{envelopeId:e,perms:"perms"},isFinish:!0})};(0,o.useEffect)((function(){var e=l.Dimensions.addEventListener("change",(function(e){var t=e.screen,n={width:t.width,height:t.height};G(n)}));return function(){return e.remove()}}),[]);var xe,Se,we,je,be=function e(t){t&&t.childShapes&&t.childShapes.length>0&&t.childShapes.forEach((function(t){if("callactivity"===t.stencil.id.toLowerCase()||"eid"===t.stencil.id.toLowerCase()||"elms"===t.stencil.id.toLowerCase()||"econtract"===t.stencil.id.toLowerCase()||"disbursement"===t.stencil.id.toLowerCase()||"payment"===t.stencil.id.toLowerCase()||"settlement"===t.stencil.id.toLowerCase()||"ecollabo"===t.stencil.id.toLowerCase()||"eapi"===t.stencil.id.toLowerCase()){if(t.resourceId===n)return void oe(t)}else if(t.childShapes.length>0)return t.childShapes.forEach((function(e){return e.bounds.lowerRight.y=e.bounds.lowerRight.y+t.bounds.upperLeft.y,e.bounds.upperLeft.y=e.bounds.upperLeft.y+t.bounds.upperLeft.y,e.bounds.upperLeft.x=e.bounds.upperLeft.x+t.bounds.upperLeft.x,e.bounds.lowerRight.x=e.bounds.lowerRight.x+t.bounds.upperLeft.x,e})),e(t)}))},De=(xe=(0,r.default)((function*(){try{var e=yield le.getRecipientDetaiImpl(F.id,R);return e?(M(g.ticketActions.setDataRecipientDetailImpl(e)),e):[]}catch(e){}})),function(){return xe.apply(this,arguments)}),Te=(Se=(0,r.default)((function*(){try{var e=yield le.getListTaskSLA(F.id);e&&M(g.ticketActions.setDataListRecipientsSLA(e))}catch(e){}})),function(){return Se.apply(this,arguments)}),Ce=(we=(0,r.default)((function*(){try{if(!F.modelerId)return;var e=null==F?void 0:F.formData.find((function(e){return!e.userTaskId})),t=yield le.getFormDetailById(null==e?void 0:e.eformId,R);t&&M(g.ticketActions.setFormData(t))}catch(e){}})),function(){return we.apply(this,arguments)}),Ie=(je=(0,r.default)((function*(){try{var e=yield ue.getModeler(F.modelerId,R);e&&M(g.ticketActions.setModeler(e))}catch(e){}})),function(){return je.apply(this,arguments)}),Pe=function(e){var t=JSON.parse(e.nativeEvent.data);switch(null==t?void 0:t.action){case f.ACTION_TYPES.SHOW_USERTASK_INFO:return w.CacheUtils.saveReloadWebview(),void _.navigate(d.NavigationName.ReviewFlow,{dataUserTask:t.data});case f.ACTION_TYPES.SHOW_ECONTRACT_INFO:return void _.navigate(d.NavigationName.ReviewEcontractFlow,{dataUserTask:t.data,isFinish:!0});case f.ACTION_TYPES.SHOW_EXECUTOR_USER:return H(t.data),void B(!0);case f.ACTION_TYPES.SHOW_EID_INFO:return void _.navigate(d.NavigationName.ReviewEIDScreen,{dataUserTask:t.data});case f.ACTION_TYPES.CREATE_ECONTRACT_ENV:return void _.navigate(d.NavigationName.ReviewEcontractFlow,{dataUserTask:t.data,isFinish:!1});case f.ACTION_TYPES.SHOW_COLLABO_INFO:return void _.navigate(d.NavigationName.ReviewEcollaboFlow,{dataUserTask:t.data});default:return}},ke=function(){return 1===t?`${null==F?void 0:F.id}?_typeView=mine&access_token=${R}`:"email"===I&&te?`${null==F?void 0:F.id}?_recipientDetailsId=${i}&_userTaskId=${n}&_typeView=required&access_token=${R}&from=${I}`:`${null==F?void 0:F.id}?_recipientDetailsId=${i}&_userTaskId=${n}&_typeView=required&access_token=${R}`};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(l.View,{style:{flex:1},children:1===t?(0,T.jsx)(u.default,{startInLoadingState:!0,source:{uri:(0,S.getConfig)().BASE_URL_TICKET+ke()},onMessage:Pe,webviewDebuggingEnabled:!0},Q):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(u.default,{startInLoadingState:!0,source:{uri:(0,S.getConfig)().BASE_URL_TICKET+ke()},onMessage:Pe,webviewDebuggingEnabled:!0},Q)})}),(0,T.jsx)(p.default,{title:k("TK.listUser"),isVisible:L,onClose:function(){return B(!1)},renderContent:(0,T.jsx)(l.FlatList,{data:$,keyExtractor:function(e){return e.id},renderItem:function(e){var t,n,i=e.item;return(0,T.jsxs)(l.View,{style:{flexDirection:"row",columnGap:10,alignItems:"center",marginBottom:20},children:[(0,T.jsx)(m.Avatar,{source:{uri:i.avatar||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"}}),(0,T.jsxs)(l.View,{style:{flex:1},children:[(0,T.jsx)(h.default,{style:{flex:1},children:""+i.personalName}),(0,T.jsx)(h.default,{children:(null==i||null==(t=i.recipient)||null==(n=t.contact)?void 0:n.email)||"---"})]})]})}})})]})}},7006:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(7005),a=i(n(93238)),o=n(20880),l=i(n(43184)),u=n(47671);t.default=function(e){var t=e.url,n=e.onClose,i=e.name;return(0,u.jsxs)(r.SafeAreaView,{edges:["bottom","top"],style:{flex:1,backgroundColor:"#fff"},children:[(0,u.jsx)(l.default,{style:{backgroundColor:"#fff"},titleStyle:{color:"#00204D"},fillIconBackLeft:"#00204DB2",contentStyle:{backgroundColor:"#fff"},title:i,onPressIconLeft:n}),(0,u.jsx)(a.default,{startInLoadingState:!0,injectedJavaScript:o.String.SCRIPT_SCALE_WEBVIEW,source:{uri:t}})]})}},89076:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),l=n(87841),u=i(n(76456)),s=n(7005),c=n(41995),d=n(46317),f=i(n(75672)),p=n(35708),m=i(n(24541)),h=i(n(81924)),y=n(14740),v=i(n(77389)),g=n(12638),x=n(60596),S=n(2884),w=n(40851),j=i(n(86933)),b=i(n(99746)),D=i(n(76644)),T=i(n(7006)),C=n(88e3),I=i(n(55529)),P=n(37106),k=n(47671);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}t.default=function(){var e=(0,S.useTranslation)().t,t=((0,y.useNavigation)(),(0,o.useState)(1)),n=(0,a.default)(t,2),i=n[0],_=n[1],M=(0,o.useState)(0),O=(0,a.default)(M,2),F=O[0],E=O[1],z=(0,o.useState)([]),R=(0,a.default)(z,2),V=R[0],A=R[1],N=(0,o.useState)([]),L=(0,a.default)(N,2),B=L[0],W=L[1],U=(0,o.useState)([]),$=(0,a.default)(U,2),H=$[0],Y=$[1],K=(0,o.useState)(!1),G=(0,a.default)(K,2),q=G[0],J=G[1],Q=(0,o.useState)(""),X=(0,a.default)(Q,2),Z=X[0],ee=X[1],te=(0,o.useState)(!1),ne=(0,a.default)(te,2),ie=ne[0],re=ne[1],ae=(0,o.useState)(),oe=(0,a.default)(ae,2),le=oe[0],ue=oe[1],se=(0,o.useState)(""),ce=(0,a.default)(se,2),de=ce[0],fe=ce[1],pe=(0,g.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,me=(0,g.useAppSelector)((function(e){return e.common})).accessToken,he=(0,P.useZutandStore)((function(e){return e})).statusTicketSelect,ye=(0,w.useReviewServices)();(0,o.useEffect)((function(){Pe(),ke()}),[]),(0,o.useEffect)((function(){_e(i)}),[i]);var ve,ge,xe,Se,we,je,be,De,Te,Ce,Ie,Pe=(ve=(0,r.default)((function*(){try{var e=yield ye.getListFileByTicketId(pe.id);Me(e)}catch(e){}})),function(){return ve.apply(this,arguments)}),ke=(ge=(0,r.default)((function*(){try{var e=yield ye.getStatusParty(null==pe?void 0:pe.id,me);if(e){var t,n=null==(t=e.party)?void 0:t.recipients,i=yield ye.getListFormIdByTicketId(null==pe?void 0:pe.id);if(!i)return;i=function(e){var t=new Set,n=[];for(var i of e)null===i.userTaskId?n.push(i):t.has(i.userTaskId)||(t.add(i.userTaskId),n.push(i));return n}(i),Promise.all(i.map((function(e){return ye.getFormERequest({versionId:e.versionId},me)}))).then((function(e){Oe(null==e?void 0:e.map((function(e){var t,n,r,a;return Object.assign({},e,{userTaskId:null==(t=i)||null==(n=t.find((function(t){return t.formId===e.formId})))?void 0:n.userTaskId,versionId:null==(r=i)||null==(a=r.find((function(t){return t.formId===e.formId})))?void 0:a.versionId})})),n)}))}}catch(e){console.log("error",e)}})),function(){return ge.apply(this,arguments)}),_e=(xe=(0,r.default)((function*(e){try{var t={size:3,page:e-1,sort:"createdDate,desc",ticketId:null==pe?void 0:pe.id},n=yield ye.getListFileRelative(t,me);if(n){var i;if(0===(null==n||null==(i=n.data)?void 0:i.length))return void(e>1?_(e-1):(Y([]),E(0)));E(null==n?void 0:n.totalRecords),Fe(null==n?void 0:n.data)}}catch(e){}})),function(e){return xe.apply(this,arguments)}),Me=function(e){var t=e.map((function(e,t){var n;return{STT:String(t+1),keyName:(0,k.jsx)(m.default,{style:u.default.txtText,numberOfLines:1,children:null==e?void 0:e.name}),notionName:(null==e?void 0:e.notionName)||"---",createdBy:e.createdBy,documentSize:p.CommonUtils.getSize(null==e?void 0:e.fileSize),type:null==e||null==(n=e.name)?void 0:n.split(".").slice(-1)[0],lastModifiedDate:p.DateUtils.convertDateToDDMMYYYY_H_M(e.lastModifiedDate),action:We(!0,e)}}));A(t)},Oe=function(e,t){var n=e.map((function(e,n){var i,r;return{STT:String(n+1),keyName:(0,k.jsx)(l.TouchableOpacity,{onPress:function(){re(!0),ue(e)},children:(0,k.jsx)(m.default,{style:u.default.txtText,numberOfLines:1,children:null==e?void 0:e.formName})}),createdBy:e.createdBy,notionName:null!=(i=null==t||null==(r=t.find((function(t){return e.userTaskId==t.id})))?void 0:r.notionName)?i:"Form quy trÃ¬nh"}}));W(n)},Fe=function(e){var t=e.map((function(e,t){var n,r;return{STT:String(3*(i-1)+1+t),keyName:(0,k.jsx)(m.default,{style:u.default.txtText,numberOfLines:1,children:null==e?void 0:e.fileName}),notionName:(null==e?void 0:e.notionName)||"---",createdBy:e.createdBy,documentSize:p.CommonUtils.getSize(e.size),type:null==e||null==(n=e.fileName)||null==(r=n.split("."))?void 0:r.pop(),lastModifiedDate:p.DateUtils.convertDateToDDMMYYYY_H_M(e.lastModifiedDate),action:We(!1,e)}}));Y(t)},Ee=(Se=(0,r.default)((function*(){var t,n,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1?arguments[1]:void 0;fe(i?r.name:null==(t=r.fileName)||null==(n=t.split("."))?void 0:n[0]);try{v.default.show({type:"info",text1:e("CM.noti"),text2:e("TK.viewFile")});var a=new FormData;if(i&&"ewriter"===r.documentType){var o=yield Le(r.notionId,r.id,null==r?void 0:r.name);a.append("file",o);var l=yield ye.viewFile(a,me);return void(1==(null==l?void 0:l.code)?(J(!0),ee(l.message)):v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.error")}))}var u=r.name;u=i?r.keyName:r.name;var s=r.bucketName;if(!r.bucketName)if(r.name.includes("minio")){var c,d,f,p=null==r||null==(c=r.name)||null==(d=c.split("https://"))?void 0:d[1],m=null==p?void 0:p.split("/");u=`/${null==m||null==(f=m.slice(2))?void 0:f.join("/")}`,s=null==m?void 0:m[1]}else if(r.name.includes("s3-hfx03")){var h,y,g=null==r||null==(h=r.name)||null==(y=h.split("https://"))?void 0:y[1],x=null==g?void 0:g.split(".s3-hfx03.fptcloud.com:443");u=null==x?void 0:x[1],s=null==x?void 0:x[0]}a.append("keyName",u),a.append("bucketName",s),a.append("beanName",r.beanName);var S=yield ye.viewFile(a,me);1==(null==S?void 0:S.code)?(J(!0),ee(S.message)):v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.error")})}catch(t){v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.error")})}})),function(){return Se.apply(this,arguments)}),ze=(we=(0,r.default)((function*(t){try{yield ye.deleteFileRelative(t,me),yield _e(i),v.default.show({type:"success",text1:e("CM.noti"),text2:e("TK.deleteFileSuccess")})}catch(t){console.log(t),v.default.show({type:"error",text1:e("CM.noti"),text2:e("TK.deleteFileErr")})}})),function(e){return we.apply(this,arguments)}),Re=(je=(0,r.default)((function*(){try{var t=yield p.CommonUtils.handleGetFile();if(!t)return;var n=new FormData;n.append("uploadFile",t),n.append("attachmentJson",JSON.stringify({ticketId:null==pe?void 0:pe.id})),v.default.show({type:"info",text1:e("CM.noti"),text2:e("NT.notification.downloadingPleaseWait")}),(yield ye.uploadFileRelative(n,me))?(yield _e(i),v.default.show({type:"success",text1:e("CM.noti"),text2:e("TK.uploadFileSuccess")})):v.default.show({type:"error",text1:e("CM.noti"),text2:e("TK.uploadFileErr")})}catch(t){console.log(t),v.default.show({type:"error",text1:e("CM.noti"),text2:e("TK.uploadFileErr")})}})),function(){return je.apply(this,arguments)}),Ve=(be=(0,r.default)((function*(e,t){var n=e.fileName;n=t?e.keyName.replace("/","_"):e.fileName;var i=`${"android"===l.Platform.OS?j.default.DownloadDirectoryPath:j.default.DocumentDirectoryPath}/${(new Date).getTime()}_${n}`;t?yield Be(i,e.id,null==e?void 0:e.notionId):e.bucketName?yield Ne(i,e.id):yield Ae(i,e.name)})),function(e,t){return be.apply(this,arguments)}),Ae=(De=(0,r.default)((function*(t,n){var i={fromUrl:n,toFile:t,background:!0,begin:function(e){},progress:function(e){e.bytesWritten,e.contentLength},connectionTimeout:5e3};try{200===(yield j.default.downloadFile(i).promise).statusCode?"ios"===l.Platform.OS&&(yield l.Share.share({url:t})).action==l.Share.dismissedAction?v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")}):v.default.show({type:"success",text1:e("CM.noti"),text2:e("CM.downloadSuccess")}):v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")})}catch(t){v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")})}})),function(e,t){return De.apply(this,arguments)}),Ne=(Te=(0,r.default)((function*(t,n){try{v.default.show({type:"info",text1:e("CM.noti"),text2:e("CM.pleaseWait")});var i=yield b.default.fetch("GET",`${(0,C.getConfig)().BASE_URL}/services/erequest/api/attachments/download-file?attachmentId=${n}`).then((function(e){return 200==e.info().status?e.base64():null})).catch((function(){return null}));if(i){try{yield j.default.writeFile(t,i,"base64")}catch(e){console.log(e)}"ios"===l.Platform.OS&&(yield l.Share.share({url:t})).action==l.Share.dismissedAction?v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")}):v.default.show({type:"success",text1:e("CM.noti"),text2:e("CM.downloadSuccess")})}else v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")})}catch(t){v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")})}})),function(e,t){return Te.apply(this,arguments)}),Le=(Ce=(0,r.default)((function*(e,t,n){try{var i,r=null==n||null==(i=n.split("."))?void 0:i[1],a=`${b.default.fs.dirs.DocumentDir}/${(new Date).getTime().toString()}.${r}`,o=yield b.default.config({path:a}).fetch("GET",`${(0,C.getConfig)().BASE_URL}/services/erequest/api/tickets/${pe.id}/userTaskId/${e}/fileId/${t}`).then((function(e){return 200==e.info().status?e.path():null})).catch((function(){return null}));return{uri:"ios"===l.Platform.OS?o:"file://"+o,name:`${(new Date).getTime().toString()}.${r}`,type:p.CommonUtils.getMimeType(n)}}catch(e){console.log(e)}})),function(e,t,n){return Ce.apply(this,arguments)}),Be=(Ie=(0,r.default)((function*(t,n,i){try{var r=yield b.default.fetch("GET",`${(0,C.getConfig)().BASE_URL}/services/erequest/api/tickets/${pe.id}/userTaskId/${i}/fileId/${n}/content`).then((function(e){return 200==e.info().status?e.base64():null})).catch((function(){return null}));r?(yield j.default.writeFile(t,r,"base64"),"ios"===l.Platform.OS&&(yield l.Share.share({url:t})).action==l.Share.dismissedAction?v.default.show({type:"error",text1:e("CM.noti"),text2:e("CM.downloadFail")}):v.default.show({type:"success",text1:e("CM.noti"),text2:e("CM.downloadSuccess")})):v.default.show({type:"error",text2:e("CM.downloadFail")})}catch(t){v.default.show({type:"error",text2:e("CM.downloadFail")})}})),function(e,t,n){return Ie.apply(this,arguments)}),We=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return(0,k.jsxs)(l.View,{style:u.default.ctnAction,children:[(0,k.jsx)(l.TouchableOpacity,{onPress:function(){return Ee(e,t)},hitSlop:(0,c.SizeDP)(15),children:(0,k.jsx)(d.IconView,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)})}),(0,k.jsx)(l.TouchableOpacity,{onPress:function(){return Ve(t,e)},hitSlop:(0,c.SizeDP)(15),children:(0,k.jsx)(d.IconDownload,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)})}),!e&&t.allowDeleted&&(null==pe?void 0:pe.ticketStatus)!==x.Status.voided&&(null==pe?void 0:pe.ticketStatus)!==x.Status.rejected&&(0,k.jsx)(l.TouchableOpacity,{onPress:function(){var e;return ze(null==t||null==(e=t.id)?void 0:e.toString())},hitSlop:(0,c.SizeDP)(15),children:(0,k.jsx)(d.IconTrash,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)})})]})};return(0,k.jsxs)(s.SafeAreaView,{style:{flex:1},edges:[],children:[(0,k.jsxs)(l.ScrollView,{showsVerticalScrollIndicator:!1,children:[(0,k.jsxs)(l.View,{style:u.default.ctnForm,children:[(0,k.jsxs)(l.View,{style:u.default.ctnView,children:[(0,k.jsx)(m.default,{style:u.default.txtTitle,children:e("TK.docRelative")}),he===x.Status.processing&&(0,k.jsx)(l.TouchableOpacity,{onPress:Re,hitSlop:(0,c.SizeDP)(15),children:(0,k.jsx)(d.IconUpload,{width:(0,c.SizeDP)(24),height:(0,c.SizeDP)(24)})})]}),(0,k.jsx)(f.default,{stickyLeft:!0,stickyColumnLeftIndex:1,tableHeaders:["STT","keyName","notionName","createdBy","documentSize","type","lastModifiedDate","action"],tableData:H}),F>0&&(0,k.jsx)(h.default,{collectionSize:F,currentPage:i,pageSize:3,onPageChange:function(e){return _(e)}})]}),(0,k.jsxs)(l.View,{style:u.default.ctnForm,children:[(0,k.jsx)(m.default,{style:u.default.txtTitle,children:e("TK.templateInfo")}),(0,k.jsx)(f.default,{stickyLeft:!0,stickyColumnLeftIndex:1,tableHeaders:["STT","keyName","notionName","createdBy","documentSize","type","lastModifiedDate","action"],tableData:V})]}),(0,k.jsxs)(l.View,{style:u.default.ctnForm,children:[(0,k.jsx)(m.default,{style:u.default.txtTitle,children:e("TK.templateForm")}),(0,k.jsx)(f.default,{stickyLeft:!1,tableHeaders:["STT","keyName","createdBy","notionName"],tableData:B})]})]}),(0,k.jsx)(D.default,{isVisible:q,children:(0,k.jsx)(T.default,{url:Z,onClose:function(){return J(!1)},name:de})}),(0,k.jsx)(D.default,{isVisible:ie,children:(0,k.jsx)(I.default,{onClose:function(){return re(!1)},isOnlyView:!0,readOnly:!0,versionId:null==le?void 0:le.versionId,data:{_userTaskId:null==le?void 0:le.userTaskId,_ticketId:null==pe?void 0:pe.id,formId:null==le?void 0:le.formId},nameHeader:null==le?void 0:le.formName})})]})}},76456:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880),a=n(41995);t.default=i.StyleSheet.create({container:{justifyContent:"center",alignItems:"center"},txtTitle:{fontSize:r.FontSize.FontBase,fontFamily:r.Font.InterSemiBold600,color:r.Color.colorText},ctnForm:{marginLeft:(0,a.SizeDP)(8),marginTop:(0,a.SizeDP)(8),rowGap:(0,a.SizeDP)(15)},ctnAction:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:(0,a.SizeDP)(10)},txtText:{fontSize:r.FontSize.FontTiny,fontFamily:r.Font.InterRegular400,color:"#366ae2"},ctnView:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginRight:(0,a.SizeDP)(12)}})},27163:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),l=i(n(93238)),u=n(12638),s=n(7005),c=n(20880),d=n(88e3),f=n(40851),p=n(87841),m=i(n(24541)),h=n(32207),y=n(2884),v=n(75463),g=i(n(98327)),x=n(14740),S=n(47671);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}t.default=function(){var e,t=(0,y.useTranslation)().t,n=(0,x.useRoute)(),i=(null==n||null==(e=n.params)?void 0:e.ticketId)||"",w=(0,o.useRef)(null),j=(0,u.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,b=(0,u.useAppSelector)((function(e){return e.common})).accessToken,D=(0,o.useState)(),T=(0,a.default)(D,2),C=T[0],I=T[1],P=(0,o.useState)([]),k=(0,a.default)(P,2),_=k[0],M=k[1],O=(0,o.useState)(),F=(0,a.default)(O,2),E=F[0],z=F[1],R=(0,o.useState)(),V=(0,a.default)(R,2),A=V[0],N=V[1],L=(0,o.useState)(!1),B=(0,a.default)(L,2),W=B[0],U=B[1],$=(0,f.useReviewServices)();(0,o.useEffect)((function(){K(null)}),[]);var H,Y,K=(H=(0,r.default)((function*(e){var n={ticketId:(null==j?void 0:j.id)||i,userTaskId:null,version:e};try{var r=yield $.getFormVersionByTicketAndUserTaskId(n,b);if(r&&null===e){var a=Array.from(Array(Math.ceil(r.versionUserTask))).map((function(e,t){return t+1})).map((function(e,n){return{id:e,key:`${t("CM.version")} `+e,value:`${t("CM.version")} `+e}}));M(a),N(a[a.length-1])}return I(r),r}catch(e){console.log("error getSubFromData",e)}})),function(e){return H.apply(this,arguments)}),G=(Y=(0,r.default)((function*(e){U(!0);var t=yield K(e);if(t){var n=null==t?void 0:t.formData,i=`window.postMessage('${JSON.stringify({type:"postFormEdit",isReadonly:!0,data:n}).replace(/\\/g,"\\\\").replace(/'/g,"\\'")}', '*');`;setTimeout((function(){var e;null==w||null==(e=w.current)||e.injectJavaScript(i),U(!1)}),800)}})),function(e){return Y.apply(this,arguments)});return(0,S.jsxs)(s.SafeAreaView,{style:{flex:1},edges:[],children:[_.length>0&&(0,S.jsxs)(p.View,{style:g.default.selectForm,children:[(0,S.jsx)(m.default,{children:t("CM.selectVersion")}),(0,S.jsx)(v.OverflowMenuCM,{selectedIndex:E,listData:_,setSelectedIndex:function(e){var t;e&&(z(e),N(_[null==e?void 0:e.row]),G(null==(t=_[null==e?void 0:e.row])?void 0:t.id))},selectedTitle:(0,S.jsxs)(p.View,{style:g.default.version,children:[(0,S.jsx)(m.default,{children:null==A?void 0:A.value}),W&&(0,S.jsx)(h.Spinner,{size:"small"})]})})]}),(0,S.jsx)(l.default,{nestedScrollEnabled:!0,ref:w,startInLoadingState:!0,onMessage:function(e){var t=JSON.parse(e.nativeEvent.data);"e-from"===(null==t?void 0:t.result)&&G(null)},javaScriptEnabled:!0,injectedJavaScript:c.String.SCRIPT_SCALE_WEBVIEW,allowsInlineMediaPlayback:!0,mediaPlaybackRequiresUserAction:!1,webviewDebuggingEnabled:!0,source:{uri:(0,d.getConfig)().BASE_URL_FORM+(null==C?void 0:C.version)}})]})}},98327:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841);t.default=i.StyleSheet.create({version:{borderWidth:1,borderColor:"rgba(0, 53, 128, .35)",borderRadius:8,paddingHorizontal:8,paddingVertical:5,flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:4},selectForm:{padding:16,alignItems:"center",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:16}})},96237:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HISTORY_ACTION=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),u=n(87841),s=i(n(24997)),c=i(n(24541)),d=n(12638),f=n(35708),p=n(7005),m=n(41995),h=n(2884),y=n(2543),v=n(11671),g=n(32207),x=n(47671);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}var w=t.HISTORY_ACTION={CREATE:"add",PUBLIC:"public",UNPUBLIC:"unpublic",ACTIVE:"active",INACTIVE:"inactive",UPDATE:"edit",DELETE:"delete",ASSIGN:"assign",REQUEST_APP:"request_approve",COMMENT:"comment",REJECT:"reject_approve",REJECT_CONSIDER:"reject_consider",AUTHORITY:"authority",REQUEST_UPDATE:"request_update",SIGNING:"signing",UPLOAD:"upload",CANCEL:"cancel",EDIT_COMMENT:"edit_comment",REJECT_APPROVE:"reject_approve",REVIEW_CONDUCT:"review_conduct"};t.default=function(){var e=(0,h.useTranslation)().t,t=(0,d.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,n=(0,l.useState)(0),i=(0,o.default)(n,2),S=i[0],j=i[1],b=(0,l.useState)(0),D=(0,o.default)(b,2),T=D[0],C=D[1],I=(0,l.useState)(!1),P=(0,o.default)(I,2),k=P[0],_=P[1],M=(0,l.useState)([]),O=(0,o.default)(M,2),F=O[0],E=O[1],z=(0,d.useAppSelector)((function(e){return e.common})).accessToken,R=(0,v.useTicketServices)();(0,l.useEffect)((function(){(0,a.default)((function*(){yield A(S)}))()}),[S]);var V,A=(V=(0,a.default)((function*(e){try{var n=yield R.getTicketHistories(e,t.id,z);E(0===e?null==n?void 0:n.data:[].concat((0,r.default)(F),(0,r.default)(null==n?void 0:n.data))),C(n.totalRecords)}catch(e){console.error(e)}})),function(e){return V.apply(this,arguments)}),N=function(e,t,n){return(0,x.jsx)(u.View,{style:[{backgroundColor:e},s.default.ctnViewIcon],children:(0,x.jsx)(g.Icon,{fill:n,name:t,width:15,height:15})})},L=function(e){switch(e){case w.CREATE:return N("#F2ECFD","plus","#6F2CED");case w.REQUEST_APP:return N("#E8F7EF","file","#39AC6D");case w.COMMENT:return N("#f3f5f8","message-circle","");case w.REJECT:return N("#FCEEED","close","#E14337");case w.REJECT_CONSIDER:return N("#FCEEED","minus","#E14337");case w.AUTHORITY:return N("#F2ECFD","swap","#6F2CED");case w.REQUEST_UPDATE:return N("#FFF3EB","arrow-circle-left","#FC6B03");case w.SIGNING:return N("#E8F7EF","edit","#39AC6D");case w.UPLOAD:return N("#FFF3EB","cloud-upload-outline","#FC6B03");case w.CANCEL:return N("#FCEEED","minus","#E14337");case w.EDIT_COMMENT:return N("#f3f5f8","edit-2-outline","");case w.REJECT_APPROVE:return N("#FCEEED","close","#E14337");case w.REVIEW_CONDUCT:return N("#E8F7EF","checkmark","#39AC6D");default:return(0,x.jsx)(u.View,{style:s.default.ctnViewIcon})}};return(0,x.jsx)(p.SafeAreaView,{style:s.default.container,edges:["bottom"],children:F.length>0&&(0,x.jsx)(u.View,{children:(0,x.jsx)(u.FlatList,{keyExtractor:function(e){return e.id},refreshing:k,onRefresh:function(){0!==S&&_(!0),j(0)},data:F,onEndReached:function(){F.length<T&&j(S+1)},onEndReachedThreshold:.5,renderItem:function(t){var n=t.item,i=t.index;return(0,x.jsx)(x.Fragment,{children:!(0,y.isNull)(n.createdBy)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(u.View,{style:s.default.ctnItem,children:[L(n.action),(0,x.jsxs)(u.View,{style:{rowGap:(0,m.SizeDP)(4)},children:[(0,x.jsx)(c.default,{style:s.default.title,children:e(`TK.transaction-history.action.${n.action}`)}),(0,x.jsx)(u.View,{style:s.default.ctnDes,children:(0,x.jsx)(c.default,{style:s.default.Des,children:`${f.DateUtils.convertDateToDDMMYYYY_H_M(n.createdDate)} ${e("TK.by")} ${n.createdBy}`})})]})]}),F.length-1!==i&&(0,x.jsx)(u.View,{style:s.default.tabHoz})]})})}})})})}},24997:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({container:{flex:1},ctnItem:{paddingHorizontal:(0,r.SizeDP)(16),paddingVertical:(0,r.SizeDP)(8),flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:(0,r.SizeDP)(16)},ctnDes:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:(0,r.SizeDP)(10)},ctnAction:{width:(0,r.SizeDP)(24),height:(0,r.SizeDP)(24),backgroundColor:"blue",borderRadius:(0,r.SizeDP)(12),justifyContent:"center",alignItems:"center"},tabHoz:{width:(0,r.SizeDP)(2),height:(0,r.SizeDP)(26),backgroundColor:"rgba(0, 53, 128, 0.15)",marginLeft:(0,r.SizeDP)(28)},title:{fontSize:r.default.FontSmall,fontFamily:a.Font.InterSemiBold600,color:a.Color.colorText},Des:{fontSize:r.default.FontTiny,fontFamily:a.Font.InterRegular400,color:a.Color.Text07},ctnViewIcon:{width:24,height:24,borderRadius:12,alignItems:"center",justifyContent:"center"}})},32251:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),l=n(87841),u=n(12638),s=i(n(75672)),c=n(35708),d=n(2884),f=n(32207),p=i(n(24541)),m=i(n(19767)),h=n(60596),y=n(11671),v=n(47671);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}t.default=function(){var e=(0,d.useTranslation)().t,t=(0,o.useState)(),n=(0,a.default)(t,2),i=n[0],g=n[1],x=(0,o.useState)(0),S=(0,a.default)(x,2),w=S[0],j=S[1],b=(0,u.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,D=(0,y.useTicketServices)(),T=(0,l.useWindowDimensions)(),C=T.width;T.height;(0,o.useEffect)((function(){P()}),[]);var I,P=(I=(0,r.default)((function*(){var e=yield D.getSla(b.id);e&&_(e)})),function(){return I.apply(this,arguments)}),k=function(e){switch(M(e)){case h.Status.processing:return{color:"#7F43EF",bgColor:"#F2ECFD"};case h.Status.accepted:case h.Status.completed:case"onTime":return{color:"#39AC6D",bgColor:"#E8F7EF"};case h.Status.voided:case h.Status.rejected:case"late":return{color:"#F05959",bgColor:"rgba(251, 213, 213, 1)"};default:return{}}},_=function(t){var n=t.map((function(t,n){var i,r,a;return{STT:String(n+1),notionName:t.notionName||"---",createdBy:t.owner,status:(0,v.jsx)(l.View,{style:{backgroundColor:null==(i=k(t))?void 0:i.bgColor,borderRadius:4,paddingHorizontal:4,paddingVertical:2},children:(0,v.jsx)(p.default,{style:{color:null==(r=k(t))?void 0:r.color,fontSize:12},children:e(`TK.${M(t)}`)})}),actualStartSate:t.estimateDate?c.DateUtils.convertDateToDDMMYYYY_H_M(t.estimateDate):"---",eventStartDate:t.startDate?c.DateUtils.convertDateToDDMMYYYY_H_M(t.startDate):"---",executionTime:t.totalTime?t.totalTime:"---",sla:(0,v.jsx)(p.default,{style:{color:null==(a=k(t))?void 0:a.color,fontSize:12},children:E(null==t?void 0:t.estimateDate,null==t?void 0:t.startDate,null==t?void 0:t.finishDate)})}}));g(n)},M=function(e){return b.ticketStatus===h.Status.voided&&e.status===h.Status.processing?h.Status.voided:"accepted"!=e.status&&"rejected"==b.status?"rejected":"accepted"==e.status&&e.delayTime?"late":"accepted"==e.status&&e.estimateDate?"onTime":e.status},O=function(){if(new Date(b.finishDate)<new Date(b.estimateDate)){var e=F(b.finishDate,b.createdDate)/F(b.estimateDate,b.createdDate);return{positionOfEstimateDate:{top:-20,right:.1*C/2-10},positionOfPopupEstimateDate:{top:-58,right:.1*C/2-10},positionOfFinishDate:{bottom:-20,right:.95*C-.1*C/2-e*C*.85-10},positionOfPopupFinishDate:{bottom:-58,right:e<.6?.95*C-.1*C/2-e*C*.85-10-w+30:.95*C-.1*C/2-e*C*.85-10},width:e*C*.85,bgColor:"completed"===b.ticketStatus?"#d9f2e4":"#40bf79",typeOfArrow:{estimateDate:"arrow-down",finishDate:"arrow-up"}}}var t=F(b.estimateDate,b.createdDate)/F(b.finishDate,b.createdDate);return{positionOfEstimateDate:{bottom:-20,right:(null==b?void 0:b.ticketStatus)!==h.Status.voided?.95*C-.1*C/2-t*C*.85-10:C-.95*C-10},positionOfPopupEstimateDate:{bottom:-58,right:(null==b?void 0:b.ticketStatus)!==h.Status.voided?t<.6?.95*C-.1*C/2-t*C*.85-10-w+30:.95*C-.1*C/2-t*C*.85-10:C-.95*C-10},positionOfFinishDate:{top:-20,right:.1*C/2-10},positionOfPopupFinishDate:{top:-58,right:.1*C/2-10},width:t*C*.85,bgColor:"completed"===b.ticketStatus?"#d9f2e4":"#40bf79",typeOfArrow:{estimateDate:"arrow-up",finishDate:"arrow-down"}}},F=function(e,t){var n=0;if(e&&t){var i=new Date(e);n=new Date(t).getTime()-i.getTime()}return n},E=function(e,t,n){var i,r=F(t,n),a=F(t,e);i=Math.abs(a-r);var o=Math.floor(i/864e5),l=Math.floor((i-24*o*60*60*1e3)/36e5),u=Math.floor((i-24*o*60*60*1e3-60*l*60*1e3)/6e4),s=Math.floor((i-24*o*60*60*1e3-60*l*60*1e3-60*u*1e3)/1e3);return i?o+"d"+l%60+"h"+u%60+"m"+s+"s":"---"};return(0,v.jsx)(l.View,{style:{flex:1},children:(0,v.jsx)(l.ScrollView,{children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.View,{style:m.default.ctnSLA,children:(0,v.jsxs)(l.View,{style:[{width:.95*C},m.default.ctnBody],children:[(0,v.jsx)(l.TouchableOpacity,{style:{position:"absolute",top:-20,left:.1*C/2-10,zIndex:1},children:(0,v.jsx)(f.Icon,{width:20,height:20,name:"arrow-down"})}),(0,v.jsxs)(l.View,{style:[{top:-58,left:.1*C/2-20},m.default.ctnDate],children:[(0,v.jsxs)(p.default,{style:m.default.size,children:[e("SR.created_at"),": "]}),(0,v.jsx)(p.default,{style:m.default.size,children:c.DateUtils.convertDateToDDMMYYYY_H_M(b.createdDate)})]}),(0,v.jsx)(l.TouchableOpacity,{style:[{position:"absolute",zIndex:1},O().positionOfEstimateDate],children:(0,v.jsx)(f.Icon,{width:20,height:20,name:O().typeOfArrow.estimateDate})}),(0,v.jsxs)(l.View,{style:[O().positionOfPopupEstimateDate,m.default.ctnDate],children:[(0,v.jsxs)(p.default,{style:m.default.size,children:[e("TK.estimateDate"),": "]}),(0,v.jsx)(p.default,{style:m.default.size,children:c.DateUtils.convertDateToDDMMYYYY_H_M(b.estimateDate)})]}),"completed"===b.ticketStatus&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.TouchableOpacity,{style:[{position:"absolute",zIndex:1},O().positionOfFinishDate],children:(0,v.jsx)(f.Icon,{width:20,height:20,name:O().typeOfArrow.finishDate})}),(0,v.jsxs)(l.View,{onLayout:function(e){j(e.nativeEvent.layout.width)},style:[O().positionOfPopupFinishDate,m.default.ctnDate],children:[(0,v.jsxs)(p.default,{style:m.default.size,children:[e("TK.finishDate"),": "]}),(0,v.jsx)(p.default,{style:m.default.size,children:c.DateUtils.convertDateToDDMMYYYY_H_M(b.finishDate)})]})]}),(0,v.jsx)(l.View,{style:m.default.line}),(0,v.jsx)(l.View,{style:{height:30,backgroundColor:"#40bf79",width:.85*C},children:(0,v.jsx)(l.View,{style:{height:30,backgroundColor:O().bgColor,width:O().width}})}),(0,v.jsx)(l.View,{style:m.default.line})]})}),(0,v.jsx)(f.Divider,{style:{marginVertical:10}}),(0,v.jsx)(s.default,{tableHeaders:["STT","notionName","createdBy","status","actualStartSate","eventStartDate","executionTime","sla"],tableData:i||[],stickyLeft:!0,stickyColumnLeftIndex:1})]})})})}},19767:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841);t.default=i.StyleSheet.create({container:{justifyContent:"center",alignItems:"center",backgroundColor:"#2c3e50"},line:{height:30,backgroundColor:"#fff",width:3},ctnSLA:{alignItems:"center",justifyContent:"center",marginTop:80,marginBottom:80},ctnBody:{height:30,backgroundColor:"#d9d9d9",borderRadius:8,alignItems:"center",justifyContent:"center",flexDirection:"row",position:"relative"},ctnDate:{position:"absolute",zIndex:1,borderRadius:8,borderWidth:1,borderColor:"#cfb9f9",paddingHorizontal:6,paddingVertical:8,backgroundColor:"#f2ecfd"},size:{fontSize:11}})},90487:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),l=n(87841),u=n(35708),s=n(12638),c=n(46317),d=n(41995),f=i(n(75672)),p=i(n(81924)),m=n(2884),h=n(11671),y=i(n(24541)),v=i(n(37899)),g=n(60596),x=i(n(97667)),S=n(47671);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}t.default=function(){var e=(0,m.useTranslation)().t,t=(0,o.useState)([]),n=(0,a.default)(t,2),i=n[0],w=n[1],j=(0,o.useState)(1),b=(0,a.default)(j,2),D=b[0],T=b[1],C=(0,s.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,I=(0,h.useTicketServices)(),P=(0,o.useState)(1),k=(0,a.default)(P,2),_=k[0],M=k[1],O=(0,s.useAppSelector)((function(e){return e.common})).accessToken;(0,o.useEffect)((function(){E(_)}),[_]);var F,E=(F=(0,r.default)((function*(e){try{var t=yield I.getTicketRelatives(C.id,e-1,8,O);V(t.content),T(t.totalElements)}catch(e){}})),function(e){return F.apply(this,arguments)}),z=function(e){switch(e){case g.Status.completed:return R(v.default.completed,v.default.completed01,g.Status.completed);case g.Status.draft:return R(v.default.draft,v.default.draft01,g.Status.draft);case g.Status.voided:return R(v.default.voided,v.default.voided01,g.Status.voided);case g.Status.rejected:return R(v.default.rejected,v.default.rejected01,g.Status.rejected);case g.Status.processing:return R(v.default.processing,v.default.processing01,g.Status.processing)}},R=function(t,n,i){return(0,S.jsx)(l.View,{style:[{backgroundColor:n},x.default.ctnContent],children:(0,S.jsx)(y.default,{style:{color:t},children:e(`TK.${i}`)})})},V=function(e){var t=e.map((function(e,t){return{STT:String(8*(_-1)+1+t),title:null==e?void 0:e.title,serviceName:e.serviceName,ticketStatus:z(e.ticketStatus),createdBy:null==e?void 0:e.createdBy,createdDate:u.DateUtils.convertDateToDDMMYYYY_H_M(e.createdDate),lastModifiedDate:u.DateUtils.convertDateToDDMMYYYY_H_M(e.lastModifiedDate)}}));w(t)};return(0,S.jsx)(l.View,{style:{flex:1},children:i.length>0?(0,S.jsx)(l.ScrollView,{children:(0,S.jsxs)(l.View,{style:{flex:1},children:[(0,S.jsx)(l.View,{style:{flex:1,paddingVertical:(0,d.SizeDP)(10),marginLeft:(0,d.SizeDP)(10)},children:(0,S.jsx)(f.default,{tableData:i,tableHeaders:["STT","title","serviceName","ticketStatus","createdBy","createdDate","lastModifiedDate"]})}),D>0&&(0,S.jsx)(p.default,{collectionSize:D,currentPage:_,pageSize:8,onPageChange:function(e){return M(e)}})]})}):(0,S.jsxs)(l.View,{style:{alignItems:"center",justifyContent:"center",flex:1},children:[(0,S.jsx)(c.IconEmpty,{width:(0,d.SizeDP)(200),height:(0,d.SizeDP)(150)}),(0,S.jsx)(y.default,{children:e("CM.emptyData")})]})})}},97667:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841);t.default=i.StyleSheet.create({ctnContent:{paddingHorizontal:8,paddingVertical:4,borderRadius:4,alignItems:"center",justifyContent:"center"}})},36913:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(85715)),a=n(21527),o=i(n(73639)),l=i(n(27163)),u=i(n(96237)),s=i(n(90487)),c=i(n(97433)),d=i(n(89076)),f=i(n(32251)),p=i(n(24541)),m=n(87841),h=n(41995),y=n(2884),v=n(47671);t.default=function(e){var t=e.selectTabBottom,n=e.userTaskId,i=e.recipientDetailsId,g=e.isRealoadWebview,x=e.notifyActionType,S=e.typeView,w=(0,a.useState)({key:"background",title:"Tá»•ng quan"}),j=(0,r.default)(w,2),b=j[0],D=j[1],T=(0,a.useRef)(null),C=(0,a.useState)({width:m.Dimensions.get("screen").width,height:m.Dimensions.get("screen").height}),I=(0,r.default)(C,2),P=I[0],k=I[1];(0,a.useEffect)((function(){var e=m.Dimensions.addEventListener("change",(function(e){var t=e.screen;k({width:t.width,height:t.height})}));return function(){return e.remove()}}),[]);var _=(0,y.useTranslation)().t,M=(0,a.useState)([{key:"background",title:"Tá»•ng quan"},{key:"flow",title:"ThÃ´ng tin giao dá»‹ch"},{key:"hsitoryTicket",title:"Lá»‹ch sá»­ giao dá»‹ch"},{key:"ticketRelative",title:"Giao dá»‹ch liÃªn quan"},{key:"sla",title:"ThÃ´ng tin SLA"},{key:"document",title:"TÃ i liá»‡u Ä‘Ã­nh kÃ¨m"}]),O=(0,r.default)(M,1)[0],F=function(e){var t,n=Math.floor(e);null==T||null==(t=T.current)||t.scrollToIndex({animated:!0,index:""+n,viewOffset:P.width/3})};return(0,v.jsxs)(m.View,{style:{flex:1},children:[(0,v.jsx)(m.View,{children:(0,v.jsx)(m.FlatList,{ref:T,horizontal:!0,data:O,keyExtractor:function(e,t){return String(e.key)},showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,initialScrollIndex:0,renderItem:function(e){var t=e.item,n=e.index;return(0,v.jsx)(m.TouchableOpacity,{style:[c.default.ctnMainTab,b.key===t.key&&c.default.activeTab],onPress:function(){D(t),F(n)},children:(0,v.jsx)(p.default,{style:[c.default.tabBar,b.key===t.key&&c.default.colorActive],children:_(`TK.${t.key}`)})})}})}),(0,v.jsx)(m.View,{style:{height:(0,h.SizeDP)(6),backgroundColor:"#F8FAFE"}}),(0,v.jsx)(m.View,{style:{flex:1},children:function(e){switch(e.key){case"background":return(0,v.jsx)(o.default,{userTaskId:n,recipientDetailsId:i,selectTabBottom:t,isRealoadWebview:g,notifyActionType:x,typeView:S});case"flow":return(0,v.jsx)(l.default,{});case"document":return(0,v.jsx)(d.default,{});case"hsitoryTicket":return(0,v.jsx)(u.default,{});case"ticketRelative":return(0,v.jsx)(s.default,{});case"sla":return(0,v.jsx)(f.default,{});default:return(0,v.jsx)(m.View,{})}}(b)})]})}},97433:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880),a=n(41995);t.default=i.StyleSheet.create({tabBar:{fontSize:r.FontSize.FontSmall,fontFamily:r.Font.InterRegular400,textAlign:"center",lineHeight:(0,a.SizeDP)(16)},ctnMainTab:{paddingHorizontal:(0,a.SizeDP)(16),paddingVertical:(0,a.SizeDP)(12)},activeTab:{borderBottomWidth:(0,a.SizeDP)(4),borderBottomColor:r.Color.BgPrimary},colorActive:{color:r.Color.BgPrimary}})},74821:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(7005),a=i(n(93238)),o=n(12638),l=n(20880),u=n(14740),s=n(88e3),c=n(47671);t.default=function(){var e,t,n,i,d,f,p=(0,u.useRoute)(),m=null!=(e=null==p||null==(t=p.params)?void 0:t.selectTabBottom)?e:1,h=null!=(n=null==p||null==(i=p.params)?void 0:i.dataTicket)?n:{},y=(0,o.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,v=(0,o.useAppSelector)((function(e){return e.common})).accessToken;return(0,c.jsx)(r.SafeAreaView,{edges:["bottom"],style:{flex:1,backgroundColor:"#fff"},children:(0,c.jsx)(a.default,{startInLoadingState:!0,injectedJavaScript:l.String.SCRIPT_SCALE_WEBVIEW,source:{uri:(0,s.getConfig)().BASE_URL_TICKET+(1===m?`${y.id}?_typeView=mine&access_token=${v}`:`${y.id}?_recipientDetailsId=${null==h?void 0:h.implementId}&_userTaskId=${null==h||null==(d=h.recipients)||null==(f=d[0])?void 0:f.id}&_typeView=required&access_token=${v}`)}})})}},35648:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(41132)),a=i(n(29293)),o=i(n(85715)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21527)),u=n(87841),s=n(2884),c=n(40851),d=i(n(66771)),f=i(n(6663)),p=n(32207),m=i(n(24541)),h=n(12638),y=n(47671);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}t.default=function(e){var t=e.onSelect,n=e.placeholder,i=void 0===n?"TK.select":n,v=(0,s.useTranslation)().t,g=(0,l.useState)(!1),x=(0,o.default)(g,2),S=x[0],w=x[1],j=(0,l.useState)(null),b=(0,o.default)(j,2),D=b[0],T=b[1],C=(0,l.useState)(""),I=(0,o.default)(C,2),P=I[0],k=I[1],_=(0,l.useState)([]),M=(0,o.default)(_,2),O=M[0],F=M[1],E=(0,l.useState)(0),z=(0,o.default)(E,2),R=z[0],V=z[1],A=(0,l.useState)(0),N=(0,o.default)(A,2),L=N[0],B=N[1],W=(0,l.useState)(!1),U=(0,o.default)(W,2),$=U[0],H=U[1],Y=(0,h.useAppSelector)((function(e){return e.account})).dataAccount,K=(0,d.default)(P,500),G=(0,c.useReviewServices)();(0,l.useEffect)((function(){J(0,K)}),[K]);var q,J=(q=(0,a.default)((function*(e,t){try{var n={page:e,size:20},i={advanced:!0,orgIn:"/1833/5390/5392/5943",q:t.trim().toLowerCase(),resource:"table_user"},a=yield G.getUserInfoModel(n,i);a&&(F(0===e?a.data.filter((function(e){return e.email!==Y.email})):[].concat((0,r.default)(O),(0,r.default)(a.data)).filter((function(e){return e.email!==Y.email}))),B(a.totalRecords))}catch(e){}finally{H(!1)}})),function(e,t){return q.apply(this,arguments)});return(0,y.jsxs)(u.View,{style:f.default.container,children:[(0,y.jsxs)(u.View,{style:f.default.selectContainer,children:[(0,y.jsx)(u.TouchableOpacity,{style:f.default.select,onPress:function(){w(!0),k("")},children:(0,y.jsx)(u.Text,{style:f.default.selectText,children:(null==D?void 0:D.email)||v(i)})}),D&&(0,y.jsx)(u.TouchableOpacity,{style:f.default.clearButton,onPress:function(){T(null),t(null)},children:(0,y.jsx)(p.Icon,{name:"close",width:20,height:20})})]}),(0,y.jsx)(u.Modal,{visible:S,animationType:"slide",transparent:!0,children:(0,y.jsx)(u.SafeAreaView,{style:f.default.modalContainer,children:(0,y.jsxs)(u.View,{style:f.default.modalContent,children:[(0,y.jsx)(u.TextInput,{style:f.default.searchInput,placeholder:v("CM.search"),value:P,onChangeText:k}),(0,y.jsx)(u.FlatList,{refreshing:$,onRefresh:function(){H(!0),V(0),J(0,K)},data:O,renderItem:function(e){var n=e.item;return(0,y.jsxs)(u.TouchableOpacity,{style:f.default.item,onPress:function(){return function(e){T(e),t(e),w(!1)}(n)},children:[(0,y.jsx)(u.Image,{width:32,height:32,borderRadius:16,source:{uri:n.imageUrl||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"}}),(0,y.jsxs)(u.View,{children:[(0,y.jsx)(m.default,{style:f.default.textname,children:n.personalName}),(0,y.jsx)(m.default,{style:f.default.textEmail,children:n.email})]})]})},keyExtractor:function(e){return e.email},onEndReached:function(){O.length<L&&(J(R+1,K),V(R+1))},onEndReachedThreshold:.5,initialNumToRender:20}),(0,y.jsx)(u.TouchableOpacity,{style:f.default.closeButton,onPress:function(){return w(!1)},children:(0,y.jsx)(u.Text,{style:f.default.closeButtonText,children:v("CM.close")})})]})})})]})}},6859:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(87841),l=i(n(43184)),u=n(2884),s=i(n(54813)),c=i(n(24541)),d=n(12638),f=i(n(94516)),p=i(n(35648)),m=n(11671),h=n(21527),y=i(n(6663)),v=i(n(77389)),g=n(47671);t.default=function(e){var t=e.onClose,n=e.userTaskId,i=e.recipientDetailsId,x=(0,u.useTranslation)().t,S=(0,h.useState)(null),w=(0,a.default)(S,2),j=w[0],b=w[1],D=(0,d.useAppSelector)((function(e){return e.account})).dataAccount,T=(0,d.useAppSelector)((function(e){return e.ticket})).dataTicketRedux,C=(0,m.useTicketServices)(),I=(0,h.useState)(),P=(0,a.default)(I,2),k=P[0],_=P[1];(0,h.useEffect)((function(){F()}),[]);var M,O,F=(M=(0,r.default)((function*(){var e=yield C.getSla(T.id);if(e){var t=e.find((function(e){return e.recipientId==n}));_(t)}})),function(){return M.apply(this,arguments)}),E=(O=(0,r.default)((function*(){var e={ticketId:T.id,recipientId:null,contactId:null,email:null==j?void 0:j.email,name:null==j?void 0:j.personalName,phone:null==j?void 0:j.phone,reason:"null"};(yield C.forwardActionUser(T.id,n,i,e))?(t(),v.default.show({type:"success",text1:x("CM.info"),text2:x("CM.forwardSuccessfully")})):v.default.show({type:"error",text1:x("CM.info"),text2:x("CM.forwardFail")})})),function(){return O.apply(this,arguments)});return(0,g.jsxs)(o.View,{style:{flex:1},children:[(0,g.jsx)(l.default,{style:{backgroundColor:"#fff"},titleStyle:{color:"#00204D"},fillIconBackLeft:"#00204DB2",contentStyle:{backgroundColor:"#fff"},title:x("CM.authority"),onPressIconLeft:t}),(0,g.jsxs)(o.View,{style:y.default.ctnBody,children:[(0,g.jsx)(s.default,{label:x("TK.nameJob"),value:null==k?void 0:k.notionName,onChangeText:function(){},disabled:!0}),(0,g.jsxs)(o.View,{style:y.default.group,children:[(0,g.jsx)(c.default,{style:y.default.textTitle,children:x("TK.userAction")}),(0,g.jsxs)(o.View,{style:y.default.ctnImage,children:[(0,g.jsx)(o.Image,{width:32,height:32,borderRadius:16,source:{uri:(null==D?void 0:D.imageUrl)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"}}),(0,g.jsxs)(o.View,{style:{flex:1},children:[(0,g.jsx)(c.default,{style:y.default.textname,children:`${D.firstName} ${D.lastName}`}),(0,g.jsx)(c.default,{style:y.default.textEmail,children:D.email})]})]})]}),(0,g.jsxs)(o.View,{style:y.default.group,children:[(0,g.jsxs)(c.default,{style:y.default.textTitle,children:[x("TK.selectUserAuthor")," ",(0,g.jsx)(c.default,{style:{color:"#e14337"},children:"*"})]}),(0,g.jsx)(p.default,{onSelect:function(e){b(e)}})]})]}),(0,g.jsxs)(o.View,{style:y.default.ctnFooter,children:[(0,g.jsx)(f.default,{style:{flex:1,backgroundColor:"#F2F5F8"},label:x("CM.labelCancel"),styleLabel:{color:"#00204DB2"},onPress:t}),(0,g.jsx)(f.default,{style:{flex:1},label:x("CM.confirm"),onPress:E})]})]})}},6663:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880);t.default=i.StyleSheet.create({ctnBody:{padding:10,flex:1},ctnFooter:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:8,paddingHorizontal:10},group:{rowGap:8,paddingVertical:8},textTitle:{fontSize:12,fontFamily:r.Font.InterMedium500,color:"#00204DF2"},ctnImage:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",columnGap:8,paddingHorizontal:16,paddingVertical:10,backgroundColor:"#e6eaf0",borderRadius:8},textname:{color:"#0b2b55",fontSize:14,fontFamily:r.Font.InterRegular400},textEmail:{color:"#465d7e",fontSize:12,fontFamily:r.Font.InterRegular400},container:{width:"100%"},selectContainer:{flexDirection:"row",alignItems:"center"},select:{flex:1,borderWidth:1,borderColor:"#ccc",borderRadius:8,padding:10,backgroundColor:"#fff"},selectText:{fontSize:14,fontFamily:r.Font.InterRegular400},clearButton:{marginLeft:10,padding:5,backgroundColor:"#f0f0f0",borderRadius:15,width:30,height:30,justifyContent:"center",alignItems:"center"},clearButtonText:{fontSize:16,color:"#333"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:"#fff",borderRadius:10,padding:20,width:"90%",maxHeight:"80%"},searchInput:{borderWidth:1,borderColor:"#ccc",borderRadius:5,padding:10,marginBottom:10},item:{padding:10,borderBottomWidth:1,borderBottomColor:"#eee",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",columnGap:10},closeButton:{marginTop:10,padding:10,backgroundColor:"#f0f0f0",borderRadius:5,alignItems:"center"},closeButtonText:{fontSize:14,color:"#333",fontFamily:r.Font.InterSemiBold600}})},7037:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ListAction=void 0;t.ListAction=[{title:"comments",description:"Description for Item",iconName:"message-circle",navigationName:"comments"},{title:"note",description:"Description for Item",iconName:"edit-2-outline",navigationName:"note"},{title:"authority",description:"Description for Item",iconName:"swap",navigationName:"authority"}]},19691:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(14740),l=n(87841),u=i(n(64455)),s=i(n(24541)),c=R(n(41995)),d=R(n(21527)),f=n(46317),p=i(n(84478)),m=i(n(36913)),h=n(20880),y=n(12638),v=n(97427),g=n(7005),x=(n(60596),n(2884)),S=n(32207),w=i(n(69290)),j=n(7037),b=n(72676),D=n(11595),T=n(45335),C=i(n(55087)),I=n(85653),P=n(11671),k=n(40851),_=i(n(76644)),M=i(n(6859)),O=i(n(23813)),F=i(n(24617)),E=n(47671);function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}t.default=function(){var e,t,n,i,z,R,V,A,N=(0,o.useNavigation)(),L=(0,o.useRoute)(),B=(0,x.useTranslation)().t,W=(0,y.useAppDispatch)(),U=null==L?void 0:L.params,$=U.dataTicketId,H=(U.email,U.status),Y=U.selectTabBottom,K=null!=(e=null==L||null==(t=L.params)?void 0:t.recipientDetailsId)?e:"",G=null!=(n=null==L||null==(i=L.params)?void 0:i.userTaskId)?n:"",q=null!=(z=null==L||null==(R=L.params)?void 0:R.typeView)?z:"view",J=null!=(V=null==L||null==(A=L.params)?void 0:A.notifyActionType)?V:"",Q=(0,d.useState)(!1),X=(0,a.default)(Q,2),Z=X[0],ee=X[1],te=(0,d.useState)(1===Y?b.dataListStatusTicket.find((function(e){return e.status===H})):D.dataListStatusTicketFollowNoti.find((function(e){return e.status===H}))),ne=(0,a.default)(te,2),ie=ne[0],re=ne[1],ae=(0,d.useState)(""),oe=(0,a.default)(ae,2),le=oe[0],ue=oe[1],se=(0,d.useState)(!1),ce=(0,a.default)(se,2),de=ce[0],fe=ce[1],pe=(0,d.useState)(!1),me=(0,a.default)(pe,2),he=me[0],ye=me[1],ve=(0,d.useState)(),ge=(0,a.default)(ve,2),xe=ge[0],Se=ge[1],we=(0,d.useState)(!1),je=(0,a.default)(we,2),be=je[0],De=je[1],Te=(0,o.useIsFocused)(),Ce=(0,y.useAppSelector)((function(e){return e.ticket})),Ie=Ce.dataTicketRedux,Pe=Ce.dataUserTicket,ke=Ce.dataOrgin,_e=(Ce.statusPartyRaw,(0,y.useAppSelector)((function(e){return e.account})).dataAccount),Me=(0,y.useAppSelector)((function(e){return e.common})).accessToken,Oe=(0,I.useOriginServices)(),Fe=(0,P.useTicketServices)(),Ee=(0,k.useReviewServices)(),ze=(0,l.useWindowDimensions)().width,Re=function(){De((function(e){return!e})),ee(!1)};(0,d.useEffect)((function(){(0,r.default)((function*(){yield Ne()}))()}),[Y]);var Ve,Ae,Ne=(Ve=(0,r.default)((function*(){try{var e,t,n,i,r,a,o,l=yield Promise.all([Fe.getTicketById($,Me),Ee.getStatusParty($,Me)]);if(!ie){var u=1===Y?b.dataListStatusTicket.find((function(e){var t;return e.status===(null==(t=l[0])?void 0:t.ticketStatus)})):D.dataListStatusTicketFollowNoti.find((function(e){var t;return e.status===(null==(t=l[0])?void 0:t.ticketStatus)}));re(u)}var s,c,d=null==(e=l[0])||null==(t=e.orgIn)?void 0:t.split("/")[(null==(n=l[0])||null==(i=n.orgIn)||null==(r=i.split("/"))?void 0:r.length)-1],f=yield Fe.getMultiLoginAccount([null==l||null==(a=l[0])?void 0:a.createdBy],Me);try{s=yield Oe.getOrigin(d,Me)}catch(e){}try{c=yield Fe.getImplementByModelerId(l[0].modelerId)}catch(e){}Se(null==(o=c)?void 0:o.data.filter((function(e){return e.userTaskId==G})).find((function(e){return e.email==_e.email}))),W(v.ticketActions.setDataTicket(l[0])),W(v.ticketActions.setDataUserTicket(f[0])),W(v.ticketActions.setDataOrgin(s)),W(v.ticketActions.setStatusPartyRaw(l[1])),"ticket_tag_comment"===J&&ue("comments")}catch(e){console.log(e)}})),function(){return Ve.apply(this,arguments)}),Le=function(){ee(!0)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(g.SafeAreaView,{style:{backgroundColor:"#fff",flex:1},children:[(0,E.jsx)(l.StatusBar,{barStyle:"dark-content",backgroundColor:h.Color.Transparent}),(0,E.jsx)(p.default,{onPressIconLeft:function(){N.navigate(h.NavigationName.BottomTabs)},contentStyle:{backgroundColor:"#fff"},title:null!=Ie&&Ie.title?null==Ie?void 0:Ie.title:"---",renderContentRight:function(){return(0,E.jsx)(l.View,{style:{alignItems:"center",flexDirection:"row"},children:(0,E.jsx)(S.TopNavigationAction,{hitSlop:15,onPress:Le,icon:(0,E.jsx)(S.Icon,{fill:"#00204D",name:"more-vertical"})})})}}),(0,E.jsx)(S.Divider,{}),(0,E.jsx)(l.View,{style:{flex:1},children:(null==Ie?void 0:Ie.id)===$&&(0,E.jsx)(m.default,{userTaskId:G,recipientDetailsId:K,selectTabBottom:Y,isRealoadWebview:he,notifyActionType:J,typeView:q})}),Te&&(0,E.jsx)(l.View,{children:(0,E.jsx)(T.Portal,{children:(0,E.jsx)(T.FAB.Group,{open:de,visible:!0,variant:"primary",style:{paddingRight:ze-100},fabStyle:u.default.fabStyle,icon:de?function(){return(0,E.jsx)(S.Icon,{fill:"#fff",name:"close-outline"})}:function(){return(0,E.jsx)(S.Icon,{fill:"#fff",name:"plus-outline"})},actions:function(e){if(1===Y||!e)return j.ListAction.filter((function(e){return"authority"!==e.navigationName})).map((function(e){return{icon:function(){return(0,E.jsx)(S.Icon,{fill:"#985FF4",name:e.iconName})},label:B(`CM.${e.title}`),labelStyle:u.default.iconStyle,onPress:function(){return ue(e.navigationName)}}}));var t=JSON.parse(null==e?void 0:e.authorizationType),n=j.ListAction;return(null==t?void 0:t.length)>0||(n=j.ListAction.filter((function(e){return"authority"!==e.navigationName}))),n.map((function(e){return{icon:function(){return(0,E.jsx)(S.Icon,{fill:"#985FF4",name:e.iconName})},label:B(`CM.${e.title}`),labelStyle:u.default.iconStyle,onPress:function(){return ue(e.navigationName)}}}))}(xe),onStateChange:function(){return fe(!de)},onPress:function(){}})})})]}),(0,E.jsx)(w.default,{isVisible:Z,onClose:function(){return ee(!1)},title:B("CM.info"),renderContent:(Ae=null==Ie?void 0:Ie.rate,(0,E.jsxs)(l.View,{style:{rowGap:10},children:[(0,E.jsxs)(l.View,{style:[u.default.columnCenter],children:[(0,E.jsxs)(l.View,{style:[u.default.columnSubCenter],children:[(0,E.jsx)(S.Icon,{fill:"#00204D",width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16),name:"person"}),(0,E.jsx)(s.default,{style:u.default.textTit,children:B("TK.staff")})]}),(0,E.jsxs)(l.View,{style:[{columnGap:10,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flex:1}],children:[(0,E.jsx)(l.Image,{width:(0,c.SizeDP)(24),height:(0,c.SizeDP)(24),borderRadius:(0,c.SizeDP)(12),source:{uri:null!=_e&&_e.imageUrl?null==_e?void 0:_e.imageUrl:"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"}}),(0,E.jsx)(s.default,{style:u.default.textDes,children:""+(null==Pe?void 0:Pe.personalName)})]})]}),(0,E.jsxs)(l.View,{style:[u.default.columnCenter],children:[(0,E.jsxs)(l.View,{style:[u.default.columnSubCenter],children:[(0,E.jsx)(f.IconMailFill,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)}),(0,E.jsx)(s.default,{style:u.default.textTit,children:B("CM.email")})]}),(0,E.jsx)(s.default,{style:u.default.textDes,children:null==Pe?void 0:Pe.email})]}),(0,E.jsxs)(l.View,{style:[u.default.columnCenter],children:[(0,E.jsxs)(l.View,{style:[u.default.columnSubCenter],children:[(0,E.jsx)(f.IconPeople,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)}),(0,E.jsx)(s.default,{style:u.default.textTit,children:B("CM.orgIn")})]}),(0,E.jsx)(s.default,{style:u.default.textDes,children:null==ke?void 0:ke.name})]}),(0,E.jsxs)(l.View,{style:[u.default.columnCenter],children:[(0,E.jsxs)(l.View,{style:[u.default.columnSubCenter],children:[(0,E.jsx)(S.Icon,{name:"bookmark",width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)}),(0,E.jsx)(s.default,{style:u.default.textTit,children:B("CM.status")})]}),(0,E.jsxs)(l.View,{style:[{flex:1,flexDirection:"row"}],children:[(0,E.jsx)(l.View,{style:{backgroundColor:null==ie?void 0:ie.bgColor,paddingHorizontal:5,paddingVertical:3,borderRadius:4},children:(0,E.jsx)(s.default,{style:[{color:null==ie?void 0:ie.color,textAlign:"center",fontSize:c.default.FontTinier,fontFamily:h.Font.InterMedium500}],children:B(`TK.${null==Ie?void 0:Ie.ticketStatus}`)})}),(0,E.jsx)(l.View,{style:{flex:1}})]})]}),"completed"==(null==Ie?void 0:Ie.ticketStatus)&&(0,E.jsxs)(l.View,{style:[u.default.columnCenter],children:[(0,E.jsxs)(l.View,{style:[u.default.columnSubCenter],children:[(0,E.jsx)(f.IconCheckmarkCircle,{fill:h.Color.gray,width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16)}),(0,E.jsx)(s.default,{style:u.default.textTit,children:B("TK.rate")})]}),(0,E.jsxs)(l.View,{style:{flex:1,flexDirection:"row"},children:[null==Ae||null==Ae?(0,E.jsx)(l.TouchableOpacity,{style:u.default.btnRate,onPress:function(){return Re()},children:(0,E.jsx)(s.default,{style:u.default.btnRate,children:B("TK.rate_now")})}):(0,E.jsx)(E.Fragment,{children:new Array(5).fill(1).map((function(e,t){return t>=Ae?(0,E.jsx)(f.IconStarOutline,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16),fill:"#D3D3D3"},t):(0,E.jsx)(f.IconStar,{width:(0,c.SizeDP)(16),height:(0,c.SizeDP)(16),fill:h.Color.yellow},t)}))}),(0,E.jsx)(l.View,{style:{flex:1}})]})]})]}))}),be&&(0,E.jsx)(O.default,{isVisible:be,toogleRateNow:Re}),(0,E.jsx)(_.default,{isVisible:"comments"===le,children:(0,E.jsx)(C.default,{onClose:function(){return ue("")}})}),(0,E.jsx)(_.default,{isVisible:"authority"===le,children:(0,E.jsx)(M.default,{userTaskId:G,recipientDetailsId:K,onClose:function(){ue(""),ye(!he)}})}),(0,E.jsx)(_.default,{isVisible:"note"===le,children:(0,E.jsx)(F.default,{onClose:function(){return ue("")}})})]})}},64455:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995)),a=n(20880);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnMain:{backgroundColor:a.Color.White},ctnBody:{backgroundColor:a.Color.White},ctnbodyDetail:{margin:(0,r.SizeDP)(16),position:"relative",backgroundColor:a.Color.White,borderRadius:(0,r.SizeDP)(16),padding:(0,r.SizeDP)(16),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:5,elevation:2},textTitle:{textAlign:"center",fontFamily:a.Font.InterSemiBold600,fontSize:r.default.FontBase,color:a.Color.Text},priority:{alignItems:"center",justifyContent:"center",paddingVertical:(0,r.SizeDP)(16)},priorityDetail:{borderRadius:(0,r.SizeDP)(16),paddingHorizontal:(0,r.SizeDP)(8),paddingVertical:(0,r.SizeDP)(4),backgroundColor:"#FCEEED"},priorityText:{fontFamily:a.Font.InterRegular400,fontSize:r.default.FontTiny},rowCenterStart:{flexDirection:"row",justifyContent:"center",alignItems:"flex-start",columnGap:(0,r.SizeDP)(10),marginTop:(0,r.SizeDP)(10),borderTopWidth:(0,r.SizeDP)(.5),borderTopColor:a.Color.borderColor,paddingTop:(0,r.SizeDP)(10)},columnCenter:{justifyContent:"space-around",alignItems:"center",gap:(0,r.SizeDP)(6),flexDirection:"row"},columnSubCenter:{justifyContent:"flex-start",alignItems:"center",gap:(0,r.SizeDP)(10),flexDirection:"row",flex:.5},textDes:{fontSize:r.default.FontTiny,fontFamily:a.Font.InterMedium500,color:a.Color.colorText,flex:1},ctnImage:{width:(0,r.SizeDP)(24),height:(0,r.SizeDP)(24),borderRadius:(0,r.SizeDP)(12),overflow:"hidden",backgroundColor:a.Color.BgPrimary},borderStyle:{height:"100%",width:(0,r.SizeDP)(1),backgroundColor:a.Color.borderColor},textTit:{fontFamily:a.Font.InterRegular400,fontSize:r.default.FontTinier,color:a.Color.Text07},ctnStatus:{borderRadius:(0,r.SizeDP)(4),paddingHorizontal:(0,r.SizeDP)(8),flex:1},fabStyle:{borderRadius:25,width:50,height:50,alignItems:"center",justifyContent:"center",backgroundColor:"#6F2CED"},iconStyle:{left:100,position:"absolute",top:-10,fontFamily:a.Font.InterMedium500},btnRate:{color:a.Color.White,backgroundColor:a.Color.rate,padding:(0,r.SizeDP)(6),borderRadius:6}})},5690:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountSettingService=t.useAccountInfoServices=void 0;var i=n(68568),r=n(94558),a=n(97300);t.useAccountInfoServices=function(){var e=(0,a.useFetchRequest)();return(0,i.createAccountInfoServices)(e)},t.useAccountSettingService=function(){var e=(0,a.useFetchRequest)();return(0,r.createAccountSettingsServices)(e)}},84093:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useReviewCollaboServices=void 0;var i=n(12387),r=n(97300);t.useReviewCollaboServices=function(){var e=(0,r.useFetchRequest)();return(0,i.createEcollaboServices)(e)}},31004:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useReviewEcontractServices=void 0;var i=n(47188),r=n(97300);t.useReviewEcontractServices=function(){var e=(0,r.useFetchRequest)();return(0,i.createReviewEcontractServices)(e)}},29756:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(14398),l=n(7005),u=i(n(34704)),s=n(87841),c=n(41995),d=n(46317),f=i(n(24541)),p=n(2884),m=n(21527),h=n(12638),y=n(97427),v=n(43790),g=n(37106),x=n(58526),S=n(35708),w=n(47671),j=(0,o.createBottomTabNavigator)(),b=function(e){var t=e.state,n=e.navigation,i=e.t,r=e.totalRecoders;return(0,w.jsx)(l.SafeAreaView,{edges:["bottom","left","right"],style:u.default.ctnSafeTabBottom,children:(0,w.jsx)(s.View,{style:u.default.ctnTabBottom,children:t.routes.map((function(e,a){var o="",l=t.index===a;return(0,w.jsxs)(s.TouchableOpacity,{accessibilityRole:"button",style:u.default.ctnItemTabBottom,accessibilityState:l?{selected:!0}:{},onPress:function(){var t=n.emit({type:"tabPress",target:e.key,canPreventDefault:!0});l||t.defaultPrevented||n.navigate(e.name,e.params)},children:[function(){switch(e.name){case x.TabName.Home:return o=i("CM.Home"),(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)(d.IconHomeSelect,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)}):(0,w.jsx)(d.IconHome,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)})});case x.TabName.MyTicket:return o=i("CM.MyTicket"),(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)(d.IconMyTicketSelect,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)}):(0,w.jsx)(d.IconMyTicket,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)})});case x.TabName.FollowTicket:return o=i("CM.FollowTicket"),(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)(d.IconFollowTicketSelect,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)}):(0,w.jsx)(d.IconFollowTicket,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)})});case x.TabName.Notification:return o=i("CM.Notification"),(0,w.jsxs)(s.View,{style:{position:"relative"},children:[r>0&&(0,w.jsx)(s.View,{style:{position:"absolute",backgroundColor:"#e14337",borderRadius:100,paddingHorizontal:4,paddingVertical:2,top:-5,right:r>100?-20:-12},children:(0,w.jsx)(f.default,{style:{fontSize:10,color:"#fff"},children:r<100?r:"99+"})}),l?(0,w.jsx)(d.IconNotiSelect,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)}):(0,w.jsx)(d.IconNoti,{width:(0,c.SizeDP)(23),height:(0,c.SizeDP)(20)})]})}}(),(0,w.jsx)(f.default,{style:l?u.default.txtLabelSelect:u.default.txtLabel,children:o})]},a)}))})})};t.default=function(){var e=(0,g.useZutandStore)().listMenuViewERequest,t=(0,p.useTranslation)().t,n=(0,h.useAppDispatch)(),i=(0,m.useState)(0),o=(0,a.default)(i,2),l=o[0],u=o[1],c=(0,v.useNotificationServices)(),d=(0,m.useState)([]),f=(0,a.default)(d,2),D=f[0],T=f[1];(0,m.useEffect)((function(){I()}),[]);var C,I=(C=(0,r.default)((function*(){var e=yield c.getNumberOfNotiUnread();e&&(n(y.commonActions.setTotalNumberNotiUnread(e)),u(e))})),function(){return C.apply(this,arguments)});return(0,m.useEffect)((function(){(null==e?void 0:e.length)>0&&T(x.listBottomTab.filter((function(t){return S.PermissionUtils.hasPermission(e,t.permission)})))}),[e]),(0,w.jsx)(w.Fragment,{children:D.length>0?(0,w.jsx)(j.Navigator,{tabBar:function(e){return(0,w.jsx)(b,Object.assign({},e,{t:t,totalRecoders:l}))},screenOptions:{headerShown:!1},children:null==D?void 0:D.map((function(e){return(0,w.jsx)(j.Screen,{name:e.name,component:e.component},e.name)}))}):(0,w.jsx)(s.View,{})})}},34704:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87841),r=n(20880),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(41995));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=i.StyleSheet.create({ctnSafeTabBottom:{backgroundColor:r.Color.White,shadowColor:"#002766",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3,elevation:5},ctnTabBottom:{flexDirection:"row",height:(0,a.SizeDP)(56),backgroundColor:r.Color.White,justifyContent:"space-around",paddingHorizontal:(0,a.SizeDP)(20)},ctnItemTabBottom:{gap:(0,a.SizeDP)(4),justifyContent:"center",alignItems:"center"},txtLabel:{fontSize:a.default.FontTiniest,fontFamily:r.Font.InterRegular400,color:"rgba(0, 32, 77, 0.7)",textAlign:"center"},txtLabelSelect:{fontSize:a.default.FontTiniest,fontFamily:r.Font.InterSemiBold600,color:"#6F2CED",textAlign:"center"},ctnLine:{height:(0,a.SizeDP)(3),width:(0,a.SizeDP)(70),backgroundColor:"#396961",position:"absolute",bottom:0}})},9968:function(e,t,n){var i=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(29293)),a=i(n(85715)),o=n(80380),l=i(n(80671)),u=i(n(29756)),s=i(n(91510)),c=i(n(77410)),d=i(n(37377)),f=i(n(77134)),p=i(n(82894)),m=i(n(74821)),h=i(n(92552)),y=i(n(77389)),v=n(45335),g=i(n(78935)),x=n(32207),S=Y(n(8333)),w=n(17604),j=i(n(54153)),b=i(n(62856)),D=i(n(19691)),T=i(n(81584)),C=i(n(94149)),I=n(12638),P=Y(n(21527)),k=i(n(166)),_=i(n(77664)),M=i(n(3614)),O=i(n(21758)),F=n(2884),E=n(14740),z=n(87841),R=n(20880),V=i(n(16571)),A=n(37106),N=n(60596),L=n(5690),B=n(11671),W=i(n(662)),U=i(n(57755)),$=n(47671);function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var K=(0,o.createNativeStackNavigator)();t.default=function(){var e,t,n=(0,L.useAccountSettingService)(),i=(0,F.useTranslation)().i18n,o=(0,P.useState)(!0),H=(0,a.default)(o,2),Y=H[0],G=H[1],q=(0,E.useRoute)(),J=(0,E.useNavigation)(),Q=(null==q||null==(e=q.params)?void 0:e.type)||"",X=((0,I.useAppDispatch)(),(0,I.useAppSelector)((function(e){return e.common})).language),Z=(0,A.useZutandStore)().setListMenuViewERequest,ee=((0,B.useTicketServices)(),t=(0,r.default)((function*(){var e=yield n.getMenuView(N.ServiceIdApp.EREQUEST);Z(e)})),function(){return t.apply(this,arguments)});(0,P.useEffect)((function(){ee(),i.changeLanguage(X),G(!1)}),[]),(0,P.useEffect)((function(){Q&&!Y&&te()}),[Q,Y]);var te=function(){if(null!=q&&q.params){var e=null==q?void 0:q.params;J.navigate(l.default.BottomTabNavigationTicketDetail,{dataTicketId:e.dataTicketId,status:e.status,selectTabBottom:Number(e.selectTabBottom),recipientDetailsId:e.recipientDetailsId,userTaskId:e.userTaskId,notifyActionType:e.notifyActionType})}};return Y?(0,$.jsx)(z.View,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,$.jsx)(z.ActivityIndicator,{size:"large",color:R.Color.BgPrimary})}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(x.IconRegistry,{icons:[w.EvaIconsPack]}),(0,$.jsx)(x.ApplicationProvider,Object.assign({customMapping:b.default},S,{theme:Object.assign({},S.light,j.default),children:(0,$.jsxs)(v.PaperProvider,{children:[(0,$.jsxs)(K.Navigator,{screenOptions:{headerShown:!1},children:[(0,$.jsx)(K.Screen,{name:l.default.BottomTabs,component:u.default}),(0,$.jsx)(K.Screen,{name:l.default.HomeScreen,component:s.default}),(0,$.jsx)(K.Screen,{name:l.default.ServiceDetail,component:c.default}),(0,$.jsx)(K.Screen,{name:l.default.CreateTicket,component:d.default}),(0,$.jsx)(K.Screen,{name:l.default.CreateTicketSuccess,component:f.default}),(0,$.jsx)(K.Screen,{name:l.default.AddTicketRelativeS,component:p.default}),(0,$.jsx)(K.Screen,{name:l.default.BottomTabNavigationTicketDetail,component:D.default}),(0,$.jsx)(K.Group,{screenOptions:{headerShown:!1,presentation:"modal"},children:(0,$.jsx)(K.Screen,{name:l.default.ViewFlowDetail,component:m.default})}),(0,$.jsx)(K.Screen,{name:l.default.ReviewFlow,component:h.default}),(0,$.jsx)(K.Screen,{name:l.default.ReviewEcontractFlow,component:_.default}),(0,$.jsx)(K.Screen,{name:l.default.ViewFileScreenEcontract,component:g.default}),(0,$.jsx)(K.Screen,{name:l.default.SearchTicketScreen,component:T.default}),(0,$.jsx)(K.Screen,{name:l.default.SearchHomeScreen,component:C.default}),(0,$.jsx)(K.Screen,{name:l.default.ReviewEIDScreen,component:k.default}),(0,$.jsx)(K.Screen,{name:l.default.CreateContractScreen,component:M.default}),(0,$.jsx)(K.Screen,{name:l.default.ReviewEcollaboFlow,component:O.default}),(0,$.jsx)(K.Screen,{name:l.default.HomeListService,component:W.default}),(0,$.jsx)(K.Screen,{name:l.default.NoAuthComponent,component:U.default})]}),(0,$.jsx)(y.default,{config:V.default})]})}))]})}}}]);//# sourceMappingURL=src_hooks_apiHooks_useReviewCollabo_tsx-src_navigation_Request_tsx.bundle.map?platform=android/* RCSSB */eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiZTlhNmNhZTQ2ZmZlNTU5MmI5NDA5YTQ5M2UwNjliMTIxZTcwNDNjYTQ3Njc0MGIyNzVmZmU2NDFmZGVlZjRkNyIsImlhdCI6MTc0OTYzNTcxMH0.bukyljLVRBgzhh3yc8Xe2gf_ltf5SmAappyPhiNJ2weoMJLOkEgg1DnuTsHfqh57lmWNKJ76FflSGKTo7iaGMY5cDu5Ss0Kqlrx7ilcV0SCe1Mat6OdNUaAw-qBciTrqoW9YL9L29frV7ZlJc46sZlsCvZJozuXNRL-7BnZzduBgmBcsz8kINWM8eN5afqvP52D1a4ubIdE-RTi83qeFObd-s0Oz1qfWxSx172GHIqkfs3GEx7aJKn0SFrMZue_pDYJL6I3JGgWvm8rpcnkMtLJxkN7PyJlyGENRF_oi-wsarQRJ7Z2Y37pvGYR5Ooe7KRtSZNHqIavtBsH1qM5VUOugVnFC6UpuyZ6FrJo6cpCSamV544fSIJoGCruBym9C4nlClluKJDY2cEj7P7V6t5IZ3MBEICL6vkLRpu1hzci7W4-H9bg01oy3E-fikKNA89lWA9X_n0P3MCIq3JA-USZZH5pvptWv3rnUgC_5kVAZ_u9A7z-WTXCQ69-QoYgpbZ6EvQLhn95tVbCnXUyjkQ2mBvl7ZmI4jzNYv_qMQTUN0Q5NyNXm-Ure2R8NiTt3TzYi8lB4l4BaF_m-xbC3tiQxAZAHTwKgDKN_arhKBRdA2RSnxRqitxMQAxAEk9uDTabUvdm22N_J5LWN0hij4HsSGRFgXkG84FXoBEc2acE                                                                                                                                                                                                                                                                                                                                                                                                                                         