(self.webpackChunkauth=self.webpackChunkauth||[]).push([["src_navigation_MainNavigation_tsx"],{71863:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.colors=void 0;t.colors={primary:"#62248F",text:"rgba(0, 32, 77, 0.7)",background:"#F9FAFB",colorTitie:"rgba(0, 32, 77, 0.90)",colorText:"#00204D",colorSubText:"rgba(0, 32, 77, 0.25)"}},95094:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(17297),i=r(n(75056)),a=r(n(58174));a.default.use(o.initReactI18next).init({compatibilityJSON:"v3",lng:"vi",fallbackLng:"en",debug:!0,resources:i.default});t.default=a.default},75056:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.languageResources=t.default=void 0;var o=r(n(56672)),i=r(n(5746)),a=t.languageResources={en:{translation:o.default},vi:{translation:i.default}};t.default=a},55136:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.loginApi=t.forgetPassword=void 0;var o,i,a=r(n(29293)),s=n(56333);t.loginApi=(o=(0,a.default)((function*(e){return yield fetch(s.BASE_URL_EACCOUNT+"auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})),function(e){return o.apply(this,arguments)}),t.forgetPassword=(i=(0,a.default)((function*(e){return yield fetch(s.BASE_URL_EACCOUNT+"",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})),function(e){return i.apply(this,arguments)})},92874:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var o=n(40305),i=n(71863),a=n(47671);t.default=function(e){var t=e.message;return(0,a.jsx)(o.LoaderScreen,{backgroundColor:"rgba(0, 53, 128, 0.15)",overlay:!0,loaderColor:i.colors.primary,message:t})}},26197:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var o=n(40305),i=n(47671);t.default=function(e){var t=e.position,n=void 0===t?"top":t;return(0,i.jsx)(o.Toast,{visible:e.open,position:n,autoDismiss:2e3,message:e.message,onDismiss:function(){return e.onOpen(!1)}})}},94803:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(60066),i=(r(n(21527)),r(n(53508))),a=r(n(85469)),s=r(n(28148)),l=r(n(73059)),c=n(47671),u=(0,o.createNativeStackNavigator)();t.default=function(){return(0,c.jsxs)(u.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"SignIn",children:[(0,c.jsx)(u.Screen,{name:"SignIn",component:a.default}),(0,c.jsx)(u.Screen,{name:"SignUp",component:i.default}),(0,c.jsx)(u.Screen,{name:"AccountScreen",component:l.default}),(0,c.jsx)(u.Screen,{name:"ForgetPassword",component:s.default})]})}},28148:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(85715)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(21527)),a=n(26500),s=n(40305),l=n(84365),c=n(71863),u=n(32298),d=r(n(58174)),f=n(47671);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var h=a.StyleSheet.create({containerTextField:{borderWidth:1,borderStyle:"solid",borderRadius:8,width:"85%",paddingHorizontal:"ios"===a.Platform.OS?20:14,borderColor:"rgba(0, 53, 128, 0.15)",marginBottom:16,paddingLeft:50}});t.default=function(e){var t=e.navigation,n=(0,i.useState)(""),r=(0,o.default)(n,2),g=(r[0],r[1]),m=(0,i.useState)(!1),y=(0,o.default)(m,2),p=y[0],v=y[1],x=(0,i.useState)(!1),b=(0,o.default)(x,2),S=b[0],j=b[1];return(0,f.jsxs)(f.Fragment,{children:[S?(0,f.jsxs)(a.SafeAreaView,{style:{flex:1},children:[(0,f.jsx)(s.View,{style:{flex:2.4},center:!0,children:(0,f.jsx)(s.Image,{style:{width:342,height:368},source:l.image_imageSendEmail})}),(0,f.jsx)(s.View,{style:{flex:.5},center:!0,children:(0,f.jsx)(s.Text,{style:{color:c.colors.text,fontSize:14,fontWeight:"400",fontFamily:u.FontFamily.interMedium},children:d.default.t("forgotPasswordScr.requestSuccess")})}),(0,f.jsx)(s.View,{style:{flex:.8,paddingHorizontal:.08*a.Dimensions.get("screen").width},children:(0,f.jsx)(s.Button,{onPress:function(){return t.reset({routes:[{name:"SignIn"}]})},borderRadius:8,labelStyle:{fontSize:14,fontWeight:"500",fontFamily:u.FontFamily.interMedium},label:d.default.t("forgotPasswordScr.login"),backgroundColor:c.colors.primary})})]}):(0,f.jsxs)(a.SafeAreaView,{style:{flex:1},children:[(0,f.jsx)(s.View,{style:{flex:.3},center:!0,children:(0,f.jsx)(s.Text,{style:{color:c.colors.primary,fontSize:24,fontWeight:"600",fontFamily:u.FontFamily.interMedium},children:d.default.t("forgotPasswordScr.title")})}),(0,f.jsx)(s.View,{style:{flex:.2},center:!0,children:(0,f.jsx)(s.Image,{style:{width:179,height:179},source:l.image_forgetPassword})}),(0,f.jsx)(s.View,{style:{flex:.2},center:!0,children:(0,f.jsx)(s.Text,{style:{color:c.colors.text,fontSize:14,fontWeight:"400",fontFamily:u.FontFamily.interMedium,textAlign:"center"},children:d.default.t("forgotPasswordScr.subTitle")})}),(0,f.jsxs)(s.View,{center:!0,style:{position:"relative"},children:[(0,f.jsx)(s.TextField,{containerStyle:Object.assign({},h.containerTextField,{marginBottom:24}),placeholder:d.default.t("forgotPasswordScr.acc"),floatingPlaceholder:!0,onChangeText:function(e){return g(e)},enableErrors:!0,validate:["required","email",function(e){return e.length>6}],validationMessage:["Field is required","Email is invalid","Password is too short"],maxLength:30}),(0,f.jsx)(s.View,{style:{position:"absolute",left:"10%",top:"18%"},children:(0,f.jsx)(s.Image,{style:{width:30,height:30},source:l.image_mail})})]}),(0,f.jsx)(s.View,{style:{flex:.1,paddingHorizontal:.08*a.Dimensions.get("screen").width},children:(0,f.jsx)(s.Button,{onPress:function(){return v(!0),void setTimeout((function(){v(!1),j(!0)}),2e3)},borderRadius:8,labelStyle:{fontSize:14,fontWeight:"500",fontFamily:u.FontFamily.interMedium},label:d.default.t("forgotPasswordScr.sendRequest"),backgroundColor:c.colors.primary})})]}),p&&(0,f.jsx)(s.LoaderScreen,{backgroundColor:"rgba(0, 53, 128, 0.15)",overlay:!0,message:"",color:c.colors.primary})]})}},85469:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(29293)),i=r(n(85715)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(21527)),s=n(60507),l=n(26500),c=n(40305),u=n(84365),d=n(71863),f=n(32298),g=n(53424),h=r(n(24499)),m=n(56333),y=n(55136),p=r(n(92874)),v=r(n(35790)),x=r(n(26197)),b=r(n(93391)),S=r(n(95094)),j=n(47671);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}var F={title:"Authentication Required",imageColor:"#e00606",imageErrorColor:"#ff0000",sensorDescription:"Touch sensor",sensorErrorDescription:"Failed",cancelText:"Cancel",fallbackLabel:"Show Passcode",unifiedErrors:!1,passcodeFallback:!1},O=l.Dimensions.get("screen"),I=O.width,P=O.height,_=l.StyleSheet.create({imageBackground:{flex:1},containerTextField:{borderWidth:1,borderStyle:"solid",borderRadius:8,width:"85%",paddingHorizontal:"ios"===l.Platform.OS?16:10,borderColor:"rgba(0, 53, 128, 0.15)",marginBottom:16},logo:{width:278,height:52,top:.18*P,left:.1*I},headerText:{color:d.colors.primary,fontWeight:"600",fontSize:24,fontFamily:f.FontFamily.interMedium}});t.default=function(e){var t=e.navigation,n=(0,s.useAuth)().signIn,r=(0,a.useState)(""),w=(0,i.default)(r,2),O=w[0],P=w[1],T=(0,a.useState)(""),k=(0,i.default)(T,2),C=k[0],M=k[1],D=(0,a.useState)(!0),E=(0,i.default)(D,2),A=E[0],N=E[1],R=(0,a.useState)(!1),V=(0,i.default)(R,2),z=V[0],W=V[1],B=(0,a.useState)(!1),L=(0,i.default)(B,2),U=L[0],q=L[1],K=(0,a.useState)(!1),J=(0,i.default)(K,2),H=J[0],Y=J[1],G=(0,a.useState)(""),Q=(0,i.default)(G,2),X=Q[0],Z=Q[1];(0,g.useFocusEffect)((0,a.useCallback)((function(){(0,o.default)((function*(){var e=yield h.default.getItem(m.storeUsernameAndPass);if(e){var t=JSON.parse(e);P(t.username),M(t.password),W(t.rememberMe)}}))()}),[]));var $,ee,te=($=(0,o.default)((function*(){q(!0);var e={username:O,password:C,rememberMe:z};console.log(e);var t=yield(0,y.loginApi)(e);t&&t.access_token?(e.rememberMe?h.default.setItem(m.storeUsernameAndPass,JSON.stringify(e)):h.default.removeItem(m.storeUsernameAndPass),yield v.default.shared.setCredentials(t.access_token),yield v.default.shared.setInfoLogin(JSON.stringify(t.ui)),n(),Z("Đăng nhập thành công")):Z("Đăng nhập không thành công"),q(!1),Y(!0)})),function(){return $.apply(this,arguments)}),ne=(ee=(0,o.default)((function*(){b.default.isSupported(F).then((function(e){"FaceID"===e?console.log("FaceID is supported."):console.log("TouchID is supported.")})).catch((function(e){console.log(e)}));try{var e=yield h.default.getItem(m.storeUsernameAndPass);"true"===(yield h.default.getItem(m.storeFlag))&&e?b.default.authenticate("KiTa",F).then((n=(0,o.default)((function*(t){console.log("Authentication success:",t);var n=JSON.parse(e),r={username:n.email,password:n.password},o=yield(0,y.loginApi)(r);yield v.default.shared.setCredentials(o.access_token),yield v.default.shared.setInfoLogin(JSON.stringify(o.ui))})),function(e){return n.apply(this,arguments)})).catch((t=(0,o.default)((function*(e){console.log("Authentication error:",e),l.Alert.alert("Authentication Failed")})),function(e){return t.apply(this,arguments)})):l.Alert.alert(S.default.t("loginScr.notiFaceID"))}catch(e){console.log("Error accessing AsyncStorage:",e),l.Alert.alert("Error accessing stored data")}var t,n})),function(){return ee.apply(this,arguments)});return(0,j.jsxs)(l.ImageBackground,{resizeMode:"cover",source:u.image_background,style:_.imageBackground,children:[(0,j.jsx)(c.View,{style:{flex:1},children:(0,j.jsx)(c.Image,{style:_.logo,source:u.image_logo})}),(0,j.jsx)(c.View,{style:{flex:.2},children:(0,j.jsx)(c.Text,{style:_.headerText,center:!0,children:S.default.t("loginScr.title")})}),(0,j.jsxs)(c.View,{style:{flex:1.2,alignItems:"center",justifyContent:"flex-start"},children:[(0,j.jsx)(c.TextField,{containerStyle:Object.assign({},_.containerTextField,{marginBottom:24}),placeholder:S.default.t("loginScr.acc"),floatingPlaceholder:!0,onChangeText:P,enableErrors:!0,value:O,validate:["required","email",function(e){return e.length>6}],validationMessage:["Field is required","Email is invalid","Password is too short"],maxLength:30}),(0,j.jsxs)(c.View,{style:{width:"100%",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,j.jsx)(c.TextField,{containerStyle:_.containerTextField,secureTextEntry:A,placeholder:S.default.t("loginScr.password"),floatingPlaceholder:!0,onChangeText:M,enableErrors:!0,value:C,validate:["required","email",function(e){return e.length>6}],validationMessage:["Field is required","Email is invalid","Password is too short"],maxLength:30}),(0,j.jsx)(c.TouchableOpacity,{onPress:function(){return N(!A)},style:{position:"absolute",right:"12%",top:"25%"},children:(0,j.jsx)(c.Icon,{style:{width:20,height:20},source:u.image_eye})})]}),(0,j.jsxs)(c.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",columnGap:.3*I},children:[(0,j.jsxs)(c.TouchableOpacity,{onPress:function(){return W(!z)},style:{flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:8},children:[(0,j.jsx)(c.Checkbox,{containerStyle:{borderColor:"rgba(0, 53, 128, 0.35)"},borderRadius:8,size:16,value:z,onValueChange:function(){return W(!z)}}),(0,j.jsx)(c.Text,{style:{color:z?"rgba(0, 53, 128, 1)":"rgba(0, 53, 128, 0.35)",fontWeight:"400",fontSize:12,fontFamily:f.FontFamily.interMedium},children:S.default.t("loginScr.remember")})]}),(0,j.jsx)(c.TouchableOpacity,{onPress:function(){return t.navigate("ForgetPassword")},children:(0,j.jsx)(c.Text,{style:{color:d.colors.primary,fontWeight:"400",fontSize:12,fontFamily:f.FontFamily.interMedium},children:S.default.t("loginScr.forgotPassword")})})]}),(0,j.jsxs)(c.View,{style:{width:"85%",alignItems:"center",justifyContent:"space-between",flexDirection:"row"},children:[(0,j.jsx)(c.Button,{onPress:te,labelStyle:{fontWeight:"500",fontSize:14,color:"#fff",fontFamily:f.FontFamily.interMedium},style:{height:40,width:"85%",borderRadius:8,marginTop:24},label:S.default.t("loginScr.title"),size:c.Button.sizes.large,backgroundColor:d.colors.primary}),(0,j.jsx)(c.TouchableOpacity,{onPress:ne,children:(0,j.jsx)(c.Image,{style:{width:40,height:40,marginTop:24},source:u.image_faceId})})]})]}),(0,j.jsx)(c.View,{style:{flex:.4,alignItems:"center",justifyContent:"center"},children:(0,j.jsx)(c.Image,{style:{width:83,height:52.52},source:u.image_sublogo})}),U&&(0,j.jsx)(p.default,{}),H&&(0,j.jsx)(x.default,{open:H,onOpen:Y,message:X})]})}},53508:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(21527));var o=n(26500),i=n(47671);t.default=function(){return(0,i.jsx)(o.SafeAreaView,{})}},35790:function(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(n(29293)),a=r(n(17383)),s=r(n(34579)),l=r(n(24499)),c=function(){function e(){(0,a.default)(this,e),this.TOKEN_KEY="token",this.INFO_USER="info_user"}var t;return(0,s.default)(e,[{key:"getCredentials",value:function(){return l.default.getItem(this.TOKEN_KEY)}},{key:"setCredentials",value:function(e){return l.default.setItem(this.TOKEN_KEY,e)}},{key:"setInfoLogin",value:function(e){return l.default.setItem(this.INFO_USER,e)}},{key:"getInfoLogin",value:function(){return l.default.getItem(this.INFO_USER)}},{key:"removeCredentials",value:(t=(0,i.default)((function*(){return yield l.default.removeItem(this.TOKEN_KEY),l.default.removeItem(this.INFO_USER)})),function(){return t.apply(this,arguments)})}]),e}();o=c,c.shared=new o;t.default=c},56672:function(e){"use strict";e.exports=JSON.parse('{"loginScr":{"title":"Login","acc":"Email or phone number","password":"Password","remember":"Remember account","forgotPassword":"Forgot password?","notiFaceID":"Authentication has not been enabled. After logging in, please go to Settings to turn off fingerprint or FaceID authentication."},"forgotPasswordScr":{"title":"Forgot Password","subTitle":"Enter the email address you registered with to reset your password","acc":"Email","sendRequest":"Send request","requestSuccess":"Request sent successfully","login":"Login"},"settingScr":{"title":"Setting","acc":"ACCOUNT","noti":"Manager receives notifications","accSec":"ACCOUNT SECURITY","changePass":"Change password","faceID":"Biometric authentication","onFaceID":"Successfully registered for FaceID","offFaceID":"Successfully turned off FaceID registration","failFaceID":"FaceID registration failed"}}')},5746:function(e){"use strict";e.exports=JSON.parse('{"loginScr":{"title":"Đăng nhập","acc:":"Email hoặc số điện thoại","password":"Mật khẩu","remember":"Nhớ tài khoản","forgotPassword":"Quên mật khẩu?","notiFaceID":"Chưa bật xác thực, sau khi đăng nhập, bạn vui lòng vào phần Cài đặt để bặt xác thực bằng vân tay hoặc FaceID."},"forgotPasswordScr":{"title":"Quên mật khẩu","subTitle":"Nhập địa chỉ email bạn đã đăng kí để đặt lại mật khẩu","acc":"Email","sendRequest":"Gửi yêu cầu","requestSuccess":"Gửi yêu cầu thành công","login":"Đăng nhập"},"settingScr":{"title":"Cài đặt chung","acc":"TÀI KHOẢN","noti":"Quản lý nhận thông báo","accSec":"BẢO MẬT TÀI KHOẢN","changePass":"Đổi mật khẩu","faceID":"Xác thực sinh trắc học","onFaceID":"Đăng kí FaceID thành công","offFaceID":"Tắt đăng kí FaceID thành công","failFaceID":"Đăng kí FaceID không thành công"}}')}}]);//# sourceMappingURL=src_navigation_MainNavigation_tsx.chunk.bundle.map?platform=ios