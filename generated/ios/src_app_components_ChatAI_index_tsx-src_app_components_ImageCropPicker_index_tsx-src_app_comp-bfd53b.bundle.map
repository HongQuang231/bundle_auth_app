{"version":3,"file":"src_app_components_ChatAI_index_tsx-src_app_components_ImageCropPicker_index_tsx-src_app_comp-bfd53b.bundle","mappings":"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","sources":["webpack:///./src/app/components/ChatAI/component/chat-bubble/index.tsx","webpack:///./src/app/components/ChatAI/component/chat/helper.tsx","webpack:///./src/app/components/ChatAI/component/chat/index.tsx","webpack:///./src/app/components/ChatAI/component/chat/styles.ts","webpack:///./src/app/components/ChatAI/component/storeMessage/store-chat.ts","webpack:///./src/app/components/ChatAI/index.tsx","webpack:///./src/app/components/ChatAI/styles.ts","webpack:///./src/app/components/ImageCropPicker/index.tsx","webpack:///./src/app/components/NoAuth/index.tsx","webpack:///./src/app/components/OverflowMenu/index.tsx","webpack:///./src/app/components/Paging/index.tsx","webpack:///./src/app/components/Paging/styles.ts","webpack:///./src/app/components/Table/index.tsx","webpack:///./src/app/components/Table/styles.ts","webpack:///./src/app/components/ViewFormScreen/index.tsx","webpack:///./src/app/components/ViewFormScreen/styles.ts"],"sourcesContent":["import {Pressable, View} from 'react-native';\nimport TextCM from '../../../Text';\nimport Markdown from 'react-native-markdown-display';\nimport {IAIResponseClass} from '../chat/helper';\n\ntype Props = {\n  itemChat: IAIResponseClass;\n  handleSendChat?: (question: string) => void;\n};\n\nconst ChatBubble = ({itemChat, handleSendChat}: Props) => {\n  return (\n    <View\n      style={{\n        marginBottom: 10,\n        backgroundColor: itemChat.userId === -1 ? '#e6eaf0' : '#6f2ced',\n        borderRadius: 8,\n        paddingHorizontal: 16,\n        paddingVertical: 12,\n        maxWidth: '75%',\n        alignSelf: itemChat.userId === -1 ? 'flex-start' : 'flex-end',\n        justifyContent: 'center',\n      }}>\n      {itemChat.userId === -1 && <Markdown>{itemChat.message}</Markdown>}\n      {itemChat.userId !== -1 && itemChat.userId !== -2 && (\n        <TextCM style={[itemChat.userId !== -1 && {color: '#fff'}]}>\n          {itemChat.message}\n        </TextCM>\n      )}\n      {itemChat.userId === -2 && (\n        <Pressable onPress={() => handleSendChat?.(itemChat.message)}>\n          <TextCM style={{color: '#fff'}}>{itemChat.message}</TextCM>\n        </Pressable>\n      )}\n    </View>\n  );\n};\n\nexport default ChatBubble;\n","export const listQuestion: string[] = [\n  'Tóm tắt thông tin lưu ý của giao dịch',\n  'Các thông tin cần lưu ý khi thực hiện công việc này là gì ?',\n  'Có deadline cần chú ý cho công việc này không ?',\n];\n\nexport class IAIResponseClass {\n  id: number;\n  conversationId: string;\n  message: string;\n  reply: string | null;\n  sequence: number | null;\n  pushNotify: boolean | null;\n  status: string | null;\n  userId: number;\n  custId: number;\n  orgIn: string;\n  createdDate: string;\n  createdBy: string;\n  lastModifiedDate: string | null;\n  lastModifiedBy: string | null;\n  feedback: boolean;\n  voteValue: number | null;\n  idResponseAi: string | null;\n\n  constructor(data?: Partial<IAIResponseClass>) {\n    this.id = Date.now() + Math.floor(Math.random() * 10000);\n    this.conversationId = '';\n    this.message = '';\n    this.reply = null;\n    this.sequence = null;\n    this.pushNotify = null;\n    this.status = null;\n    this.userId = 0;\n    this.custId = 0;\n    this.orgIn = '';\n    this.createdDate = new Date().toISOString();\n    this.createdBy = '';\n    this.lastModifiedDate = null;\n    this.lastModifiedBy = null;\n    this.feedback = false;\n    this.voteValue = null;\n    this.idResponseAi = null;\n\n    // Nếu truyền vào `data`, cập nhật giá trị dựa trên data đó\n    Object.assign(this, data);\n  }\n}\n","import React, {useState, useCallback, useEffect, useRef} from 'react';\n// import {GiftedChat} from 'react-native-gifted-chat';\nimport {SafeAreaView} from 'react-native-safe-area-context';\nimport HeaderCM from '../../../Header/HeaderCM';\nimport {Divider, Spinner} from '@ui-kitten/components';\nimport InputCM from '../../../../screens/review-eid/components/InputCM';\nimport {\n  FlatList,\n  Keyboard,\n  KeyboardAvoidingView,\n  Platform,\n  ScrollView,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View,\n} from 'react-native';\nimport {IconSend} from '../../../../../assets/images';\nimport {useAIStore} from '../storeMessage/store-chat';\nimport {useAIServices} from '../../../../../hooks/apiHooks/useAPI';\nimport ChatBubble from '../chat-bubble';\nimport {IRequestBodyAI} from '../../helper';\nimport {IAIResponseClass, listQuestion} from './helper';\nimport {useAppSelector} from '../../../../../hooks/useRedux';\nimport styles from './styles';\n\ntype Props = {\n  onClose?: () => void;\n  userTaskId: string;\n  ticketId: string;\n};\n\nconst SIZE = 50;\n\nexport function ChatMessage({onClose, userTaskId, ticketId}: Props) {\n  const [chat, setChat] = useState<string>('');\n  const [conversationId, setConversationId] = useState<string>('');\n  const [listInitQuestion, setListInitQuestion] = useState<IAIResponseClass[]>(\n    [],\n  );\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [page, setPage] = useState(0);\n  const [totalPage, setTotalPage] = useState(0);\n  const {\n    listAIResponse,\n    addListAIResponse,\n    setListAIResponse,\n    getListAIResponse,\n  } = useAIStore();\n  const {dataAccount} = useAppSelector(state => state.account);\n  const AIServices = useAIServices();\n  const refFlatList = useRef<any>(null);\n\n  useEffect(() => {\n    getMessageInit(0);\n  }, []);\n\n  useEffect(() => {\n    if (listAIResponse.length > 0 && refFlatList.current) {\n      setTimeout(() => {\n        refFlatList.current?.scrollToEnd({animated: true});\n      }, 1000);\n    }\n  }, [listAIResponse, refFlatList.current]);\n\n  const getMessageInit = async (page: number) => {\n    try {\n      const params = {\n        ticketId: ticketId,\n        userTaskId: userTaskId,\n        page: page,\n        size: SIZE,\n      };\n      const dataResp = await AIServices.getMessage(params);\n      if (dataResp && dataResp?.data.length > 0) {\n        if (page === 0) {\n          setListAIResponse(dataResp.data);\n        } else {\n          setListAIResponse([...getListAIResponse(), ...dataResp.data]);\n        }\n        setConversationId(dataResp.data[0]?.conversationId);\n        setTotalPage(Math.ceil(dataResp?.totalData / SIZE));\n      } else {\n        setListInitQuestion(\n          listQuestion.map(\n            question =>\n              new IAIResponseClass({\n                message: question,\n                userId: -2,\n                createdBy: dataAccount.email,\n                orgIn: dataAccount.orgIn,\n                custId: dataAccount.custId,\n              }),\n          ),\n        );\n      }\n    } catch (error) {\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  const handleSendChat = async (question: string) => {\n    if (!question.trim()) return;\n    handleCreateQuestionChat(question);\n    setIsLoading(true);\n    try {\n      const body: IRequestBodyAI = {\n        question: question,\n        conversationId: conversationId,\n        ticketId: ticketId,\n        userTaskId: userTaskId,\n      };\n      const dataResp = (await AIServices.sendMessage(body)) as IAIResponseClass;\n      if (dataResp) {\n        setConversationId(dataResp.conversationId);\n        addListAIResponse(dataResp);\n        refFlatList.current?.scrollToEnd({\n          animated: true,\n        });\n      }\n    } catch (error) {\n    } finally {\n      setChat('');\n      Keyboard.dismiss();\n      setIsLoading(false);\n    }\n  };\n\n  const handleCreateQuestionChat = (question: string) => {\n    const message = new IAIResponseClass({\n      message: question,\n      userId: dataAccount.id,\n      createdBy: dataAccount.email,\n      orgIn: dataAccount.orgIn,\n      custId: dataAccount.custId,\n    });\n    addListAIResponse(message);\n    Keyboard.dismiss();\n  };\n\n  const handleFocusInput = () => {\n    setTimeout(() => {\n      refFlatList.current?.scrollToIndex({\n        index: getListAIResponse().length - 1,\n        animated: true,\n      });\n    }, 100);\n  };\n\n  const onRefresh = () => {\n    setIsRefreshing(true);\n    setPage(0);\n    getMessageInit(0);\n  };\n\n  const handleLoadMore = () => {\n    if (page < totalPage) {\n      setPage(page + 1);\n      getMessageInit(page + 1);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      keyboardVerticalOffset={60}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      style={{flex: 1}}>\n      <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n        <>\n          <HeaderCM\n            style={{\n              backgroundColor: '#fff',\n            }}\n            contentStyle={{\n              backgroundColor: '#fff',\n            }}\n            titleStyle={{\n              color: '#000810',\n            }}\n            fillIconBackLeft=\"#000810\"\n            onPressIconLeft={() => {\n              setListAIResponse([]);\n              onClose?.();\n            }}\n            title=\"Trợ lý số Kyta Intelligent\"\n          />\n          <Divider />\n\n          <View style={styles.body}>\n            {listAIResponse.length > 0 ? (\n              <>\n                <FlatList\n                  ref={refFlatList}\n                  showsVerticalScrollIndicator={false}\n                  style={{flex: 1}}\n                  data={listAIResponse}\n                  keyExtractor={index => '' + index.id}\n                  renderItem={({item}) => <ChatBubble itemChat={item} />}\n                  onEndReachedThreshold={0.5}\n                  onRefresh={onRefresh}\n                  refreshing={isRefreshing}\n                  onEndReached={handleLoadMore}\n                />\n                {isLoading && <Spinner />}\n              </>\n            ) : (\n              <FlatList\n                showsVerticalScrollIndicator={false}\n                style={{flex: 1}}\n                data={listInitQuestion}\n                keyExtractor={index => '' + index.id}\n                renderItem={({item}) => (\n                  <ChatBubble itemChat={item} handleSendChat={handleSendChat} />\n                )}\n              />\n            )}\n          </View>\n\n          <View style={styles.footer}>\n            <InputCM\n              value={chat}\n              onChangeText={setChat}\n              placeholder=\"Đặt câu hỏi cho AI\"\n              onFocus={handleFocusInput}\n            />\n            <TouchableOpacity onPress={() => handleSendChat(chat)} hitSlop={15}>\n              <IconSend width={24} height={24} />\n            </TouchableOpacity>\n          </View>\n        </>\n      </TouchableWithoutFeedback>\n    </KeyboardAvoidingView>\n  );\n}\n","import {StyleSheet} from 'react-native';\n\nexport default StyleSheet.create({\n  footer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    columnGap: 8,\n  },\n  body: {flex: 1, paddingHorizontal: 16, paddingTop: 16},\n});\n","import {create} from 'zustand';\n\nimport {IAIResponseClass} from '../chat/helper';\n\ninterface AIStore {\n  listAIResponse: IAIResponseClass[];\n  setListAIResponse: (listAIResponse: IAIResponseClass[]) => void;\n  addListAIResponse: (listAIResponse: IAIResponseClass) => void;\n  getListAIResponse: () => IAIResponseClass[];\n}\n\nconst initialSettingState = {\n  listAIResponse: [],\n};\n\nexport const useAIStore = create<AIStore>((set, get) => ({\n  ...initialSettingState,\n  setListAIResponse: (listAIResponse: IAIResponseClass[]) => {\n    set({listAIResponse});\n  },\n  addListAIResponse: (listAIResponse: IAIResponseClass) => {\n    const newListAIResponse = [...get().listAIResponse, listAIResponse];\n    set({listAIResponse: newListAIResponse});\n  },\n  getListAIResponse: () => {\n    return get().listAIResponse;\n  },\n}));\n","import React, {useState} from 'react';\nimport {\n  LayoutChangeEvent,\n  Pressable,\n  useWindowDimensions,\n  View,\n} from 'react-native';\nimport Animated, {\n  ReduceMotion,\n  useAnimatedStyle,\n  useSharedValue,\n  withDecay,\n} from 'react-native-reanimated';\nimport {\n  Gesture,\n  GestureDetector,\n  GestureHandlerRootView,\n} from 'react-native-gesture-handler';\nimport styles from './styles';\nimport {useSafeAreaInsets} from 'react-native-safe-area-context';\nimport TextCM from '../Text';\nimport ModalFullScreen from '../ModalFullScreen';\nimport {ChatMessage} from './component/chat';\n\nconst SIZE = 30;\n\ntype Props = {\n  ticketId: string;\n  userTaskId: string;\n};\n\nexport default function ChatAI({ticketId, userTaskId}: Props) {\n  const offsetY = useSharedValue<number>(0);\n  const height = useSharedValue<number>(0);\n  const insets = useSafeAreaInsets();\n  const {height: heightValue} = useWindowDimensions();\n  const onLayout = (event: LayoutChangeEvent) => {\n    height.value = event.nativeEvent.layout.height;\n  };\n\n  const [isVisableChat, setIsVisableChat] = useState(false);\n\n  const pan = Gesture.Pan()\n    .onChange(event => {\n      offsetY.value += event.changeY;\n    })\n    .onFinalize(event => {\n      offsetY.value = withDecay({\n        velocity: event.velocityY,\n        rubberBandEffect: true,\n        deceleration: 0.1,\n        velocityFactor: 0.5,\n        rubberBandFactor: 1,\n        reduceMotion: ReduceMotion.System,\n        clamp: [\n          -height.value / 2 + SIZE / 2 + insets.top,\n          Math.min(height.value / 2, offsetY.value + insets.top),\n        ],\n      });\n    });\n\n  const animatedStyles = useAnimatedStyle(() => ({\n    transform: [{translateY: offsetY.value}],\n  }));\n\n  return (\n    <>\n      <GestureHandlerRootView\n        style={[\n          styles.container,\n          {\n            bottom: heightValue / 4,\n          },\n        ]}>\n        <View onLayout={onLayout} style={styles.wrapper}>\n          <GestureDetector gesture={pan}>\n            <Animated.View style={[styles.box, animatedStyles]}>\n              {/* <Icon name=\"github-outline\" width={26} height={26} /> */}\n              <Pressable onPress={() => setIsVisableChat(true)}>\n                <TextCM\n                  style={{\n                    color: '#fff',\n                    fontSize: 12,\n                  }}>\n                  AI Chat\n                </TextCM>\n              </Pressable>\n            </Animated.View>\n          </GestureDetector>\n        </View>\n      </GestureHandlerRootView>\n\n      <ModalFullScreen\n        isVisible={isVisableChat}\n        children={\n          <ChatMessage\n            ticketId={ticketId}\n            userTaskId={userTaskId}\n            onClose={() => setIsVisableChat(false)}\n          />\n        }\n      />\n    </>\n  );\n}\n","import {StyleSheet} from 'react-native';\nexport default StyleSheet.create({\n  container: {\n    position: 'absolute',\n    right: 0,\n  },\n  wrapper: {\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end',\n  },\n  box: {\n    backgroundColor: '#2f45ff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderTopLeftRadius: 15,\n    borderBottomLeftRadius: 15,\n    padding: 8,\n  },\n});\n","import ImagePicker from 'react-native-image-crop-picker';\n\nexport interface propertyTakePhoto {\n  width?: number;\n  height?: number;\n  cropping?: boolean;\n  includeBase64Enabled?: boolean;\n  freeStyleCropEnabled?: boolean;\n  cropperCircleOverlayEnabled?: boolean;\n  useFrontCameraEnabled?: boolean;\n}\nconst TakePhoto = (options?: propertyTakePhoto) => {\n  const {\n    width = 500,\n    height = 500,\n    cropping = false,\n    includeBase64Enabled,\n    freeStyleCropEnabled,\n    cropperCircleOverlayEnabled,\n    useFrontCameraEnabled,\n  } = options || {};\n  return new Promise((resolve, reject) => {\n    ImagePicker.openCamera({\n      width: width,\n      height: height,\n      cropping: cropping || false,\n      includeBase64: includeBase64Enabled || false, // Mã hoá base64 image\n      freeStyleCropEnabled: freeStyleCropEnabled || false, // Áp dụng vùng hình chữ nhật tùy chỉnh để cắt xén\n      cropperCircleOverlay: cropperCircleOverlayEnabled || false, // Bật hoặc tắt mặt nạ cắt hình tròn.\n      useFrontCamera: useFrontCameraEnabled || false, // Mặt định camera quay trước\n    })\n      .then(image => {\n        const localUrlImage = image;\n        resolve(localUrlImage);\n      })\n      .catch(error => {\n        reject(error);\n      });\n  });\n};\n\nexport interface propertyChoosePhoto {\n  width?: number;\n  height?: number;\n  cropping?: boolean;\n  multipleEnabled?: boolean;\n  includeBase64Enabled?: boolean;\n  cropperCircleOverlayEnabled?: boolean;\n  freeStyleCropEnabled?: boolean;\n}\nconst ChoosePhoto = (options?: propertyChoosePhoto) => {\n  const {\n    width = 500,\n    height = 500,\n    cropping = false,\n    multipleEnabled,\n    includeBase64Enabled,\n    cropperCircleOverlayEnabled,\n    freeStyleCropEnabled,\n  } = options || {};\n  return new Promise((resolve, reject) => {\n    ImagePicker.openPicker({\n      width: width,\n      height: height,\n      cropping: cropping || false,\n      multiple: multipleEnabled || false, // Cho chọn nhiều ảnh\n      includeBase64: includeBase64Enabled || false, // Mã hoá base64 image\n      cropperCircleOverlay: cropperCircleOverlayEnabled || false, //Bật hoặc tắt mặt nạ cắt hình tròn.\n      freeStyleCropEnabled: freeStyleCropEnabled || false, // Áp dụng vùng hình chữ nhật tùy chỉnh để cắt xén\n      mediaType: 'photo',\n    })\n      .then(image => {\n        const localUrlImage = image;\n        resolve(localUrlImage);\n      })\n      .catch(error => {\n        reject(error);\n      });\n  });\n};\n\nexport default {TakePhoto, ChoosePhoto};\n","import {SafeAreaView} from 'react-native-safe-area-context';\nimport HeaderCM from '../Header/HeaderCM';\nimport TextCM from '../Text';\n\nconst NoAuthComponent = () => {\n  return (\n    <SafeAreaView edges={['bottom']}>\n      <HeaderCM />\n      <TextCM>Bạn không có quyền truy cập</TextCM>\n    </SafeAreaView>\n  );\n};\n\nexport default NoAuthComponent;\n","import {ReactNode, useState} from 'react';\nimport {IndexPath, Layout, MenuItem, OverflowMenu} from '@ui-kitten/components';\nimport styles from './styles';\nimport {useTranslation} from 'react-i18next';\nimport {TouchableOpacity} from 'react-native';\nimport TextCM from '../Text';\ninterface IDataMenu {\n  id: number;\n  key: string;\n  value: string;\n  icon?: ReactNode;\n  selectedTitle?: string;\n}\ntype Props = {\n  selectedIndex: IndexPath | undefined;\n  setSelectedIndex: (selectedIndex: IndexPath | undefined) => void;\n  listData: IDataMenu[];\n  selectedTitle?: any;\n  renderSelected?: ReactNode;\n};\n\nexport const OverflowMenuCM = ({\n  listData = [],\n  selectedIndex = undefined,\n  selectedTitle = 'Toggle Menu',\n  setSelectedIndex,\n  renderSelected,\n}: Props) => {\n  const {t} = useTranslation();\n  const [visible, setVisible] = useState(false);\n\n  const onItemSelect = (index: IndexPath | undefined): void => {\n    setSelectedIndex(index);\n    setVisible(false);\n  };\n\n  const renderToggleButton = () => {\n    if (renderSelected) {\n      return (\n        <TouchableOpacity onPress={() => setVisible(true)}>\n          {renderSelected}\n        </TouchableOpacity>\n      );\n    }\n    return (\n      <TouchableOpacity onPress={() => setVisible(true)}>\n        <TextCM>{selectedTitle}</TextCM>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <OverflowMenu\n      anchor={renderToggleButton}\n      visible={visible}\n      selectedIndex={selectedIndex}\n      onSelect={onItemSelect}\n      onBackdropPress={() => setVisible(false)}>\n      {listData.map((item: IDataMenu) => (\n        <MenuItem\n          key={item.id}\n          title={t(item.value)}\n          accessoryLeft={item?.icon as any}\n        />\n      ))}\n    </OverflowMenu>\n  );\n};\n","import {TouchableOpacity, View} from 'react-native';\nimport TextCM from '../Text';\nimport {useEffect, useState} from 'react';\nimport styles from './styles';\nimport {SizeDP} from '../../../constants/Size';\nimport {IconArrowGrey} from '../../../assets/images';\nimport React from 'react';\n\ntype Props = {\n  collectionSize: number;\n  pageSize: number;\n  currentPage: number;\n  onPageChange: (currentPage: number) => void;\n};\n\nconst PagingCM = ({\n  collectionSize,\n  pageSize,\n  currentPage,\n  onPageChange,\n}: Props) => {\n  const [totalPages, setTotalPages] = useState(\n    Array.from(Array(Math.ceil(collectionSize / pageSize))).map(\n      (item, idx) => idx + 1,\n    ),\n  );\n\n  useEffect(() => {\n    setTotalPages(\n      Array.from(Array(Math.ceil(collectionSize / pageSize))).map(\n        (item, idx) => idx + 1,\n      ),\n    );\n  }, [collectionSize]);\n\n  const createPaginationArray = (): number[] => {\n    const array = [];\n    const beforePage = Math.max(1, currentPage - 1);\n    const afterPage = Math.min(totalPages.length, currentPage + 1);\n\n    for (let plength = beforePage; plength <= afterPage; plength++) {\n      if (plength > totalPages.length) {\n        continue;\n      }\n      if (plength === 0) {\n        plength = plength + 1;\n      }\n      array.push(plength);\n    }\n\n    return array;\n  };\n\n  const selectPageNumber = (pageNumber: number) => {\n    onPageChange(pageNumber);\n    createPaginationArray();\n  };\n\n  const next = () => {\n    const nextPage = currentPage + 1;\n    if (nextPage > totalPages.length) return;\n    nextPage <= totalPages.length && selectPageNumber(nextPage);\n  };\n\n  /** Set previous page number */\n  const previous = () => {\n    const previousPage = currentPage - 1;\n    if (previousPage <= 0) return;\n    previousPage >= 1 && selectPageNumber(previousPage);\n  };\n\n  return (\n    <View style={styles.ctnMain}>\n      <TouchableOpacity\n        onPress={previous}\n        style={[styles.ctnText, {transform: [{rotate: '90deg'}]}]}\n        hitSlop={SizeDP(15)}>\n        <IconArrowGrey width={SizeDP(16)} height={SizeDP(16)} />\n      </TouchableOpacity>\n      {totalPages.length > 5 ? (\n        <>\n          {currentPage > 2 && (\n            <>\n              <TouchableOpacity\n                hitSlop={SizeDP(15)}\n                onPress={() => selectPageNumber(1)}\n                style={[styles.ctnText, currentPage === 1 && styles.ctnSelect]}>\n                <TextCM>1</TextCM>\n              </TouchableOpacity>\n              {currentPage > 3 && <TextCM>...</TextCM>}\n            </>\n          )}\n\n          {createPaginationArray().map(numb => (\n            <TouchableOpacity\n              key={numb}\n              hitSlop={SizeDP(15)}\n              onPress={() => selectPageNumber(numb)}\n              style={[\n                styles.ctnText,\n                currentPage === numb && styles.ctnSelect,\n              ]}>\n              <TextCM>{numb}</TextCM>\n            </TouchableOpacity>\n          ))}\n          {currentPage < totalPages.length - 1 && (\n            <>\n              {currentPage < totalPages.length - 2 && <TextCM>...</TextCM>}\n              <TouchableOpacity\n                hitSlop={SizeDP(15)}\n                style={[\n                  styles.ctnText,\n                  currentPage === totalPages.length && styles.ctnSelect,\n                ]}\n                onPress={() => selectPageNumber(totalPages.length)}>\n                <TextCM>{totalPages.length}</TextCM>\n              </TouchableOpacity>\n            </>\n          )}\n        </>\n      ) : (\n        <>\n          {createPaginationArray().map(numb => (\n            <TouchableOpacity\n              key={numb}\n              hitSlop={SizeDP(15)}\n              onPress={() => selectPageNumber(numb)}\n              style={[\n                styles.ctnText,\n                currentPage === numb && styles.ctnSelect,\n              ]}>\n              <TextCM>{numb}</TextCM>\n            </TouchableOpacity>\n          ))}\n        </>\n      )}\n      <TouchableOpacity\n        onPress={next}\n        style={[styles.ctnText, {transform: [{rotate: '-90deg'}]}]}\n        hitSlop={SizeDP(15)}>\n        <IconArrowGrey width={SizeDP(16)} height={SizeDP(16)} />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default PagingCM;\n","import {StyleSheet} from 'react-native';\nimport {SizeDP} from '../../../constants/Size';\n\nexport default StyleSheet.create({\n  ctnMain: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n\n  ctnText: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: SizeDP(4),\n    borderRadius: SizeDP(10),\n    marginHorizontal: SizeDP(5),\n    minWidth: SizeDP(30),\n  },\n\n  ctnSelect: {\n    backgroundColor: '#f2ecfd',\n    color: '#6f2ced',\n  },\n});\n","import React, {useEffect, useState} from 'react';\nimport {View, ScrollView, Dimensions, useWindowDimensions} from 'react-native';\nimport styles from './styles';\nimport {useTranslation} from 'react-i18next';\nimport TextCM from '../Text';\n\ntype Props = {\n  tableHeaders: string[];\n  tableData: any[];\n  stickyColumnLeftIndex?: number;\n  stickyColumnRightIndex?: number;\n  stickyLeft?: boolean;\n  stickyRight?: boolean;\n  isPaging?: boolean;\n};\n\nconst TableCM = ({\n  tableHeaders,\n  tableData,\n  stickyColumnLeftIndex = 0,\n  stickyColumnRightIndex,\n  stickyLeft,\n  stickyRight,\n  isPaging = true,\n}: Props) => {\n  const {t} = useTranslation();\n  const {width} = useWindowDimensions();\n  const [widthOfStickey, setWidthOfStickey] = useState(0);\n  return (\n    <View style={styles.container}>\n      <View style={styles.tableBody}>\n        {/* Sticky Name Column */}\n        {stickyLeft &&\n          stickyColumnLeftIndex &&\n          tableHeaders\n            .slice(-stickyColumnLeftIndex)\n            .reverse()\n            .map((header, index) => (\n              <View\n                onLayout={e => {\n                  setWidthOfStickey(e.nativeEvent.layout.width);\n                }}\n                key={header}\n                style={[\n                  styles.stickyColumnScroll,\n                  {\n                    right: index * widthOfStickey,\n                  },\n                  1 === stickyColumnLeftIndex && styles.box,\n                ]}>\n                {/* Sticky Header Column */}\n                <View\n                  style={[\n                    styles.stickyHeader,\n                    header === 'action' && {alignItems: 'center'},\n                  ]}>\n                  <TextCM style={styles.headerText}>{t(`TK.${header}`)}</TextCM>\n                </View>\n                {/* Sticky Data Column */}\n                {tableData?.map((rowData, index) => (\n                  <View\n                    key={index}\n                    style={[\n                      styles.stickyColumn,\n                      header === 'action' && {alignItems: 'center'},\n                    ]}>\n                    {typeof (rowData as any)[header] !== 'object' ? (\n                      <TextCM style={styles.cellText}>\n                        {(rowData as any)[header]}\n                      </TextCM>\n                    ) : (\n                      (rowData as any)[header]\n                    )}\n                  </View>\n                ))}\n              </View>\n            ))}\n\n        {/* Scrollable Header + Columns */}\n        <ScrollView horizontal>\n          {/* Scrollable Columns */}\n          <View\n            style={[\n              styles.row,\n              !stickyLeft && {\n                marginRight: 0,\n              },\n            ]}>\n            {tableHeaders\n              .slice(0, tableHeaders.length - stickyColumnLeftIndex)\n              .map((header, index) => (\n                <View key={index}>\n                  <View\n                    style={[\n                      styles.stickyHeader,\n                      header === 'action' && {alignItems: 'center'},\n                      {\n                        minWidth:\n                          header === 'STT'\n                            ? 30\n                            : (width - 30) /\n                              (tableHeaders.length - stickyColumnLeftIndex - 1),\n                      },\n                    ]}>\n                    <TextCM style={styles.headerText}>\n                      {t(`TK.${header}`)}\n                    </TextCM>\n                  </View>\n\n                  {tableData?.map((rowData, index) => (\n                    <View\n                      key={index}\n                      style={[\n                        styles.stickyColumn,\n                        header === 'action' && {alignItems: 'center'},\n                        {\n                          minWidth:\n                            header === 'STT'\n                              ? 30\n                              : (width - 30) /\n                                (tableHeaders.length -\n                                  stickyColumnLeftIndex -\n                                  1),\n                        },\n                      ]}>\n                      {typeof (rowData as any)[header] !== 'object' ? (\n                        <TextCM style={styles.cellText}>\n                          {(rowData as any)[header]}\n                        </TextCM>\n                      ) : (\n                        (rowData as any)[header]\n                      )}\n                    </View>\n                  ))}\n                </View>\n              ))}\n          </View>\n        </ScrollView>\n      </View>\n    </View>\n  );\n};\n\nexport default TableCM;\n","import {StyleSheet} from 'react-native';\nimport {Font, FontSize} from '../../../constants';\nimport {SizeDP} from '../../../constants/Size';\n\nexport default StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  tableBody: {\n    flexDirection: 'row',\n    flex: 1,\n  },\n  stickyColumnScroll: {\n    position: 'absolute',\n    right: 0,\n    zIndex: 10,\n    minWidth: SizeDP(100),\n    flex: 1,\n  },\n  stickyHeader: {\n    minWidth: SizeDP(100),\n    padding: SizeDP(10),\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    backgroundColor: '#F2ECFD',\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#00358014',\n  },\n  stickyColumn: {\n    minWidth: SizeDP(100),\n    // maxWidth: SizeDP(200),\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff',\n    padding: SizeDP(10),\n    minHeight: SizeDP(50),\n  },\n  headerRow: {\n    flexDirection: 'row',\n    marginRight: SizeDP(100),\n  },\n  headerCell: {\n    minWidth: SizeDP(100),\n    padding: SizeDP(10),\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    backgroundColor: '#F2ECFD',\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#00358014',\n  },\n  headerText: {\n    fontSize: FontSize.FontTiny,\n    fontFamily: Font.InterMedium500,\n    color: '#00204DB2',\n  },\n  row: {\n    flexDirection: 'row',\n    marginRight: SizeDP(100),\n  },\n  cell: {\n    minWidth: SizeDP(100),\n    padding: SizeDP(10),\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  cellText: {\n    textAlign: 'left',\n    fontSize: FontSize.FontTiny,\n    fontFamily: Font.InterRegular400,\n    color: '#00204DCC',\n  },\n  box: {\n    shadowColor: '#2D3239',\n    shadowOffset: {width: -1, height: 0}, // -1px 0px\n    shadowOpacity: 0.1, // Dựa trên giá trị alpha của màu (0F trong mã hex = 15 trong hệ thập phân, tương đương với 0.1 opacity)\n    shadowRadius: 6, // 6px\n    elevation: 3, // Chỉ dành cho Android để tạo đổ bóng\n  },\n});\n","import {SafeAreaView} from 'react-native-safe-area-context';\nimport WebView, {WebViewMessageEvent} from 'react-native-webview';\nimport {String} from '../../../constants';\nimport {Alert, View} from 'react-native';\nimport ButtonCM from '../Button';\nimport styles from './styles';\nimport {useEffect, useRef, useState} from 'react';\nimport {useAppSelector} from '../../../hooks/useRedux';\nimport TextCM from '../Text';\nimport {SizeDP} from '../../../constants/Size';\nimport {DateUtils} from '../../../utils';\nimport Toast from 'react-native-toast-message';\nimport {useReviewServices} from '../../../hooks/apiHooks/useReviewTicketServices';\nimport {useTranslation} from 'react-i18next';\nimport {getConfig} from '../../../services/httpClient';\nimport HeaderCM from '../Header/HeaderCM';\nimport {OverflowMenuCM} from '../OverflowMenu';\nimport {Divider, IndexPath} from '@ui-kitten/components';\ninterface IData {\n  _userTaskId: string;\n  _ticketId: string;\n  formId: string;\n}\n\ntype Props = {\n  versionId: any;\n  data: IData;\n  readOnly: boolean;\n  isShowNoti?: boolean;\n  isOnlyView?: boolean;\n  viewFromDoc?: boolean;\n  onClose: () => void;\n  handleSubmit?: () => void;\n  nameHeader: string;\n  envelopeEnvNo?: string;\n};\n\nconst ViewFormScreen = ({\n  versionId,\n  isShowNoti = false,\n  data,\n  readOnly,\n  isOnlyView,\n  viewFromDoc = false,\n  onClose,\n  handleSubmit,\n  nameHeader,\n  envelopeEnvNo,\n}: Props) => {\n  const {t} = useTranslation();\n  const webviewRef = useRef<WebView>(null);\n\n  const {accessToken} = useAppSelector(state => state.common);\n\n  const [versionFromSelect, setVersionFromSelect] = useState<any>();\n  const [listFrom, setListFrom] = useState<any[]>([]);\n  const [isDisable, setIsDisable] = useState<boolean>(true);\n  const [selectedIndex, setSelectedIndex] = useState<IndexPath | undefined>();\n  const [isSaveFormNotSubmitted, setIsSaveFormNotSubmitted] = useState(false);\n  const [isLoadingSave, setIsLoadingSave] = useState<boolean>(false);\n  const [isLoadingSubmit, setIsLoadingSubmit] = useState<boolean>(false);\n  const [isTypeForm, setIsTypeForm] = useState<'save' | 'submit'>();\n  const ReviewTicketServices = useReviewServices();\n  useEffect(() => {\n    if (isShowNoti) {\n      Alert.alert(t('CM.noti'), t('CM.pleaseFillForm'));\n    }\n  }, []);\n\n  const getValueDataForm = async (version: any) => {\n    const body = {\n      userTaskId: data._userTaskId,\n      ticketId: data._ticketId,\n      version: version,\n    };\n    const dataResp =\n      await ReviewTicketServices.getFormVersionByTicketAndUserTaskId(\n        body,\n        accessToken,\n      );\n    if (dataResp) {\n      if (version === null) {\n        const listForm = Array.from(\n          Array(Math.ceil(dataResp.versionUserTask)),\n        ).map((item, idx) => idx + 1);\n        const filterList = listForm.map((i, index) => ({\n          id: i,\n          key: `${t('CM.version')} ` + i,\n          value: `${t('CM.version')} ` + i,\n        }));\n        setListFrom(filterList);\n        setVersionFromSelect(filterList[filterList.length - 1]);\n      }\n    }\n    return dataResp;\n  };\n\n  const handleOnMessage = async (message: WebViewMessageEvent) => {\n    if (viewFromDoc) return;\n    const dataWebview = message.nativeEvent.data as any;\n    if (!dataWebview || typeof dataWebview !== 'string') return;\n    const dataWebviewJson = JSON.parse(dataWebview);\n    if (dataWebviewJson?.result === 'e-from') {\n      patchValue(null);\n    } else if (dataWebviewJson?.result === 'result') {\n      try {\n        if (isTypeForm === 'save') {\n          setIsLoadingSave(true);\n        } else {\n          setIsLoadingSubmit(true);\n        }\n        const newData = dataWebviewJson?.data.map((item: any) => ({\n          ...item,\n          dataType: convertTypeField(item),\n          typeForm: item.type,\n          value: item.value,\n        }));\n\n        const body = {\n          formData: newData,\n          ticketId: data._ticketId,\n          userTaskId: data._userTaskId,\n          version: versionId,\n          eformId: data.formId,\n        };\n        const dataResp = await ReviewTicketServices.updateFormData(\n          body,\n          accessToken,\n        );\n        if (dataResp) {\n          Toast.show({\n            type: 'success',\n            text1: t('CM.noti'),\n            text2: t('CM.fillFormSuccess'),\n          });\n          if (!isSaveFormNotSubmitted) {\n            handleSubmit && handleSubmit();\n          }\n          onClose();\n        } else {\n          Toast.show({\n            type: 'error',\n            text1: t('CM.noti'),\n            text2: t('CM.fillFormFailure'),\n          });\n        }\n      } catch (error) {\n      } finally {\n        setIsLoadingSave(false);\n        setIsLoadingSubmit(false);\n      }\n    }\n  };\n\n  const convertTypeField = (item: any) => {\n    if (\n      [\n        'textField',\n        'textArea',\n        'password',\n        'email',\n        'phone_number',\n        'radio_button',\n        'upload_file',\n        'upload_img',\n        'hyperlink',\n        'datepicker',\n        'signature',\n      ].includes(item.type)\n    ) {\n      return 'String';\n    } else if (item.type === 'number') {\n      return 'Number';\n    }\n    //  else if (item.type === 'datepicker') {\n    //   return 'Date';\n    // }\n    else if (['check_box', 'dropdown'].includes(item.type)) {\n      if (\n        (item.type === 'dropdown' && item.validate.mutilChoose) ||\n        item.type === 'check_box'\n      ) {\n        return 'List';\n      }\n      return 'String';\n    }\n    return null;\n  };\n\n  const patchValue = async (version: any) => {\n    const data = await getValueDataForm(version);\n    if (data) {\n      let dataFrom = data?.formData;\n      if (dataFrom && envelopeEnvNo) {\n        dataFrom.forEach((field: any) => {\n          if (field.code === 'eContractEnvelopEnvNo') {\n            field.value = envelopeEnvNo;\n          }\n        });\n      }\n      dataFrom = dataFrom?.filter((d: any) => d.value);\n      const formData = JSON.stringify({\n        type: 'postFormEdit',\n        isReadonly: readOnly,\n        data: dataFrom,\n      });\n      const scriptJSX = `window.postMessage('${formData\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/'/g, \"\\\\'\")}', '*');`;\n      webviewRef?.current?.injectJavaScript(scriptJSX);\n    }\n  };\n\n  const renderDropdown = () => {\n    return (\n      <View style={styles.version}>\n        <TextCM>{versionFromSelect?.value}</TextCM>\n      </View>\n    );\n  };\n\n  const handleSaveInfo = () => {\n    setIsSaveFormNotSubmitted(true);\n    setIsTypeForm('save');\n    const dataSubmit = JSON.stringify({\n      result: 'submit',\n    });\n    const scriptJSX = `window.postMessage('${dataSubmit}', '*');`;\n    webviewRef?.current?.injectJavaScript(scriptJSX);\n  };\n\n  const handleSaveInfoAndSubmit = () => {\n    setIsSaveFormNotSubmitted(false);\n    setIsTypeForm('submit');\n    const dataSubmit = JSON.stringify({\n      result: 'submit',\n    });\n    const scriptJSX = `window.postMessage('${dataSubmit}', '*');`;\n    webviewRef?.current?.injectJavaScript(scriptJSX);\n  };\n\n  return (\n    <SafeAreaView\n      edges={['bottom', 'top']}\n      style={{flex: 1, backgroundColor: '#fff'}}>\n      <HeaderCM\n        style={{\n          backgroundColor: '#fff',\n        }}\n        titleStyle={{\n          color: '#00204D',\n        }}\n        fillIconBackLeft=\"#00204DB2\"\n        contentStyle={{\n          backgroundColor: '#fff',\n        }}\n        title={nameHeader}\n        onPressIconLeft={onClose}\n      />\n      <Divider />\n      {listFrom.length > 0 && !isOnlyView && !readOnly && (\n        <View\n          style={{\n            padding: 16,\n            alignItems: 'center',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            paddingHorizontal: SizeDP(16),\n          }}>\n          <TextCM>{t('CM.selectVersion')}</TextCM>\n          <OverflowMenuCM\n            selectedIndex={selectedIndex}\n            listData={listFrom}\n            setSelectedIndex={(item: IndexPath | undefined) => {\n              if (item) {\n                setSelectedIndex(item);\n                setVersionFromSelect(listFrom[item?.row]);\n                patchValue(listFrom[item?.row]?.id);\n              }\n            }}\n            selectedTitle={renderDropdown()}\n          />\n        </View>\n      )}\n      <WebView\n        nestedScrollEnabled={true}\n        ref={webviewRef}\n        onMessage={handleOnMessage}\n        startInLoadingState\n        injectedJavaScript={String.SCRIPT_SCALE_WEBVIEW}\n        allowsInlineMediaPlayback={true}\n        mediaPlaybackRequiresUserAction={false}\n        domStorageEnabled={true}\n        javaScriptEnabled={true}\n        thirdPartyCookiesEnabled={true}\n        source={{\n          uri: getConfig().BASE_URL_FORM + versionId,\n        }}\n        onLoadEnd={() => setIsDisable(false)}\n        webviewDebuggingEnabled\n      />\n      <View style={styles.ctnFooter}>\n        {!isOnlyView && !readOnly && (\n          <ButtonCM\n            disabled={isDisable}\n            style={{flex: 1, backgroundColor: '#f2ecfd'}}\n            styleLabel={{\n              color: '#6d1fad',\n            }}\n            label={t('CM.save')}\n            loading={isLoadingSave}\n            onPress={handleSaveInfo}\n          />\n        )}\n        {!isOnlyView && !readOnly && (\n          <ButtonCM\n            label={t('CM.confirm')}\n            style={{flex: 1}}\n            styleLabel={{\n              color: '#fff',\n            }}\n            loading={isLoadingSubmit}\n            onPress={handleSaveInfoAndSubmit}\n          />\n        )}\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default ViewFormScreen;\n","import {StyleSheet} from 'react-native';\nimport {SizeDP} from '../../../constants/Size';\n\nexport default StyleSheet.create({\n  ctnFooter: {\n    flexDirection: 'row',\n    paddingHorizontal: SizeDP(16),\n    columnGap: SizeDP(16),\n    marginTop: SizeDP(8),\n  },\n\n  version: {\n    borderWidth: SizeDP(1),\n    borderColor: 'rgba(0, 53, 128, .35)',\n    borderRadius: SizeDP(8),\n    paddingHorizontal: SizeDP(8),\n    paddingVertical: SizeDP(5),\n  },\n});\n"],"names":["_reactNative","require","_Text","_interopRequireDefault","_reactNativeMarkdownDisplay","_jsxRuntime","exports","_ref","itemChat","handleSendChat","jsxs","View","style","marginBottom","backgroundColor","userId","borderRadius","paddingHorizontal","paddingVertical","maxWidth","alignSelf","justifyContent","children","jsx","default","message","color","Pressable","onPress","_createClass2","IAIResponseClass","data","_classCallCheck2","this","id","Date","now","Math","floor","random","conversationId","reply","sequence","pushNotify","status","custId","orgIn","createdDate","toISOString","createdBy","lastModifiedDate","lastModifiedBy","feedback","voteValue","idResponseAi","Object","assign","onClose","userTaskId","ticketId","_useState","useState","_useState2","_slicedToArray2","chat","setChat","_useState3","_useState4","setConversationId","_useState5","_useState6","listInitQuestion","setListInitQuestion","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","isRefreshing","setIsRefreshing","_useState11","_useState12","page","setPage","_useState13","_useState14","totalPage","setTotalPage","_useAIStore","useAIStore","listAIResponse","addListAIResponse","setListAIResponse","getListAIResponse","dataAccount","useAppSelector","state","account","AIServices","useAIServices","refFlatList","useRef","useEffect","getMessageInit","length","current","setTimeout","_refFlatList$current","scrollToEnd","animated","_ref2","_asyncToGenerator2","_dataResp$data$","params","size","SIZE","dataResp","getMessage","concat","_toConsumableArray2","ceil","totalData","listQuestion","map","question","email","error","_x","apply","arguments","_ref3","trim","handleCreateQuestionChat","_refFlatList$current2","body","sendMessage","Keyboard","dismiss","_x2","KeyboardAvoidingView","keyboardVerticalOffset","behavior","Platform","OS","flex","TouchableWithoutFeedback","Fragment","_HeaderCM","contentStyle","titleStyle","fillIconBackLeft","onPressIconLeft","title","_components","Divider","styles","FlatList","ref","showsVerticalScrollIndicator","keyExtractor","index","renderItem","_ref4","item","_chatBubble","onEndReachedThreshold","onRefresh","refreshing","onEndReached","Spinner","_ref5","footer","_InputCM","value","onChangeText","placeholder","onFocus","_refFlatList$current3","scrollToIndex","TouchableOpacity","hitSlop","_images","IconSend","width","height","_react","e","r","__esModule","t","_getRequireWildcardCache","has","get","n","__proto__","a","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_interopRequireWildcard","_storeChat","_useAPI","_helper","_useRedux","_styles","WeakMap","StyleSheet","create","flexDirection","alignItems","columnGap","paddingTop","_zustand","initialSettingState","newListAIResponse","offsetY","useSharedValue","insets","useSafeAreaInsets","heightValue","useWindowDimensions","isVisableChat","setIsVisableChat","pan","Gesture","Pan","onChange","anonymous","event","changeY","__closure","__workletHash","__initData","_worklet_8757107868020_init_data","onFinalize","withDecay","velocity","velocityY","rubberBandEffect","deceleration","velocityFactor","rubberBandFactor","reduceMotion","ReduceMotion","System","clamp","top","min","_worklet_4915333147964_init_data","animatedStyles","useAnimatedStyle","transform","translateY","_worklet_10097552554988_init_data","_reactNativeGestureHandler","GestureHandlerRootView","container","bottom","onLayout","nativeEvent","layout","wrapper","GestureDetector","gesture","_reactNativeReanimated","box","fontSize","_ModalFullScreen","isVisible","_chat","ChatMessage","_reactNativeSafeAreaContext","code","position","right","borderTopLeftRadius","borderBottomLeftRadius","padding","_reactNativeImageCropPicker","TakePhoto","options","_ref$width","_ref$height","_ref$cropping","cropping","includeBase64Enabled","freeStyleCropEnabled","cropperCircleOverlayEnabled","useFrontCameraEnabled","Promise","resolve","reject","ImagePicker","openCamera","includeBase64","cropperCircleOverlay","useFrontCamera","then","image","catch","ChoosePhoto","_ref2$width","_ref2$height","_ref2$cropping","multipleEnabled","openPicker","multiple","mediaType","SafeAreaView","edges","_reactI18next","_ref$listData","listData","_ref$selectedIndex","selectedIndex","undefined","_ref$selectedTitle","selectedTitle","setSelectedIndex","renderSelected","useTranslation","visible","setVisible","OverflowMenu","anchor","onSelect","onBackdropPress","MenuItem","accessoryLeft","icon","_Size","collectionSize","pageSize","currentPage","onPageChange","Array","from","idx","totalPages","setTotalPages","createPaginationArray","array","beforePage","max","afterPage","plength","push","selectPageNumber","pageNumber","ctnMain","previousPage","ctnText","rotate","SizeDP","IconArrowGrey","ctnSelect","numb","nextPage","marginHorizontal","minWidth","tableHeaders","tableData","_ref$stickyColumnLeft","stickyColumnLeftIndex","stickyLeft","stickyColumnRightIndex","stickyRight","isPaging","widthOfStickey","setWidthOfStickey","tableBody","slice","reverse","header","stickyColumnScroll","stickyHeader","headerText","rowData","stickyColumn","cellText","ScrollView","horizontal","row","marginRight","_constants","zIndex","borderTopWidth","borderBottomWidth","borderColor","minHeight","headerRow","headerCell","FontSize","FontTiny","fontFamily","Font","InterMedium500","cell","textAlign","InterRegular400","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","_reactNativeWebview","_Button","_reactNativeToastMessage","_useReviewTicketServices","_httpClient","_OverflowMenu","versionId","_ref$isShowNoti","isShowNoti","readOnly","isOnlyView","_ref$viewFromDoc","viewFromDoc","handleSubmit","nameHeader","envelopeEnvNo","webviewRef","accessToken","common","versionFromSelect","setVersionFromSelect","listFrom","setListFrom","isDisable","setIsDisable","isSaveFormNotSubmitted","setIsSaveFormNotSubmitted","isLoadingSave","setIsLoadingSave","isLoadingSubmit","setIsLoadingSubmit","_useState15","_useState16","isTypeForm","setIsTypeForm","ReviewTicketServices","useReviewServices","Alert","alert","getValueDataForm","version","_userTaskId","_ticketId","getFormVersionByTicketAndUserTaskId","filterList","versionUserTask","key","handleOnMessage","dataWebview","dataWebviewJson","JSON","parse","result","patchValue","formData","dataType","convertTypeField","typeForm","type","eformId","formId","updateFormData","Toast","show","text1","text2","includes","validate","mutilChoose","_dataFrom","_webviewRef$current","dataFrom","forEach","field","filter","d","scriptJSX","stringify","isReadonly","replace","injectJavaScript","_x3","OverflowMenuCM","_listFrom$item$row","nestedScrollEnabled","onMessage","startInLoadingState","injectedJavaScript","String","SCRIPT_SCALE_WEBVIEW","allowsInlineMediaPlayback","mediaPlaybackRequiresUserAction","domStorageEnabled","javaScriptEnabled","thirdPartyCookiesEnabled","source","uri","getConfig","BASE_URL_FORM","onLoadEnd","webviewDebuggingEnabled","ctnFooter","disabled","styleLabel","label","loading","_webviewRef$current2","_webviewRef$current3","marginTop","borderWidth"],"sourceRoot":""}